var Yr=Object.assign;import{c as V}from"./vendor.352e3120.js";import{aH as xe,d as Te,w as Hr,ap as Fe,D as wr,o as zr,n as Or,aI as Ie}from"./index.ff8e7350.js";import{d as Re}from"./download.ff10bfc9.js";var Se=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},_e={}.toString,yr=Array.isArray||function(f){return _e.call(f)=="[object Array]"};function Ue(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},f.foo()===42}catch(e){return!1}}x.TYPED_ARRAY_SUPPORT=Ue();var Jr=x.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function x(f,e,i){return!x.TYPED_ARRAY_SUPPORT&&!(this instanceof x)?new x(f,e,i):typeof f=="number"?Kr(this,f):ke(this,f,e,i)}x.TYPED_ARRAY_SUPPORT&&(x.prototype.__proto__=Uint8Array.prototype,x.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&x[Symbol.species]===x&&Object.defineProperty(x,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function vr(f){if(f>=Jr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Jr.toString(16)+" bytes");return f|0}function be(f){return f!==f}function q(f,e){var i;return x.TYPED_ARRAY_SUPPORT?(i=new Uint8Array(e),i.__proto__=x.prototype):(i=f,i===null&&(i=new x(e)),i.length=e),i}function Kr(f,e){var i=q(f,e<0?0:vr(e)|0);if(!x.TYPED_ARRAY_SUPPORT)for(var a=0;a<e;++a)i[a]=0;return i}function Me(f,e){var i=Wr(e)|0,a=q(f,i),o=a.write(e);return o!==i&&(a=a.slice(0,o)),a}function mr(f,e){for(var i=e.length<0?0:vr(e.length)|0,a=q(f,i),o=0;o<i;o+=1)a[o]=e[o]&255;return a}function Le(f,e,i,a){if(i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(a||0))throw new RangeError("'length' is out of bounds");var o;return i===void 0&&a===void 0?o=new Uint8Array(e):a===void 0?o=new Uint8Array(e,i):o=new Uint8Array(e,i,a),x.TYPED_ARRAY_SUPPORT?o.__proto__=x.prototype:o=mr(f,o),o}function Pe(f,e){if(x.isBuffer(e)){var i=vr(e.length)|0,a=q(f,i);return a.length===0||e.copy(a,0,0,i),a}if(e){if(typeof ArrayBuffer!="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||be(e.length)?q(f,0):mr(f,e);if(e.type==="Buffer"&&Array.isArray(e.data))return mr(f,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Vr(f,e){e=e||Infinity;for(var i,a=f.length,o=null,u=[],n=0;n<a;++n){if(i=f.charCodeAt(n),i>55295&&i<57344){if(!o){if(i>56319){(e-=3)>-1&&u.push(239,191,189);continue}else if(n+1===a){(e-=3)>-1&&u.push(239,191,189);continue}o=i;continue}if(i<56320){(e-=3)>-1&&u.push(239,191,189),o=i;continue}i=(o-55296<<10|i-56320)+65536}else o&&(e-=3)>-1&&u.push(239,191,189);if(o=null,i<128){if((e-=1)<0)break;u.push(i)}else if(i<2048){if((e-=2)<0)break;u.push(i>>6|192,i&63|128)}else if(i<65536){if((e-=3)<0)break;u.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((e-=4)<0)break;u.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return u}function Wr(f){if(x.isBuffer(f))return f.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(f)||f instanceof ArrayBuffer))return f.byteLength;typeof f!="string"&&(f=""+f);var e=f.length;return e===0?0:Vr(f).length}function Ne(f,e,i,a){for(var o=0;o<a&&!(o+i>=e.length||o>=f.length);++o)e[o+i]=f[o];return o}function De(f,e,i,a){return Ne(Vr(e,f.length-i),f,i,a)}function ke(f,e,i,a){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer?Le(f,e,i,a):typeof e=="string"?Me(f,e):Pe(f,e)}x.prototype.write=function(e,i,a){i===void 0?(a=this.length,i=0):a===void 0&&typeof i=="string"?(a=this.length,i=0):isFinite(i)&&(i=i|0,isFinite(a)?a=a|0:a=void 0);var o=this.length-i;if((a===void 0||a>o)&&(a=o),e.length>0&&(a<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");return De(this,e,i,a)},x.prototype.slice=function(e,i){var a=this.length;e=~~e,i=i===void 0?a:~~i,e<0?(e+=a,e<0&&(e=0)):e>a&&(e=a),i<0?(i+=a,i<0&&(i=0)):i>a&&(i=a),i<e&&(i=e);var o;if(x.TYPED_ARRAY_SUPPORT)o=this.subarray(e,i),o.__proto__=x.prototype;else{var u=i-e;o=new x(u,void 0);for(var n=0;n<u;++n)o[n]=this[n+e]}return o},x.prototype.copy=function(e,i,a,o){if(a||(a=0),!o&&o!==0&&(o=this.length),i>=e.length&&(i=e.length),i||(i=0),o>0&&o<a&&(o=a),o===a||e.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-i<o-a&&(o=e.length-i+a);var u=o-a,n;if(this===e&&a<i&&i<o)for(n=u-1;n>=0;--n)e[n+i]=this[n+a];else if(u<1e3||!x.TYPED_ARRAY_SUPPORT)for(n=0;n<u;++n)e[n+i]=this[n+a];else Uint8Array.prototype.set.call(e,this.subarray(a,a+u),i);return u},x.prototype.fill=function(e,i,a){if(typeof e=="string"){if(typeof i=="string"?(i=0,a=this.length):typeof a=="string"&&(a=this.length),e.length===1){var o=e.charCodeAt(0);o<256&&(e=o)}}else typeof e=="number"&&(e=e&255);if(i<0||this.length<i||this.length<a)throw new RangeError("Out of range index");if(a<=i)return this;i=i>>>0,a=a===void 0?this.length:a>>>0,e||(e=0);var u;if(typeof e=="number")for(u=i;u<a;++u)this[u]=e;else{var n=x.isBuffer(e)?e:new x(e),g=n.length;for(u=0;u<a-i;++u)this[u+i]=n[u%g]}return this},x.concat=function(e,i){if(!yr(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return q(null,0);var a;if(i===void 0)for(i=0,a=0;a<e.length;++a)i+=e[a].length;var o=Kr(null,i),u=0;for(a=0;a<e.length;++a){var n=e[a];if(!x.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(o,u),u+=n.length}return o},x.byteLength=Wr,x.prototype._isBuffer=!0,x.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};var Ye=function(f){var e=new x(f);return e.fill(0),e},He=function(f){return new x(f)},z={alloc:Ye,from:He},Er,ze=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Oe=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},Je=function(e){return ze[e]},Ke=function(f){for(var e=0;f!==0;)e++,f>>>=1;return e},Ve=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Er=e},We=function(){return typeof Er!="undefined"},Ge=function(e){return Er(e)},P={getSymbolSize:Oe,getSymbolTotalCodewords:Je,getBCHDigit:Ke,setToSJISFunction:Ve,isKanjiModeEnabled:We,toSJIS:Ge},H=V(function(f,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function i(a){if(typeof a!="string")throw new Error("Param is not a string");var o=a.toLowerCase();switch(o){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+a)}}e.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},e.from=function(o,u){if(e.isValid(o))return o;try{return i(o)}catch(n){return u}}});function Gr(){this.buffer=[],this.length=0}Gr.prototype={get:function(f){var e=Math.floor(f/8);return(this.buffer[e]>>>7-f%8&1)==1},put:function(f,e){for(var i=0;i<e;i++)this.putBit((f>>>e-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(f){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),f&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Qe=Gr;function tr(f){if(!f||f<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=f,this.data=z.alloc(f*f),this.reservedBit=z.alloc(f*f)}tr.prototype.set=function(f,e,i,a){var o=f*this.size+e;this.data[o]=i,a&&(this.reservedBit[o]=!0)},tr.prototype.get=function(f,e){return this.data[f*this.size+e]},tr.prototype.xor=function(f,e,i){this.data[f*this.size+e]^=i},tr.prototype.isReserved=function(f,e){return this.reservedBit[f*this.size+e]};var qe=tr,Xe=V(function(f,e){var i=P.getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];for(var u=Math.floor(o/7)+2,n=i(o),g=n===145?26:Math.ceil((n-13)/(2*u-2))*2,c=[n-7],d=1;d<u-1;d++)c[d]=c[d-1]-g;return c.push(6),c.reverse()},e.getPositions=function(o){for(var u=[],n=e.getRowColCoords(o),g=n.length,c=0;c<g;c++)for(var d=0;d<g;d++)c===0&&d===0||c===0&&d===g-1||c===g-1&&d===0||u.push([n[c],n[d]]);return u}}),Ze=P.getSymbolSize,Qr=7,$e=function(e){var i=Ze(e);return[[0,0],[i-Qr,0],[0,i-Qr]]},je={getPositions:$e},Br=V(function(f,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var i={N1:3,N2:3,N3:40,N4:10};e.isValid=function(u){return u!=null&&u!==""&&!isNaN(u)&&u>=0&&u<=7},e.from=function(u){return e.isValid(u)?parseInt(u,10):void 0},e.getPenaltyN1=function(u){for(var n=u.size,g=0,c=0,d=0,p=null,w=null,E=0;E<n;E++){c=d=0,p=w=null;for(var m=0;m<n;m++){var B=u.get(E,m);B===p?c++:(c>=5&&(g+=i.N1+(c-5)),p=B,c=1),B=u.get(m,E),B===w?d++:(d>=5&&(g+=i.N1+(d-5)),w=B,d=1)}c>=5&&(g+=i.N1+(c-5)),d>=5&&(g+=i.N1+(d-5))}return g},e.getPenaltyN2=function(u){for(var n=u.size,g=0,c=0;c<n-1;c++)for(var d=0;d<n-1;d++){var p=u.get(c,d)+u.get(c,d+1)+u.get(c+1,d)+u.get(c+1,d+1);(p===4||p===0)&&g++}return g*i.N2},e.getPenaltyN3=function(u){for(var n=u.size,g=0,c=0,d=0,p=0;p<n;p++){c=d=0;for(var w=0;w<n;w++)c=c<<1&2047|u.get(p,w),w>=10&&(c===1488||c===93)&&g++,d=d<<1&2047|u.get(w,p),w>=10&&(d===1488||d===93)&&g++}return g*i.N3},e.getPenaltyN4=function(u){for(var n=0,g=u.data.length,c=0;c<g;c++)n+=u.data[c];var d=Math.abs(Math.ceil(n*100/g/5)-10);return d*i.N4};function a(o,u,n){switch(o){case e.Patterns.PATTERN000:return(u+n)%2==0;case e.Patterns.PATTERN001:return u%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(u+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(u/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return u*n%2+u*n%3==0;case e.Patterns.PATTERN110:return(u*n%2+u*n%3)%2==0;case e.Patterns.PATTERN111:return(u*n%3+(u+n)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(u,n){for(var g=n.size,c=0;c<g;c++)for(var d=0;d<g;d++)n.isReserved(d,c)||n.xor(d,c,a(u,d,c))},e.getBestMask=function(u,n){for(var g=Object.keys(e.Patterns).length,c=0,d=Infinity,p=0;p<g;p++){n(p),e.applyMask(p,u);var w=e.getPenaltyN1(u)+e.getPenaltyN2(u)+e.getPenaltyN3(u)+e.getPenaltyN4(u);e.applyMask(p,u),w<d&&(d=w,c=p)}return c}}),ur=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],fr=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],rt=function(e,i){switch(i){case H.L:return ur[(e-1)*4+0];case H.M:return ur[(e-1)*4+1];case H.Q:return ur[(e-1)*4+2];case H.H:return ur[(e-1)*4+3];default:return}},et=function(e,i){switch(i){case H.L:return fr[(e-1)*4+0];case H.M:return fr[(e-1)*4+1];case H.Q:return fr[(e-1)*4+2];case H.H:return fr[(e-1)*4+3];default:return}},hr={getBlocksCount:rt,getTotalCodewordsCount:et},nr=z.alloc(512),lr=z.alloc(256);(function(){for(var e=1,i=0;i<255;i++)nr[i]=e,lr[e]=i,e<<=1,e&256&&(e^=285);for(i=255;i<512;i++)nr[i]=nr[i-255]})();for(var tt=function(e){if(e<1)throw new Error("log("+e+")");return lr[e]},nt=function(e){return nr[e]},it=function(e,i){return e===0||i===0?0:nr[lr[e]+lr[i]]},Ar={log:tt,exp:nt,mul:it},qr=V(function(f,e){e.mul=function(a,o){for(var u=z.alloc(a.length+o.length-1),n=0;n<a.length;n++)for(var g=0;g<o.length;g++)u[n+g]^=Ar.mul(a[n],o[g]);return u},e.mod=function(a,o){for(var u=z.from(a);u.length-o.length>=0;){for(var n=u[0],g=0;g<o.length;g++)u[g]^=Ar.mul(o[g],n);for(var c=0;c<u.length&&u[c]===0;)c++;u=u.slice(c)}return u},e.generateECPolynomial=function(a){for(var o=z.from([1]),u=0;u<a;u++)o=e.mul(o,[1,Ar.exp(u)]);return o}}),ot=lt,at=ct,ut=dt,G=[],O=[],ft=typeof Uint8Array!="undefined"?Uint8Array:Array,Cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=0,ht=Cr.length;X<ht;++X)G[X]=Cr[X],O[Cr.charCodeAt(X)]=X;O["-".charCodeAt(0)]=62,O["_".charCodeAt(0)]=63;function Xr(f){var e=f.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=f.indexOf("=");i===-1&&(i=e);var a=i===e?0:4-i%4;return[i,a]}function lt(f){var e=Xr(f),i=e[0],a=e[1];return(i+a)*3/4-a}function st(f,e,i){return(e+i)*3/4-i}function ct(f){var e,i=Xr(f),a=i[0],o=i[1],u=new ft(st(f,a,o)),n=0,g=o>0?a-4:a,c;for(c=0;c<g;c+=4)e=O[f.charCodeAt(c)]<<18|O[f.charCodeAt(c+1)]<<12|O[f.charCodeAt(c+2)]<<6|O[f.charCodeAt(c+3)],u[n++]=e>>16&255,u[n++]=e>>8&255,u[n++]=e&255;return o===2&&(e=O[f.charCodeAt(c)]<<2|O[f.charCodeAt(c+1)]>>4,u[n++]=e&255),o===1&&(e=O[f.charCodeAt(c)]<<10|O[f.charCodeAt(c+1)]<<4|O[f.charCodeAt(c+2)]>>2,u[n++]=e>>8&255,u[n++]=e&255),u}function gt(f){return G[f>>18&63]+G[f>>12&63]+G[f>>6&63]+G[f&63]}function pt(f,e,i){for(var a,o=[],u=e;u<i;u+=3)a=(f[u]<<16&16711680)+(f[u+1]<<8&65280)+(f[u+2]&255),o.push(gt(a));return o.join("")}function dt(f){for(var e,i=f.length,a=i%3,o=[],u=16383,n=0,g=i-a;n<g;n+=u)o.push(pt(f,n,n+u>g?g:n+u));return a===1?(e=f[i-1],o.push(G[e>>2]+G[e<<4&63]+"==")):a===2&&(e=(f[i-2]<<8)+f[i-1],o.push(G[e>>10]+G[e>>4&63]+G[e<<2&63]+"=")),o.join("")}var xr={byteLength:ot,toByteArray:at,fromByteArray:ut};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var wt=function(f,e,i,a,o){var u,n,g=o*8-a-1,c=(1<<g)-1,d=c>>1,p=-7,w=i?o-1:0,E=i?-1:1,m=f[e+w];for(w+=E,u=m&(1<<-p)-1,m>>=-p,p+=g;p>0;u=u*256+f[e+w],w+=E,p-=8);for(n=u&(1<<-p)-1,u>>=-p,p+=a;p>0;n=n*256+f[e+w],w+=E,p-=8);if(u===0)u=1-d;else{if(u===c)return n?NaN:(m?-1:1)*Infinity;n=n+Math.pow(2,a),u=u-d}return(m?-1:1)*n*Math.pow(2,u-a)},yt=function(f,e,i,a,o,u){var n,g,c,d=u*8-o-1,p=(1<<d)-1,w=p>>1,E=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=a?0:u-1,B=a?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(g=isNaN(e)?1:0,n=p):(n=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-n))<1&&(n--,c*=2),n+w>=1?e+=E/c:e+=E*Math.pow(2,1-w),e*c>=2&&(n++,c/=2),n+w>=p?(g=0,n=p):n+w>=1?(g=(e*c-1)*Math.pow(2,o),n=n+w):(g=e*Math.pow(2,w-1)*Math.pow(2,o),n=0));o>=8;f[i+m]=g&255,m+=B,g/=256,o-=8);for(n=n<<o|g,d+=o;d>0;f[i+m]=n&255,m+=B,n/=256,d-=8);f[i+m-B]|=C*128},Z={read:wt,write:yt};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var vt=V(function(f,e){var i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=n,e.SlowBuffer=M,e.INSPECT_MAX_BYTES=50;var a=2147483647;e.kMaxLength=a,n.TYPED_ARRAY_SUPPORT=o(),!n.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var h=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(h,r),h.foo()===42}catch(t){return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(!!n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(!!n.isBuffer(this))return this.byteOffset}});function u(h){if(h>a)throw new RangeError('The value "'+h+'" is invalid for option "size"');var r=new Uint8Array(h);return Object.setPrototypeOf(r,n.prototype),r}function n(h,r,t){if(typeof h=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(h)}return g(h,r,t)}n.poolSize=8192;function g(h,r,t){if(typeof h=="string")return w(h,r);if(ArrayBuffer.isView(h))return m(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(W(h,ArrayBuffer)||h&&W(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(W(h,SharedArrayBuffer)||h&&W(h.buffer,SharedArrayBuffer)))return B(h,r,t);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var l=h.valueOf&&h.valueOf();if(l!=null&&l!==h)return n.from(l,r,t);var s=C(h);if(s)return s;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return n.from(h[Symbol.toPrimitive]("string"),r,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}n.from=function(h,r,t){return g(h,r,t)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function c(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function d(h,r,t){return c(h),h<=0?u(h):r!==void 0?typeof t=="string"?u(h).fill(r,t):u(h).fill(r):u(h)}n.alloc=function(h,r,t){return d(h,r,t)};function p(h){return c(h),u(h<0?0:F(h)|0)}n.allocUnsafe=function(h){return p(h)},n.allocUnsafeSlow=function(h){return p(h)};function w(h,r){if((typeof r!="string"||r==="")&&(r="utf8"),!n.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var t=_(h,r)|0,l=u(t),s=l.write(h,r);return s!==t&&(l=l.slice(0,s)),l}function E(h){for(var r=h.length<0?0:F(h.length)|0,t=u(r),l=0;l<r;l+=1)t[l]=h[l]&255;return t}function m(h){if(W(h,Uint8Array)){var r=new Uint8Array(h);return B(r.buffer,r.byteOffset,r.byteLength)}return E(h)}function B(h,r,t){if(r<0||h.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<r+(t||0))throw new RangeError('"length" is outside of buffer bounds');var l;return r===void 0&&t===void 0?l=new Uint8Array(h):t===void 0?l=new Uint8Array(h,r):l=new Uint8Array(h,r,t),Object.setPrototypeOf(l,n.prototype),l}function C(h){if(n.isBuffer(h)){var r=F(h.length)|0,t=u(r);return t.length===0||h.copy(t,0,0,r),t}if(h.length!==void 0)return typeof h.length!="number"||dr(h.length)?u(0):E(h);if(h.type==="Buffer"&&Array.isArray(h.data))return E(h.data)}function F(h){if(h>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return h|0}function M(h){return+h!=h&&(h=0),n.alloc(+h)}n.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==n.prototype},n.compare=function(r,t){if(W(r,Uint8Array)&&(r=n.from(r,r.offset,r.byteLength)),W(t,Uint8Array)&&(t=n.from(t,t.offset,t.byteLength)),!n.isBuffer(r)||!n.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===t)return 0;for(var l=r.length,s=t.length,y=0,v=Math.min(l,s);y<v;++y)if(r[y]!==t[y]){l=r[y],s=t[y];break}return l<s?-1:s<l?1:0},n.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return n.alloc(0);var l;if(t===void 0)for(t=0,l=0;l<r.length;++l)t+=r[l].length;var s=n.allocUnsafe(t),y=0;for(l=0;l<r.length;++l){var v=r[l];if(W(v,Uint8Array))y+v.length>s.length?n.from(v).copy(s,y):Uint8Array.prototype.set.call(s,v,y);else if(n.isBuffer(v))v.copy(s,y);else throw new TypeError('"list" argument must be an Array of Buffers');y+=v.length}return s};function _(h,r){if(n.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||W(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);var t=h.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&t===0)return 0;for(var s=!1;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return pr(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Nr(h).length;default:if(s)return l?-1:pr(h).length;r=(""+r).toLowerCase(),s=!0}}n.byteLength=_;function R(h,r,t){var l=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,r>>>=0,t<=r))return"";for(h||(h="utf8");;)switch(h){case"hex":return ye(this,r,t);case"utf8":case"utf-8":return Ur(this,r,t);case"ascii":return de(this,r,t);case"latin1":case"binary":return we(this,r,t);case"base64":return ge(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,r,t);default:if(l)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),l=!0}}n.prototype._isBuffer=!0;function b(h,r,t){var l=h[r];h[r]=h[t],h[t]=l}n.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)b(this,t,t+1);return this},n.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},n.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},n.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?Ur(this,0,r):R.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(r){if(!n.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:n.compare(this,r)===0},n.prototype.inspect=function(){var r="",t=e.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"},i&&(n.prototype[i]=n.prototype.inspect),n.prototype.compare=function(r,t,l,s,y){if(W(r,Uint8Array)&&(r=n.from(r,r.offset,r.byteLength)),!n.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(t===void 0&&(t=0),l===void 0&&(l=r?r.length:0),s===void 0&&(s=0),y===void 0&&(y=this.length),t<0||l>r.length||s<0||y>this.length)throw new RangeError("out of range index");if(s>=y&&t>=l)return 0;if(s>=y)return-1;if(t>=l)return 1;if(t>>>=0,l>>>=0,s>>>=0,y>>>=0,this===r)return 0;for(var v=y-s,T=l-t,I=Math.min(v,T),S=this.slice(s,y),D=r.slice(t,l),U=0;U<I;++U)if(S[U]!==D[U]){v=S[U],T=D[U];break}return v<T?-1:T<v?1:0};function N(h,r,t,l,s){if(h.length===0)return-1;if(typeof t=="string"?(l=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,dr(t)&&(t=s?0:h.length-1),t<0&&(t=h.length+t),t>=h.length){if(s)return-1;t=h.length-1}else if(t<0)if(s)t=0;else return-1;if(typeof r=="string"&&(r=n.from(r,l)),n.isBuffer(r))return r.length===0?-1:k(h,r,t,l,s);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(h,r,t):Uint8Array.prototype.lastIndexOf.call(h,r,t):k(h,[r],t,l,s);throw new TypeError("val must be string, number or Buffer")}function k(h,r,t,l,s){var y=1,v=h.length,T=r.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(h.length<2||r.length<2)return-1;y=2,v/=2,T/=2,t/=2}function I(Dr,kr){return y===1?Dr[kr]:Dr.readUInt16BE(kr*y)}var S;if(s){var D=-1;for(S=t;S<v;S++)if(I(h,S)===I(r,D===-1?0:S-D)){if(D===-1&&(D=S),S-D+1===T)return D*y}else D!==-1&&(S-=S-D),D=-1}else for(t+T>v&&(t=v-T),S=t;S>=0;S--){for(var U=!0,ar=0;ar<T;ar++)if(I(h,S+ar)!==I(r,ar)){U=!1;break}if(U)return S}return-1}n.prototype.includes=function(r,t,l){return this.indexOf(r,t,l)!==-1},n.prototype.indexOf=function(r,t,l){return N(this,r,t,l,!0)},n.prototype.lastIndexOf=function(r,t,l){return N(this,r,t,l,!1)};function J(h,r,t,l){t=Number(t)||0;var s=h.length-t;l?(l=Number(l),l>s&&(l=s)):l=s;var y=r.length;l>y/2&&(l=y/2);for(var v=0;v<l;++v){var T=parseInt(r.substr(v*2,2),16);if(dr(T))return v;h[t+v]=T}return v}function K(h,r,t,l){return or(pr(r,h.length-t),h,t,l)}function le(h,r,t,l){return or(Be(r),h,t,l)}function se(h,r,t,l){return or(Nr(r),h,t,l)}function ce(h,r,t,l){return or(Ae(r,h.length-t),h,t,l)}n.prototype.write=function(r,t,l,s){if(t===void 0)s="utf8",l=this.length,t=0;else if(l===void 0&&typeof t=="string")s=t,l=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(l)?(l=l>>>0,s===void 0&&(s="utf8")):(s=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var y=this.length-t;if((l===void 0||l>y)&&(l=y),r.length>0&&(l<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var v=!1;;)switch(s){case"hex":return J(this,r,t,l);case"utf8":case"utf-8":return K(this,r,t,l);case"ascii":case"latin1":case"binary":return le(this,r,t,l);case"base64":return se(this,r,t,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,r,t,l);default:if(v)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),v=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ge(h,r,t){return r===0&&t===h.length?xr.fromByteArray(h):xr.fromByteArray(h.slice(r,t))}function Ur(h,r,t){t=Math.min(h.length,t);for(var l=[],s=r;s<t;){var y=h[s],v=null,T=y>239?4:y>223?3:y>191?2:1;if(s+T<=t){var I,S,D,U;switch(T){case 1:y<128&&(v=y);break;case 2:I=h[s+1],(I&192)==128&&(U=(y&31)<<6|I&63,U>127&&(v=U));break;case 3:I=h[s+1],S=h[s+2],(I&192)==128&&(S&192)==128&&(U=(y&15)<<12|(I&63)<<6|S&63,U>2047&&(U<55296||U>57343)&&(v=U));break;case 4:I=h[s+1],S=h[s+2],D=h[s+3],(I&192)==128&&(S&192)==128&&(D&192)==128&&(U=(y&15)<<18|(I&63)<<12|(S&63)<<6|D&63,U>65535&&U<1114112&&(v=U))}}v===null?(v=65533,T=1):v>65535&&(v-=65536,l.push(v>>>10&1023|55296),v=56320|v&1023),l.push(v),s+=T}return pe(l)}var br=4096;function pe(h){var r=h.length;if(r<=br)return String.fromCharCode.apply(String,h);for(var t="",l=0;l<r;)t+=String.fromCharCode.apply(String,h.slice(l,l+=br));return t}function de(h,r,t){var l="";t=Math.min(h.length,t);for(var s=r;s<t;++s)l+=String.fromCharCode(h[s]&127);return l}function we(h,r,t){var l="";t=Math.min(h.length,t);for(var s=r;s<t;++s)l+=String.fromCharCode(h[s]);return l}function ye(h,r,t){var l=h.length;(!r||r<0)&&(r=0),(!t||t<0||t>l)&&(t=l);for(var s="",y=r;y<t;++y)s+=Ce[h[y]];return s}function ve(h,r,t){for(var l=h.slice(r,t),s="",y=0;y<l.length-1;y+=2)s+=String.fromCharCode(l[y]+l[y+1]*256);return s}n.prototype.slice=function(r,t){var l=this.length;r=~~r,t=t===void 0?l:~~t,r<0?(r+=l,r<0&&(r=0)):r>l&&(r=l),t<0?(t+=l,t<0&&(t=0)):t>l&&(t=l),t<r&&(t=r);var s=this.subarray(r,t);return Object.setPrototypeOf(s,n.prototype),s};function L(h,r,t){if(h%1!=0||h<0)throw new RangeError("offset is not uint");if(h+r>t)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(r,t,l){r=r>>>0,t=t>>>0,l||L(r,t,this.length);for(var s=this[r],y=1,v=0;++v<t&&(y*=256);)s+=this[r+v]*y;return s},n.prototype.readUintBE=n.prototype.readUIntBE=function(r,t,l){r=r>>>0,t=t>>>0,l||L(r,t,this.length);for(var s=this[r+--t],y=1;t>0&&(y*=256);)s+=this[r+--t]*y;return s},n.prototype.readUint8=n.prototype.readUInt8=function(r,t){return r=r>>>0,t||L(r,1,this.length),this[r]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(r,t){return r=r>>>0,t||L(r,2,this.length),this[r]|this[r+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(r,t){return r=r>>>0,t||L(r,2,this.length),this[r]<<8|this[r+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(r,t){return r=r>>>0,t||L(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(r,t){return r=r>>>0,t||L(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},n.prototype.readIntLE=function(r,t,l){r=r>>>0,t=t>>>0,l||L(r,t,this.length);for(var s=this[r],y=1,v=0;++v<t&&(y*=256);)s+=this[r+v]*y;return y*=128,s>=y&&(s-=Math.pow(2,8*t)),s},n.prototype.readIntBE=function(r,t,l){r=r>>>0,t=t>>>0,l||L(r,t,this.length);for(var s=t,y=1,v=this[r+--s];s>0&&(y*=256);)v+=this[r+--s]*y;return y*=128,v>=y&&(v-=Math.pow(2,8*t)),v},n.prototype.readInt8=function(r,t){return r=r>>>0,t||L(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},n.prototype.readInt16LE=function(r,t){r=r>>>0,t||L(r,2,this.length);var l=this[r]|this[r+1]<<8;return l&32768?l|4294901760:l},n.prototype.readInt16BE=function(r,t){r=r>>>0,t||L(r,2,this.length);var l=this[r+1]|this[r]<<8;return l&32768?l|4294901760:l},n.prototype.readInt32LE=function(r,t){return r=r>>>0,t||L(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},n.prototype.readInt32BE=function(r,t){return r=r>>>0,t||L(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},n.prototype.readFloatLE=function(r,t){return r=r>>>0,t||L(r,4,this.length),Z.read(this,r,!0,23,4)},n.prototype.readFloatBE=function(r,t){return r=r>>>0,t||L(r,4,this.length),Z.read(this,r,!1,23,4)},n.prototype.readDoubleLE=function(r,t){return r=r>>>0,t||L(r,8,this.length),Z.read(this,r,!0,52,8)},n.prototype.readDoubleBE=function(r,t){return r=r>>>0,t||L(r,8,this.length),Z.read(this,r,!1,52,8)};function Y(h,r,t,l,s,y){if(!n.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>s||r<y)throw new RangeError('"value" argument is out of bounds');if(t+l>h.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(r,t,l,s){if(r=+r,t=t>>>0,l=l>>>0,!s){var y=Math.pow(2,8*l)-1;Y(this,r,t,l,y,0)}var v=1,T=0;for(this[t]=r&255;++T<l&&(v*=256);)this[t+T]=r/v&255;return t+l},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(r,t,l,s){if(r=+r,t=t>>>0,l=l>>>0,!s){var y=Math.pow(2,8*l)-1;Y(this,r,t,l,y,0)}var v=l-1,T=1;for(this[t+v]=r&255;--v>=0&&(T*=256);)this[t+v]=r/T&255;return t+l},n.prototype.writeUint8=n.prototype.writeUInt8=function(r,t,l){return r=+r,t=t>>>0,l||Y(this,r,t,1,255,0),this[t]=r&255,t+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(r,t,l){return r=+r,t=t>>>0,l||Y(this,r,t,2,65535,0),this[t]=r&255,this[t+1]=r>>>8,t+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(r,t,l){return r=+r,t=t>>>0,l||Y(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=r&255,t+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(r,t,l){return r=+r,t=t>>>0,l||Y(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255,t+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(r,t,l){return r=+r,t=t>>>0,l||Y(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4},n.prototype.writeIntLE=function(r,t,l,s){if(r=+r,t=t>>>0,!s){var y=Math.pow(2,8*l-1);Y(this,r,t,l,y-1,-y)}var v=0,T=1,I=0;for(this[t]=r&255;++v<l&&(T*=256);)r<0&&I===0&&this[t+v-1]!==0&&(I=1),this[t+v]=(r/T>>0)-I&255;return t+l},n.prototype.writeIntBE=function(r,t,l,s){if(r=+r,t=t>>>0,!s){var y=Math.pow(2,8*l-1);Y(this,r,t,l,y-1,-y)}var v=l-1,T=1,I=0;for(this[t+v]=r&255;--v>=0&&(T*=256);)r<0&&I===0&&this[t+v+1]!==0&&(I=1),this[t+v]=(r/T>>0)-I&255;return t+l},n.prototype.writeInt8=function(r,t,l){return r=+r,t=t>>>0,l||Y(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=r&255,t+1},n.prototype.writeInt16LE=function(r,t,l){return r=+r,t=t>>>0,l||Y(this,r,t,2,32767,-32768),this[t]=r&255,this[t+1]=r>>>8,t+2},n.prototype.writeInt16BE=function(r,t,l){return r=+r,t=t>>>0,l||Y(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=r&255,t+2},n.prototype.writeInt32LE=function(r,t,l){return r=+r,t=t>>>0,l||Y(this,r,t,4,2147483647,-2147483648),this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4},n.prototype.writeInt32BE=function(r,t,l){return r=+r,t=t>>>0,l||Y(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};function Mr(h,r,t,l,s,y){if(t+l>h.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Lr(h,r,t,l,s){return r=+r,t=t>>>0,s||Mr(h,r,t,4),Z.write(h,r,t,l,23,4),t+4}n.prototype.writeFloatLE=function(r,t,l){return Lr(this,r,t,!0,l)},n.prototype.writeFloatBE=function(r,t,l){return Lr(this,r,t,!1,l)};function Pr(h,r,t,l,s){return r=+r,t=t>>>0,s||Mr(h,r,t,8),Z.write(h,r,t,l,52,8),t+8}n.prototype.writeDoubleLE=function(r,t,l){return Pr(this,r,t,!0,l)},n.prototype.writeDoubleBE=function(r,t,l){return Pr(this,r,t,!1,l)},n.prototype.copy=function(r,t,l,s){if(!n.isBuffer(r))throw new TypeError("argument should be a Buffer");if(l||(l=0),!s&&s!==0&&(s=this.length),t>=r.length&&(t=r.length),t||(t=0),s>0&&s<l&&(s=l),s===l||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),r.length-t<s-l&&(s=r.length-t+l);var y=s-l;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,l,s):Uint8Array.prototype.set.call(r,this.subarray(l,s),t),y},n.prototype.fill=function(r,t,l,s){if(typeof r=="string"){if(typeof t=="string"?(s=t,t=0,l=this.length):typeof l=="string"&&(s=l,l=this.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!n.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(r.length===1){var y=r.charCodeAt(0);(s==="utf8"&&y<128||s==="latin1")&&(r=y)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(t<0||this.length<t||this.length<l)throw new RangeError("Out of range index");if(l<=t)return this;t=t>>>0,l=l===void 0?this.length:l>>>0,r||(r=0);var v;if(typeof r=="number")for(v=t;v<l;++v)this[v]=r;else{var T=n.isBuffer(r)?r:n.from(r,s),I=T.length;if(I===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(v=0;v<l-t;++v)this[v+t]=T[v%I]}return this};var me=/[^+/0-9A-Za-z-_]/g;function Ee(h){if(h=h.split("=")[0],h=h.trim().replace(me,""),h.length<2)return"";for(;h.length%4!=0;)h=h+"=";return h}function pr(h,r){r=r||Infinity;for(var t,l=h.length,s=null,y=[],v=0;v<l;++v){if(t=h.charCodeAt(v),t>55295&&t<57344){if(!s){if(t>56319){(r-=3)>-1&&y.push(239,191,189);continue}else if(v+1===l){(r-=3)>-1&&y.push(239,191,189);continue}s=t;continue}if(t<56320){(r-=3)>-1&&y.push(239,191,189),s=t;continue}t=(s-55296<<10|t-56320)+65536}else s&&(r-=3)>-1&&y.push(239,191,189);if(s=null,t<128){if((r-=1)<0)break;y.push(t)}else if(t<2048){if((r-=2)<0)break;y.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;y.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;y.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return y}function Be(h){for(var r=[],t=0;t<h.length;++t)r.push(h.charCodeAt(t)&255);return r}function Ae(h,r){for(var t,l,s,y=[],v=0;v<h.length&&!((r-=2)<0);++v)t=h.charCodeAt(v),l=t>>8,s=t%256,y.push(s),y.push(l);return y}function Nr(h){return xr.toByteArray(Ee(h))}function or(h,r,t,l){for(var s=0;s<l&&!(s+t>=r.length||s>=h.length);++s)r[s+t]=h[s];return s}function W(h,r){return h instanceof r||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===r.name}function dr(h){return h!==h}var Ce=function(){for(var h="0123456789abcdef",r=new Array(256),t=0;t<16;++t)for(var l=t*16,s=0;s<16;++s)r[l+s]=h[t]+h[s];return r}()}),mt=vt.Buffer;function Tr(f){this.genPoly=void 0,this.degree=f,this.degree&&this.initialize(this.degree)}Tr.prototype.initialize=function(e){this.degree=e,this.genPoly=qr.generateECPolynomial(this.degree)},Tr.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var i=z.alloc(this.degree),a=mt.concat([e,i],e.length+this.degree),o=qr.mod(a,this.genPoly),u=this.degree-o.length;if(u>0){var n=z.alloc(this.degree);return o.copy(n,u),n}return o};var Et=Tr,Bt=function(e){return!isNaN(e)&&e>=1&&e<=40},sr={isValid:Bt},Zr="[0-9]+",At="[A-Z $%*+\\-./:]+",ir="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ir=ir.replace(/u/g,"\\u");var Ct="(?:(?![A-Z0-9 $%*+\\-./:]|"+ir+`)(?:.|[\r
]))+`,xt=new RegExp(ir,"g"),Tt=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ft=new RegExp(Ct,"g"),It=new RegExp(Zr,"g"),Rt=new RegExp(At,"g"),St=new RegExp("^"+ir+"$"),_t=new RegExp("^"+Zr+"$"),Ut=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),bt=function(e){return St.test(e)},Mt=function(e){return _t.test(e)},Lt=function(e){return Ut.test(e)},Q={KANJI:xt,BYTE_KANJI:Tt,BYTE:Ft,NUMERIC:It,ALPHANUMERIC:Rt,testKanji:bt,testNumeric:Mt,testAlphanumeric:Lt},A=V(function(f,e){e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,u){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!sr.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?o.ccBits[0]:u<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return Q.testNumeric(o)?e.NUMERIC:Q.testAlphanumeric(o)?e.ALPHANUMERIC:Q.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function i(a){if(typeof a!="string")throw new Error("Param is not a string");var o=a.toLowerCase();switch(o){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(o,u){if(e.isValid(o))return o;try{return i(o)}catch(n){return u}}}),cr=V(function(f,e){var i=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,a=P.getBCHDigit(i);function o(c,d,p){for(var w=1;w<=40;w++)if(d<=e.getCapacity(w,p,c))return w}function u(c,d){return A.getCharCountIndicator(c,d)+4}function n(c,d){var p=0;return c.forEach(function(w){var E=u(w.mode,d);p+=E+w.getBitsLength()}),p}function g(c,d){for(var p=1;p<=40;p++){var w=n(c,p);if(w<=e.getCapacity(p,d,A.MIXED))return p}}e.from=function(d,p){return sr.isValid(d)?parseInt(d,10):p},e.getCapacity=function(d,p,w){if(!sr.isValid(d))throw new Error("Invalid QR Code version");typeof w=="undefined"&&(w=A.BYTE);var E=P.getSymbolTotalCodewords(d),m=hr.getTotalCodewordsCount(d,p),B=(E-m)*8;if(w===A.MIXED)return B;var C=B-u(w,d);switch(w){case A.NUMERIC:return Math.floor(C/10*3);case A.ALPHANUMERIC:return Math.floor(C/11*2);case A.KANJI:return Math.floor(C/13);case A.BYTE:default:return Math.floor(C/8)}},e.getBestVersionForData=function(d,p){var w,E=H.from(p,H.M);if(yr(d)){if(d.length>1)return g(d,E);if(d.length===0)return 1;w=d[0]}else w=d;return o(w.mode,w.getLength(),E)},e.getEncodedBits=function(d){if(!sr.isValid(d)||d<7)throw new Error("Invalid QR Code version");for(var p=d<<12;P.getBCHDigit(p)-a>=0;)p^=i<<P.getBCHDigit(p)-a;return d<<12|p}}),$r=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Pt=1<<14|1<<12|1<<10|1<<4|1<<1,jr=P.getBCHDigit($r),Nt=function(e,i){for(var a=e.bit<<3|i,o=a<<10;P.getBCHDigit(o)-jr>=0;)o^=$r<<P.getBCHDigit(o)-jr;return(a<<10|o)^Pt},Dt={getEncodedBits:Nt};function $(f){this.mode=A.NUMERIC,this.data=f.toString()}$.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},$.prototype.getLength=function(){return this.data.length},$.prototype.getBitsLength=function(){return $.getBitsLength(this.data.length)},$.prototype.write=function(e){var i,a,o;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),o=parseInt(a,10),e.put(o,10);var u=this.data.length-i;u>0&&(a=this.data.substr(i),o=parseInt(a,10),e.put(o,u*3+1))};var re=$,Fr=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function j(f){this.mode=A.ALPHANUMERIC,this.data=f}j.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},j.prototype.getLength=function(){return this.data.length},j.prototype.getBitsLength=function(){return j.getBitsLength(this.data.length)},j.prototype.write=function(e){var i;for(i=0;i+2<=this.data.length;i+=2){var a=Fr.indexOf(this.data[i])*45;a+=Fr.indexOf(this.data[i+1]),e.put(a,11)}this.data.length%2&&e.put(Fr.indexOf(this.data[i]),6)};var ee=j;function rr(f){this.mode=A.BYTE,this.data=z.from(f)}rr.getBitsLength=function(e){return e*8},rr.prototype.getLength=function(){return this.data.length},rr.prototype.getBitsLength=function(){return rr.getBitsLength(this.data.length)},rr.prototype.write=function(f){for(var e=0,i=this.data.length;e<i;e++)f.put(this.data[e],8)};var te=rr;function er(f){this.mode=A.KANJI,this.data=f}er.getBitsLength=function(e){return e*13},er.prototype.getLength=function(){return this.data.length},er.prototype.getBitsLength=function(){return er.getBitsLength(this.data.length)},er.prototype.write=function(f){var e;for(e=0;e<this.data.length;e++){var i=P.toSJIS(this.data[e]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),f.put(i,13)}};var ne=er,kt=V(function(f){var e={single_source_shortest_paths:function(i,a,o){var u={},n={};n[a]=0;var g=e.PriorityQueue.make();g.push(a,0);for(var c,d,p,w,E,m,B,C,F;!g.empty();){c=g.pop(),d=c.value,w=c.cost,E=i[d]||{};for(p in E)E.hasOwnProperty(p)&&(m=E[p],B=w+m,C=n[p],F=typeof n[p]=="undefined",(F||C>B)&&(n[p]=B,g.push(p,B),u[p]=d))}if(typeof o!="undefined"&&typeof n[o]=="undefined"){var M=["Could not find a path from ",a," to ",o,"."].join("");throw new Error(M)}return u},extract_shortest_path_from_predecessor_list:function(i,a){for(var o=[],u=a;u;)o.push(u),i[u],u=i[u];return o.reverse(),o},find_path:function(i,a,o){var u=e.single_source_shortest_paths(i,a,o);return e.extract_shortest_path_from_predecessor_list(u,o)},PriorityQueue:{make:function(i){var a=e.PriorityQueue,o={},u;i=i||{};for(u in a)a.hasOwnProperty(u)&&(o[u]=a[u]);return o.queue=[],o.sorter=i.sorter||a.default_sorter,o},default_sorter:function(i,a){return i.cost-a.cost},push:function(i,a){var o={value:i,cost:a};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};f.exports=e}),Ir=V(function(f,e){function i(p){return unescape(encodeURIComponent(p)).length}function a(p,w,E){for(var m=[],B;(B=p.exec(E))!==null;)m.push({data:B[0],index:B.index,mode:w,length:B[0].length});return m}function o(p){var w=a(Q.NUMERIC,A.NUMERIC,p),E=a(Q.ALPHANUMERIC,A.ALPHANUMERIC,p),m,B;P.isKanjiModeEnabled()?(m=a(Q.BYTE,A.BYTE,p),B=a(Q.KANJI,A.KANJI,p)):(m=a(Q.BYTE_KANJI,A.BYTE,p),B=[]);var C=w.concat(E,m,B);return C.sort(function(F,M){return F.index-M.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function u(p,w){switch(w){case A.NUMERIC:return re.getBitsLength(p);case A.ALPHANUMERIC:return ee.getBitsLength(p);case A.KANJI:return ne.getBitsLength(p);case A.BYTE:return te.getBitsLength(p)}}function n(p){return p.reduce(function(w,E){var m=w.length-1>=0?w[w.length-1]:null;return m&&m.mode===E.mode?(w[w.length-1].data+=E.data,w):(w.push(E),w)},[])}function g(p){for(var w=[],E=0;E<p.length;E++){var m=p[E];switch(m.mode){case A.NUMERIC:w.push([m,{data:m.data,mode:A.ALPHANUMERIC,length:m.length},{data:m.data,mode:A.BYTE,length:m.length}]);break;case A.ALPHANUMERIC:w.push([m,{data:m.data,mode:A.BYTE,length:m.length}]);break;case A.KANJI:w.push([m,{data:m.data,mode:A.BYTE,length:i(m.data)}]);break;case A.BYTE:w.push([{data:m.data,mode:A.BYTE,length:i(m.data)}])}}return w}function c(p,w){for(var E={},m={start:{}},B=["start"],C=0;C<p.length;C++){for(var F=p[C],M=[],_=0;_<F.length;_++){var R=F[_],b=""+C+_;M.push(b),E[b]={node:R,lastCount:0},m[b]={};for(var N=0;N<B.length;N++){var k=B[N];E[k]&&E[k].node.mode===R.mode?(m[k][b]=u(E[k].lastCount+R.length,R.mode)-u(E[k].lastCount,R.mode),E[k].lastCount+=R.length):(E[k]&&(E[k].lastCount=R.length),m[k][b]=u(R.length,R.mode)+4+A.getCharCountIndicator(R.mode,w))}}B=M}for(N=0;N<B.length;N++)m[B[N]].end=0;return{map:m,table:E}}function d(p,w){var E,m=A.getBestModeForData(p);if(E=A.from(w,m),E!==A.BYTE&&E.bit<m.bit)throw new Error('"'+p+'" cannot be encoded with mode '+A.toString(E)+`.
 Suggested mode is: `+A.toString(m));switch(E===A.KANJI&&!P.isKanjiModeEnabled()&&(E=A.BYTE),E){case A.NUMERIC:return new re(p);case A.ALPHANUMERIC:return new ee(p);case A.KANJI:return new ne(p);case A.BYTE:return new te(p)}}e.fromArray=function(w){return w.reduce(function(E,m){return typeof m=="string"?E.push(d(m,null)):m.data&&E.push(d(m.data,m.mode)),E},[])},e.fromString=function(w,E){for(var m=o(w,P.isKanjiModeEnabled()),B=g(m),C=c(B,E),F=kt.find_path(C.map,"start","end"),M=[],_=1;_<F.length-1;_++)M.push(C.table[F[_]].node);return e.fromArray(n(M))},e.rawSplit=function(w){return e.fromArray(o(w,P.isKanjiModeEnabled()))}});function Yt(f,e){for(var i=f.size,a=je.getPositions(e),o=0;o<a.length;o++)for(var u=a[o][0],n=a[o][1],g=-1;g<=7;g++)if(!(u+g<=-1||i<=u+g))for(var c=-1;c<=7;c++)n+c<=-1||i<=n+c||(g>=0&&g<=6&&(c===0||c===6)||c>=0&&c<=6&&(g===0||g===6)||g>=2&&g<=4&&c>=2&&c<=4?f.set(u+g,n+c,!0,!0):f.set(u+g,n+c,!1,!0))}function Ht(f){for(var e=f.size,i=8;i<e-8;i++){var a=i%2==0;f.set(i,6,a,!0),f.set(6,i,a,!0)}}function zt(f,e){for(var i=Xe.getPositions(e),a=0;a<i.length;a++)for(var o=i[a][0],u=i[a][1],n=-2;n<=2;n++)for(var g=-2;g<=2;g++)n===-2||n===2||g===-2||g===2||n===0&&g===0?f.set(o+n,u+g,!0,!0):f.set(o+n,u+g,!1,!0)}function Ot(f,e){for(var i=f.size,a=cr.getEncodedBits(e),o,u,n,g=0;g<18;g++)o=Math.floor(g/3),u=g%3+i-8-3,n=(a>>g&1)==1,f.set(o,u,n,!0),f.set(u,o,n,!0)}function Rr(f,e,i){var a=f.size,o=Dt.getEncodedBits(e,i),u,n;for(u=0;u<15;u++)n=(o>>u&1)==1,u<6?f.set(u,8,n,!0):u<8?f.set(u+1,8,n,!0):f.set(a-15+u,8,n,!0),u<8?f.set(8,a-u-1,n,!0):u<9?f.set(8,15-u-1+1,n,!0):f.set(8,15-u-1,n,!0);f.set(a-8,8,1,!0)}function Jt(f,e){for(var i=f.size,a=-1,o=i-1,u=7,n=0,g=i-1;g>0;g-=2)for(g===6&&g--;;){for(var c=0;c<2;c++)if(!f.isReserved(o,g-c)){var d=!1;n<e.length&&(d=(e[n]>>>u&1)==1),f.set(o,g-c,d),u--,u===-1&&(n++,u=7)}if(o+=a,o<0||i<=o){o-=a,a=-a;break}}}function Kt(f,e,i){var a=new Qe;i.forEach(function(d){a.put(d.mode.bit,4),a.put(d.getLength(),A.getCharCountIndicator(d.mode,f)),d.write(a)});var o=P.getSymbolTotalCodewords(f),u=hr.getTotalCodewordsCount(f,e),n=(o-u)*8;for(a.getLengthInBits()+4<=n&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(0);for(var g=(n-a.getLengthInBits())/8,c=0;c<g;c++)a.put(c%2?17:236,8);return Vt(a,f,e)}function Vt(f,e,i){for(var a=P.getSymbolTotalCodewords(e),o=hr.getTotalCodewordsCount(e,i),u=a-o,n=hr.getBlocksCount(e,i),g=a%n,c=n-g,d=Math.floor(a/n),p=Math.floor(u/n),w=p+1,E=d-p,m=new Et(E),B=0,C=new Array(n),F=new Array(n),M=0,_=z.from(f.buffer),R=0;R<n;R++){var b=R<c?p:w;C[R]=_.slice(B,B+b),F[R]=m.encode(C[R]),B+=b,M=Math.max(M,b)}var N=z.alloc(a),k=0,J,K;for(J=0;J<M;J++)for(K=0;K<n;K++)J<C[K].length&&(N[k++]=C[K][J]);for(J=0;J<E;J++)for(K=0;K<n;K++)N[k++]=F[K][J];return N}function Wt(f,e,i,a){var o;if(yr(f))o=Ir.fromArray(f);else if(typeof f=="string"){var u=e;if(!u){var n=Ir.rawSplit(f);u=cr.getBestVersionForData(n,i)}o=Ir.fromString(f,u||40)}else throw new Error("Invalid data");var g=cr.getBestVersionForData(o,i);if(!g)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=g;else if(e<g)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+g+`.
`);var c=Kt(e,i,o),d=P.getSymbolSize(e),p=new qe(d);return Yt(p,e),Ht(p),zt(p,e),Rr(p,i,0),e>=7&&Ot(p,e),Jt(p,c),isNaN(a)&&(a=Br.getBestMask(p,Rr.bind(null,p,i))),Br.applyMask(a,p),Rr(p,i,a),{modules:p,version:e,errorCorrectionLevel:i,maskPattern:a,segments:o}}var Gt=function(e,i){if(typeof e=="undefined"||e==="")throw new Error("No input text");var a=H.M,o,u;return typeof i!="undefined"&&(a=H.from(i.errorCorrectionLevel,H.M),o=cr.from(i.version),u=Br.from(i.maskPattern),i.toSJISFunc&&P.setToSJISFunction(i.toSJISFunc)),Wt(e,o,a,u)},ie={create:Gt},gr=V(function(f,e){function i(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");var o=a.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+a);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(n){return[n,n]}))),o.length===6&&o.push("F","F");var u=parseInt(o.join(""),16);return{r:u>>24&255,g:u>>16&255,b:u>>8&255,a:u&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});var u=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,n=o.width&&o.width>=21?o.width:void 0,g=o.scale||4;return{width:n,scale:n?4:g,margin:u,color:{dark:i(o.color.dark||"#000000ff"),light:i(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,u){return u.width&&u.width>=o+u.margin*2?u.width/(o+u.margin*2):u.scale},e.getImageWidth=function(o,u){var n=e.getScale(o,u);return Math.floor((o+u.margin*2)*n)},e.qrToImageData=function(o,u,n){for(var g=u.modules.size,c=u.modules.data,d=e.getScale(g,n),p=Math.floor((g+n.margin*2)*d),w=n.margin*d,E=[n.color.light,n.color.dark],m=0;m<p;m++)for(var B=0;B<p;B++){var C=(m*p+B)*4,F=n.color.light;if(m>=w&&B>=w&&m<p-w&&B<p-w){var M=Math.floor((m-w)/d),_=Math.floor((B-w)/d);F=E[c[M*g+_]?1:0]}o[C++]=F.r,o[C++]=F.g,o[C++]=F.b,o[C]=F.a}}}),oe=V(function(f,e){function i(o,u,n){o.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=n,u.width=n,u.style.height=n+"px",u.style.width=n+"px"}function a(){try{return document.createElement("canvas")}catch(o){throw new Error("You need to specify a canvas element")}}e.render=function(u,n,g){var c=g,d=n;typeof c=="undefined"&&(!n||!n.getContext)&&(c=n,n=void 0),n||(d=a()),c=gr.getOptions(c);var p=gr.getImageWidth(u.modules.size,c),w=d.getContext("2d"),E=w.createImageData(p,p);return gr.qrToImageData(E.data,u,c),i(w,d,p),w.putImageData(E,0,0),d},e.renderToDataURL=function(u,n,g){var c=g;typeof c=="undefined"&&(!n||!n.getContext)&&(c=n,n=void 0),c||(c={});var d=e.render(u,n,c),p=c.type||"image/png",w=c.rendererOpts||{};return d.toDataURL(p,w.quality)}});function ae(f,e){var i=f.a/255,a=e+'="'+f.hex+'"';return i<1?a+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':a}function Sr(f,e,i){var a=f+e;return typeof i!="undefined"&&(a+=" "+i),a}function Qt(f,e,i){for(var a="",o=0,u=!1,n=0,g=0;g<f.length;g++){var c=Math.floor(g%e),d=Math.floor(g/e);!c&&!u&&(u=!0),f[g]?(n++,g>0&&c>0&&f[g-1]||(a+=u?Sr("M",c+i,.5+d+i):Sr("m",o,0),o=0,u=!1),c+1<e&&f[g+1]||(a+=Sr("h",n),n=0)):o++}return a}var qt=function(e,i,a){var o=gr.getOptions(i),u=e.modules.size,n=e.modules.data,g=u+o.margin*2,c=o.color.light.a?"<path "+ae(o.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",d="<path "+ae(o.color.dark,"stroke")+' d="'+Qt(n,u,o.margin)+'"/>',p='viewBox="0 0 '+g+" "+g+'"',w=o.width?'width="'+o.width+'" height="'+o.width+'" ':"",E='<svg xmlns="http://www.w3.org/2000/svg" '+w+p+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof a=="function"&&a(null,E),E},Xt={render:qt};function _r(f,e,i,a,o){var u=[].slice.call(arguments,1),n=u.length,g=typeof u[n-1]=="function";if(!g&&!Se())throw new Error("Callback required as last argument");if(g){if(n<2)throw new Error("Too few arguments provided");n===2?(o=i,i=e,e=a=void 0):n===3&&(e.getContext&&typeof o=="undefined"?(o=a,a=void 0):(o=a,a=i,i=e,e=void 0))}else{if(n<1)throw new Error("Too few arguments provided");return n===1?(i=e,e=a=void 0):n===2&&!e.getContext&&(a=i,i=e,e=void 0),new Promise(function(d,p){try{var w=ie.create(i,a);d(f(w,e,a))}catch(E){p(E)}})}try{var c=ie.create(i,a);o(null,f(c,e,a))}catch(d){o(d)}}var ue=_r.bind(null,oe.render),Zt=_r.bind(null,oe.renderToDataURL);_r.bind(null,function(f,e,i){return Xt.render(f,i)});const $t=({canvas:f,content:e,width:i=0,options:a={}})=>(a.errorCorrectionLevel=a.errorCorrectionLevel||rn(e),jt(e,a).then(o=>(a.scale=i===0?void 0:i/o*4,ue(f,e,a))));function jt(f,e){const i=document.createElement("canvas");return ue(i,f,e).then(()=>i.width)}function rn(f){return f.length>36?"M":f.length>16?"Q":"H"}const en=({canvas:f,logo:e})=>{if(!e)return new Promise(_=>{_(f.toDataURL())});const i=f.width,{logoSize:a=.15,bgColor:o="#ffffff",borderSize:u=.05,crossOrigin:n,borderRadius:g=8,logoRadius:c=0}=e,d=xe(e)?e:e.src,p=i*a,w=i*(1-a)/2,E=i*(a+u),m=i*(1-a-u)/2,B=f.getContext("2d");if(!B)return;fe(B)(m,m,E,E,g),B.fillStyle=o,B.fill();const C=new Image;(n||c)&&C.setAttribute("crossOrigin",n||"anonymous"),C.src=d;const F=_=>{B.drawImage(_,w,w,p,p)},M=_=>{const R=document.createElement("canvas");R.width=w+p,R.height=w+p;const b=R.getContext("2d");if(!b||!B||(b.drawImage(_,w,w,p,p),fe(B)(w,w,p,p,c),!B))return;const N=B.createPattern(R,"no-repeat");N&&(B.fillStyle=N,B.fill())};return new Promise(_=>{C.onload=()=>{c?M(C):F(C),_(f.toDataURL())}})};function fe(f){return(e,i,a,o,u)=>{const n=Math.min(a,o);return u>n/2&&(u=n/2),f.beginPath(),f.moveTo(e+u,i),f.arcTo(e+a,i,e+a,i+o,u),f.arcTo(e+a,i+o,e,i+o,u),f.arcTo(e,i+o,e,i,u),f.arcTo(e,i,e+a,i,u),f.closePath(),f}}const tn=f=>$t(f).then(()=>f).then(en);var he=Te({name:"QrCode",props:{value:{type:[String,Array],default:null},options:{type:Object,default:null},width:{type:Number,default:200},logo:{type:[String,Object],default:""},tag:{type:String,default:"canvas",validator:f=>["canvas","img"].includes(f)}},emits:{done:f=>!!f,error:f=>!!f},setup(f,{emit:e}){const i=Hr(null),a=Hr("");async function o(){try{const{tag:n,value:g,options:c={},width:d,logo:p}=f,w=String(g),E=wr(i);if(!E)return;if(n==="canvas"){const m=await tn({canvas:E,width:d,logo:p,content:w,options:c||{}});a.value=m,e("done",m);return}if(n==="img"){const m=await Zt(w,Yr({errorCorrectionLevel:"H",width:d},c));wr(i).src=m,a.value=m,e("done",m)}}catch(n){e("error",n)}}function u(n){const g=wr(a);!g||Re({url:g,fileName:n})}return Fe(()=>{setTimeout(()=>{o()},30)}),{wrapRef:i,download:u}}});function nn(f,e,i,a,o,u){return zr(),Or("div",null,[(zr(),Or(Ie(f.tag),{ref:"wrapRef"},null,512))])}he.render=nn;export{he as _};
