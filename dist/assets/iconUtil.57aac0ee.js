import{a0 as wa,k as j,d as Ae,a4 as Ta,p as K,Z as B,S as me,aQ as La,c as Aa,c_ as Ia,an as Ma,w as L,_ as D,y as Qe,aK as Fa,x as Re,bu as Ba,X as je,Y as ye,c$ as Ra,ae as _e,V as ja,af as _a,G as $a,H as Ha,at as ge,d0 as qa,ac as Ze,a5 as $e,d1 as Ga,M as Va,R as za,ap as Ie,ai as Wa,bk as Oe,s as He,I as qe,am as Ua,a6 as Je,a7 as Ya,a8 as Xa}from"./index.ff8e7350.js";import{e as Ge,g as ea,h as Be,i as aa,j as Qa,k as Za,c as Ja,l as na,f as en,m as ta,p as Ve,a as ze,b as he,n as an,o as oa,d as Ee,q as nn}from"./conductUtil.2053f1c8.js";import{b as tn}from"./_baseSet.47d9038f.js";import{h as on}from"./hasIn.cdeedf38.js";import{F as rn}from"./FileOutlined.c1895460.js";var ra=Symbol("TreeContextKey"),ln=Ae({name:"TreeContext",props:{value:{type:Object}},setup:function(e,r){var u=r.slots;return Ta(ra,j(function(){return e.value})),function(){var g;return(g=u.default)===null||g===void 0?void 0:g.call(u)}}}),la=function(){return wa(ra,j(function(){return{}}))},dn=function(e){for(var r=e.prefixCls,u=e.level,g=e.isStart,M=e.isEnd,P="".concat(r,"-indent-unit"),d=[],N=0;N<u;N+=1){var C;d.push(K("span",{key:N,class:(C={},B(C,P,!0),B(C,"".concat(P,"-start"),g[N]),B(C,"".concat(P,"-end"),M[N]),C)},null))}return K("span",{"aria-hidden":"true",class:"".concat(r,"-indent")},[d])},da={eventKey:[String,Number],prefixCls:String,expanded:{type:Boolean,default:void 0},selected:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},loaded:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},halfChecked:{type:Boolean,default:void 0},title:me.any,dragOver:{type:Boolean,default:void 0},dragOverGapTop:{type:Boolean,default:void 0},dragOverGapBottom:{type:Boolean,default:void 0},pos:String,data:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:me.any,switcherIcon:me.any,domRef:{type:Function}},un={prefixCls:{type:String},data:{type:Array},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},expandedKeys:{type:Array},selectedKeys:{type:Array},checkedKeys:{type:Array},loadedKeys:{type:Array},loadingKeys:{type:Array},halfCheckedKeys:{type:Array},keyEntities:{type:Object},dragging:{type:Boolean},dragOverNodeKey:{type:[String,Number]},dropPosition:{type:Number},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},ia=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},tabindex:Number,children:me.VNodeChild,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:Boolean,default:void 0},showIcon:{type:Boolean,default:void 0},icon:me.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:me.any,switcherIcon:me.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String}}};function cn(l,e,r){for(var u=-1,g=e.length,M={};++u<g;){var P=e[u],d=La(l,P);r(d,P)&&tn(M,Aa(P,l),d)}return M}function sn(l,e){return cn(l,e,function(r,u){return on(l,u)})}var vn=Ia(function(l,e){return l==null?{}:sn(l,e)}),fn=["eventKey","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMousemove"],ua="open",ca="close",yn="---",We=Ae({name:"TreeNode",inheritAttrs:!1,props:da,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,r){var u=r.attrs,g=r.slots,M=r.expose;Ma(!("slots"in e.data),"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map(function(s){return"`v-slot:"+s+"` "}),"instead"));var P=L(!1),d=la(),N=L(),C=j(function(){var s=e.eventKey,a=d.value.keyEntities,i=a[s]||{},p=i.children;return!!(p||[]).length}),w=j(function(){var s=e.isLeaf,a=e.loaded,i=d.value.loadData,p=C.value;return s===!1?!1:s||!i&&!p||i&&a&&!p}),Z=j(function(){var s=e.expanded;return w.value?null:s?ua:ca}),y=j(function(){var s=e.disabled,a=d.value.disabled;return!!(a||s)}),T=j(function(){var s=e.checkable,a=d.value.checkable;return!a||s===!1?!1:a}),S=j(function(){var s=e.selectable,a=d.value.selectable;return typeof s=="boolean"?s:a}),c=j(function(){return D(D(D({},vn(e,["active","checkable","checked","disableCheckbox","disabled","expanded","isLeaf","loading","selectable","selected","halfChecked"])),e.data),{},{dataRef:e.data,data:e.data,isLeaf:w.value})}),O=j(function(){return Ge(e)}),x=Qe({eventData:O,eventKey:j(function(){return e.eventKey}),selectHandle:N,pos:j(function(){return e.pos}),key:Fa().vnode.key});M(x);var G=function(a){var i=d.value.onNodeDoubleClick;i(a,O.value)},A=function(a){if(!y.value){var i=d.value.onNodeSelect;a.preventDefault(),i(a,O.value)}},V=function(a){if(!y.value){var i=e.disableCheckbox,p=e.checked,I=d.value.onNodeCheck;if(!(!T.value||i)){a.preventDefault();var _=!p;I(a,O.value,_)}}},J=function(a){var i=d.value.onNodeClick;i(a,O.value),S.value?A(a):V(a)},oe=function(a){var i=d.value.onNodeMouseEnter;i(a,O.value)},ne=function(a){var i=d.value.onNodeMouseLeave;i(a,O.value)},F=function(a){var i=d.value.onNodeContextMenu;i(a,O.value)},se=function(a){var i=d.value.onNodeDragStart;a.stopPropagation(),P.value=!0,i(a,x);try{a.dataTransfer.setData("text/plain","")}catch(p){}},ee=function(a){var i=d.value.onNodeDragEnter;a.preventDefault(),a.stopPropagation(),i(a,x)},U=function(a){var i=d.value.onNodeDragOver;a.preventDefault(),a.stopPropagation(),i(a,x)},ve=function(a){var i=d.value.onNodeDragLeave;a.stopPropagation(),i(a,x)},ae=function(a){var i=d.value.onNodeDragEnd;a.stopPropagation(),P.value=!1,i(a,x)},de=function(a){var i=d.value.onNodeDrop;a.preventDefault(),a.stopPropagation(),P.value=!1,i(a,x)},ie=function(a){var i=d.value.onNodeExpand;e.loading||i(a,O.value)},ke=function(){var a,i,p,I=e.switcherIcon,_=I===void 0?g.switcherIcon||((a=d.value.slots)===null||a===void 0?void 0:a[(i=e.data)===null||i===void 0||(p=i.slots)===null||p===void 0?void 0:p.switcherIcon]):I,$=d.value.switcherIcon,Y=_||$;return typeof Y=="function"?Y(c.value):Y},Pe=function(){var a=e.expanded,i=e.loading,p=e.loaded,I=d.value,_=I.loadData,$=I.onNodeLoad;i||_&&a&&!w.value&&!C.value&&!p&&$(O.value)};Re(function(){Pe()}),Ba(function(){});var we=function(){var a=e.expanded,i=d.value.prefixCls,p=ke();if(w.value)return p!==!1?K("span",{class:ye("".concat(i,"-switcher"),"".concat(i,"-switcher-noop"))},[p]):null;var I=ye("".concat(i,"-switcher"),"".concat(i,"-switcher_").concat(a?ua:ca));return p!==!1?K("span",{onClick:ie,class:I},[p]):null},Te=function(){var a,i,p=e.checked,I=e.halfChecked,_=e.disableCheckbox,$=d.value.prefixCls,Y=y.value,te=T.value;return te?K("span",{class:ye("".concat($,"-checkbox"),p&&"".concat($,"-checkbox-checked"),!p&&I&&"".concat($,"-checkbox-indeterminate"),(Y||_)&&"".concat($,"-checkbox-disabled")),onClick:V},[(a=(i=d.value).customCheckable)===null||a===void 0?void 0:a.call(i)]):null},xe=function(){var a=e.loading,i=d.value.prefixCls;return K("span",{class:ye("".concat(i,"-iconEle"),"".concat(i,"-icon__").concat(Z.value||"docu"),a&&"".concat(i,"-icon_loading"))},null)},Le=function(){var a=e.disabled,i=e.eventKey,p=d.value,I=p.draggable,_=p.dropLevelOffset,$=p.dropPosition,Y=p.prefixCls,te=p.indent,X=p.dropIndicatorRender,re=p.dragOverNodeKey,le=p.direction,W=I!==!1,ue=!a&&W&&re===i;return ue?X({dropPosition:$,dropLevelOffset:_,indent:te,prefixCls:Y,direction:le}):null},Ke=function(){var a,i,p,I,_=e.selected,$=e.icon,Y=$===void 0?g.icon:$,te=e.loading,X=e.data,re=g.title||((a=d.value.slots)===null||a===void 0?void 0:a[(i=e.data)===null||i===void 0||(p=i.slots)===null||p===void 0?void 0:p.title])||((I=d.value.slots)===null||I===void 0?void 0:I.title)||e.title,le=d.value,W=le.prefixCls,ue=le.showIcon,Ce=le.icon,pe=le.draggable,De=le.loadData,f=le.slots,n=y.value,o=typeof pe=="function"?pe(X):pe,t="".concat(W,"-node-content-wrapper"),m;if(ue){var b,h,v=Y||((b=d.value.slots)===null||b===void 0?void 0:b[X==null||(h=X.slots)===null||h===void 0?void 0:h.icon])||Ce;m=v?K("span",{class:ye("".concat(W,"-iconEle"),"".concat(W,"-icon__customize"))},[typeof v=="function"?v(c.value):v]):xe()}else De&&te&&(m=xe());var k;typeof re=="function"?k=re(c.value):f.valuetitleRender?k=f.valuetitleRender(c.value):k=re,k=k===void 0?yn:k;var E=K("span",{class:"".concat(W,"-title")},[k]);return K("span",{ref:N,title:typeof re=="string"?re:"",class:ye("".concat(t),"".concat(t,"-").concat(Z.value||"normal"),!n&&(_||P.value)&&"".concat(W,"-node-selected"),!n&&o&&"draggable"),draggable:!n&&o||void 0,"aria-grabbed":!n&&o||void 0,onMouseenter:oe,onMouseleave:ne,onContextmenu:F,onClick:J,onDblclick:G,onDragstart:o?se:void 0},[m,E,Le()])};return function(){var s,a=D(D({},e),u),i=a.eventKey,p=a.dragOver,I=a.dragOverGapTop,_=a.dragOverGapBottom,$=a.isLeaf,Y=a.isStart,te=a.isEnd,X=a.expanded,re=a.selected,le=a.checked,W=a.halfChecked,ue=a.loading,Ce=a.domRef,pe=a.active,De=a.data,f=a.onMousemove,n=je(a,fn),o=d.value,t=o.prefixCls,m=o.filterTreeNode,b=o.draggable,h=o.keyEntities,v=o.dropContainerKey,k=o.dropTargetKey,E=y.value,R=ea(n),H=h[i]||{},q=H.level,z=te[te.length-1],Q=typeof b=="function"?b(De):b;return K("div",D({ref:Ce,class:ye(u.class,"".concat(t,"-treenode"),(s={},B(s,"".concat(t,"-treenode-disabled"),E),B(s,"".concat(t,"-treenode-switcher-").concat(X?"open":"close"),!$),B(s,"".concat(t,"-treenode-checkbox-checked"),le),B(s,"".concat(t,"-treenode-checkbox-indeterminate"),W),B(s,"".concat(t,"-treenode-selected"),re),B(s,"".concat(t,"-treenode-loading"),ue),B(s,"".concat(t,"-treenode-active"),pe),B(s,"".concat(t,"-treenode-leaf-last"),z),B(s,"drop-target",k===i),B(s,"drop-container",v===i),B(s,"drag-over",!E&&p),B(s,"drag-over-gap-top",!E&&I),B(s,"drag-over-gap-bottom",!E&&_),B(s,"filter-node",m&&m(O.value)),s)),style:u.style,onDragenter:Q?ee:void 0,onDragover:Q?U:void 0,onDragleave:Q?ve:void 0,onDrop:Q?de:void 0,onDragend:Q?ae:void 0,onMousemove:f},R),[K(dn,{prefixCls:t,level:q,isStart:Y,isEnd:te},null),we(),Te(),Ke()])}}}),gn=["motion","motionNodes","motionType","active","treeNodeRequiredProps"],hn=Ae({name:"MotionTreeNode",inheritAttrs:!1,props:D(D({},da),{},{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String,treeNodeRequiredProps:{type:Object}}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,r){var u=r.attrs,g=r.slots,M=L(!0),P=la(),d=L(!1),N=L(""),C=L({}),w=j(function(){return e.motion?e.motion:Ra(C,N)}),Z=function(T){if(T==="appear"){var S,c;(S=w.value)===null||S===void 0||(c=S.onAfterAppear)===null||c===void 0||c.call(S)}else if(T==="leave"){var O,x;(O=w.value)===null||O===void 0||(x=O.onAfterLeave)===null||x===void 0||x.call(O)}d.value||e.onMotionEnd(),d.value=!0};return _e(function(){return e.motionNodes},function(){e.motionNodes&&e.motionType==="hide"&&M.value&&ja(function(){M.value=!1})},{immediate:!0,flush:"post"}),Re(function(){e.motionNodes&&e.onMotionStart()}),_a(function(){e.motionNodes&&Z()}),function(){e.motion;var y=e.motionNodes,T=e.motionType,S=e.active,c=e.treeNodeRequiredProps,O=je(e,gn);return y?K(qa,D(D({},w.value),{},{appear:T==="show",onAfterAppear:function(){return Z("appear")},onAfterLeave:function(){return Z("leave")}}),{default:function(){return[$a(K("div",{class:["".concat(P.value.prefixCls,"-treenode-motion"),N.value],style:C.value},[y.map(function(G){var A=ge({},G.data),V=G.title,J=G.key,oe=G.isStart,ne=G.isEnd;delete A.children;var F=Be(J,c);return K(We,D(D(D({},A),F),{},{title:V,active:S,data:G.data,key:J,isStart:oe,isEnd:ne}),g)})]),[[Ha,M.value]])]}}):K(We,D(D({domRef:L,class:u.class,style:u.style},O),{},{active:S}),g)}}});function pn(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=l.length,u=e.length;if(Math.abs(r-u)!==1)return{add:!1,key:null};function g(M,P){var d=new Map;M.forEach(function(C){d.set(C,!0)});var N=P.filter(function(C){return!d.has(C)});return N.length===1?N[0]:null}return r<u?{add:!0,key:g(l,e)}:{add:!1,key:g(e,l)}}function sa(l,e,r){var u=l.findIndex(function(d){var N=d.data;return N.key===r}),g=l[u+1],M=e.findIndex(function(d){var N=d.data;return N.key===r});if(g){var P=e.findIndex(function(d){var N=d.data;return N.key===g.data.key});return e.slice(M+1,P)}return e.slice(M+1)}var bn=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],va={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},mn=function(){},Se="RC_TREE_MOTION_".concat(Math.random()),fa={key:Se},ya={key:Se,level:0,index:0,pos:"0",node:fa},ga={parent:null,children:[],pos:ya.pos,data:fa,title:null,key:Se,isStart:[],isEnd:[]};function ha(l,e,r,u){return e===!1||!r?l:l.slice(0,Math.ceil(r/u)+1)}function kn(l){var e=l.data.key,r=l.pos;return aa(e,r)}function xn(l){for(var e=String(l.data.key),r=l;r.parent;)r=r.parent,e="".concat(r.data.key," > ").concat(e);return e}var Kn=Ae({name:"NodeList",inheritAttrs:!1,props:un,setup:function(e,r){var u=r.expose,g=r.attrs,M=L(),P=L();u({scrollTo:function(T){M.value.scrollTo(T)},getIndentWidth:function(){return P.value.offsetWidth}});var d=L(e.data),N=L([]),C=L(null);function w(){d.value=e.data,N.value=[],C.value=null,e.onListChangeEnd()}_e([function(){return $e(e.expandedKeys)},function(){return e.data}],function(y,T){var S=Ze(y,2),c=S[0],O=S[1],x=Ze(T,2),G=x[0],A=x[1],V=pn(G,c);if(V.key!==null){var J=e.virtual,oe=e.height,ne=e.itemHeight;if(V.add){var F=A.findIndex(function(de){var ie=de.data.key;return ie===V.key}),se=ha(sa(A,O,V.key),J,oe,ne),ee=A.slice();ee.splice(F+1,0,ga),d.value=ee,N.value=se,C.value="show"}else{var U=O.findIndex(function(de){var ie=de.data.key;return ie===V.key}),ve=ha(sa(O,A,V.key),J,oe,ne),ae=O.slice();ae.splice(U+1,0,ga),d.value=ae,N.value=ve,C.value="hide"}}else A!==O&&(d.value=O)}),_e(function(){return e.dragging},function(y){y||w()});var Z=j(function(){return e.motion===void 0?d.value:e.data});return function(){var y=D(D({},e),g),T=y.prefixCls;y.data,y.selectable,y.checkable;var S=y.expandedKeys,c=y.selectedKeys,O=y.checkedKeys,x=y.loadedKeys,G=y.loadingKeys,A=y.halfCheckedKeys,V=y.keyEntities,J=y.disabled;y.dragging;var oe=y.dragOverNodeKey,ne=y.dropPosition,F=y.motion,se=y.height,ee=y.itemHeight,U=y.virtual,ve=y.focusable,ae=y.activeItem,de=y.focused,ie=y.tabindex,ke=y.onKeydown,Pe=y.onFocus,we=y.onBlur,Te=y.onActiveChange,xe=y.onListChangeStart;y.onListChangeEnd;var Le=je(y,bn),Ke={expandedKeys:S,selectedKeys:c,loadedKeys:x,loadingKeys:G,checkedKeys:O,halfCheckedKeys:A,dragOverNodeKey:oe,dropPosition:ne,keyEntities:V};return K(Va,null,[de&&ae&&K("span",{style:va,"aria-live":"assertive"},[xn(ae)]),K("div",null,[K("input",{style:va,disabled:ve===!1||J,tabindex:ve!==!1?ie:null,onKeydown:ke,onFocus:Pe,onBlur:we,value:"",onChange:mn,"aria-label":"for screen reader"},null)]),K("div",{class:"".concat(T,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[K("div",{class:"".concat(T,"-indent")},[K("div",{ref:P,class:"".concat(T,"-indent-unit")},null)])]),K(Ga,D(D({},Le),{},{data:Z.value,itemKey:kn,height:se,fullHeight:!1,virtual:U,itemHeight:ee,prefixCls:"".concat(T,"-list"),ref:M,children:function(a){var i=a.pos,p=ge({},a.data),I=a.title,_=a.key,$=a.isStart,Y=a.isEnd,te=aa(_,i);delete p.key,delete p.children;var X=Be(te,Ke);return K(hn,D(D(D({},p),X),{},{title:I,active:!!ae&&_===ae.data.key,pos:i,data:a.data,isStart:$,isEnd:Y,motion:F,motionNodes:_===Se?N.value:null,motionType:C.value,onMotionStart:xe,onMotionEnd:w,treeNodeRequiredProps:Ke,onMousemove:function(){Te(null)}}),null)}}),null)])}}});function Cn(l){var e=l.dropPosition,r=l.dropLevelOffset,u=l.indent,g={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(e){case-1:g.top=0,g.left="".concat(-r*u,"px");break;case 1:g.bottom=0,g.left="".concat(-r*u,"px");break;case 0:g.bottom=0,g.left="".concat(u);break}return K("div",{style:g},null)}var Dn=Ae({name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:za(ia(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Cn,allowDrop:function(){return!0}}),setup:function(e,r){var u=r.attrs,g=r.slots,M=r.expose,P=L(!1),d={},N=L(),C=L([]),w=L([]),Z=L([]),y=L([]),T=L([]),S=L([]),c=Qe({dragging:!1,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),O=j(function(){return e.treeData!==void 0?e.treeData:Qa(e.children)}),x=L({}),G=L(!1),A=L(null),V=L(!1),J=j(function(){return Za(e.fieldNames)}),oe=L(),ne=null,F=null,se=j(function(){return{expandedKeys:S.value||[],selectedKeys:C.value||[],loadedKeys:y.value||[],loadingKeys:T.value||[],checkedKeys:w.value||[],halfCheckedKeys:Z.value||[],dragOverNodeKey:c.dragOverNodeKey,dropPosition:c.dropPosition,keyEntities:x.value}});Ie(function(){if(O.value){var f=Ja(O.value,{fieldNames:J.value});x.value=D(B({},Se,ya),f.keyEntities)}});var ee=!1;Re(function(){ee=!0}),Ie(function(){var f=S.value;if(e.expandedKeys!==void 0||ee&&e.autoExpandParent)f=e.autoExpandParent||!ee&&e.defaultExpandParent?na(e.expandedKeys,x.value):e.expandedKeys;else if(!ee&&e.defaultExpandAll){var n=D({},x.value);delete n[Se],f=Object.keys(n).map(function(o){return n[o].key})}else!ee&&e.defaultExpandedKeys&&(f=e.autoExpandParent||e.defaultExpandParent?na(e.defaultExpandedKeys,x.value):e.defaultExpandedKeys);f&&(S.value=f)});var U=j(function(){return en(O.value,S.value,J.value)});Ie(function(){e.selectable&&(e.selectedKeys!==void 0?C.value=ta(e.selectedKeys,e):!ee&&e.defaultSelectedKeys&&(C.value=ta(e.defaultSelectedKeys,e)))}),Ie(function(){if(e.checkable){var f;if(e.checkedKeys!==void 0?f=Ve(e.checkedKeys)||{}:!ee&&e.defaultCheckedKeys?f=Ve(e.defaultCheckedKeys)||{}:O.value&&(f=Ve(e.checkedKeys)||{checkedKeys:w.value,halfCheckedKeys:Z.value}),f){var n=f,o=n.checkedKeys,t=o===void 0?[]:o,m=n.halfCheckedKeys,b=m===void 0?[]:m;if(!e.checkStrictly){var h=ze(t,!0,x.value);t=h.checkedKeys,b=h.halfCheckedKeys}w.value=t,Z.value=b}}}),Ie(function(){e.loadedKeys&&(y.value=e.loadedKeys)});var ve=function(n){oe.value.scrollTo(n)},ae=function(n){e.expandedKeys===void 0&&(S.value=n)},de=function(){c.dragging&&ge(c,{dragging:!1,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),ne=null},ie=function(n,o){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=e.onDragend;c.dragOverNodeKey=null,de(),m&&!t&&m({event:n,node:o.eventData}),F=null},ke=function f(n){ie(n,null,!0),window.removeEventListener("dragend",f)},Pe=function(n,o){var t=e.onDragstart,m=o.eventKey,b=o.eventData;F=o,ne={x:n.clientX,y:n.clientY};var h=he(S.value,m);c.dragging=!0,c.dragChildrenKeys=an(m,x.value),N.value=oe.value.getIndentWidth(),ae(h),window.addEventListener("dragend",ke),t&&t({event:n,node:b})},we=function(n,o){var t=e.onDragenter,m=e.onExpand,b=e.allowDrop,h=e.direction,v=oa(n,F,o,N.value,ne,b,U.value,x.value,S.value,h),k=v.dropPosition,E=v.dropLevelOffset,R=v.dropTargetKey,H=v.dropContainerKey,q=v.dropTargetPos,z=v.dropAllowed,Q=v.dragOverNodeKey;if(!F||c.dragChildrenKeys.indexOf(R)!==-1||!z){ge(c,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1});return}if(d||(d={}),Object.keys(d).forEach(function(ce){clearTimeout(d[ce])}),F.eventKey!==o.eventKey&&(d[o.pos]=window.setTimeout(function(){if(!!c.dragging){var ce=$e(S.value),be=x.value[o.eventKey];be&&(be.children||[]).length&&(ce=Ee(S.value,o.eventKey)),ae(ce),m&&m(ce,{node:o.eventData,expanded:!0,nativeEvent:n})}},800)),F.eventKey===R&&E===0){ge(c,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1});return}ge(c,{dragOverNodeKey:Q,dropPosition:k,dropLevelOffset:E,dropTargetKey:R,dropContainerKey:H,dropTargetPos:q,dropAllowed:z}),t&&t({event:n,node:o.eventData,expandedKeys:S.value})},Te=function(n,o){var t=e.onDragover,m=e.allowDrop,b=e.direction,h=oa(n,F,o,N.value,ne,m,U.value,x.value,S.value,b),v=h.dropPosition,k=h.dropLevelOffset,E=h.dropTargetKey,R=h.dropContainerKey,H=h.dropAllowed,q=h.dropTargetPos,z=h.dragOverNodeKey;!F||c.dragChildrenKeys.indexOf(E)!==-1||!H||(F.eventKey===E&&k===0?c.dropPosition===null&&c.dropLevelOffset===null&&c.dropTargetKey===null&&c.dropContainerKey===null&&c.dropTargetPos===null&&c.dropAllowed===!1&&c.dragOverNodeKey===null||ge(c,{dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1,dragOverNodeKey:null}):v===c.dropPosition&&k===c.dropLevelOffset&&E===c.dropTargetKey&&R===c.dropContainerKey&&q===c.dropTargetPos&&H===c.dropAllowed&&z===c.dragOverNodeKey||ge(c,{dropPosition:v,dropLevelOffset:k,dropTargetKey:E,dropContainerKey:R,dropTargetPos:q,dropAllowed:H,dragOverNodeKey:z}),t&&t({event:n,node:o.eventData}))},xe=function(n,o){var t=e.onDragleave;t&&t({event:n,node:o.eventData})},Le=function(n,o){var t,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=c.dragChildrenKeys,h=c.dropPosition,v=c.dropTargetKey,k=c.dropTargetPos,E=c.dropAllowed;if(!!E){var R=e.onDrop;if(c.dragOverNodeKey=null,de(),v!==null){var H=D(D({},Be(v,se.value)),{},{active:((t=ue.value)===null||t===void 0?void 0:t.data.key)===v,data:x.value[v].node});b.indexOf(v);var q=nn(k),z={event:n,node:Ge(H),dragNode:F?F.eventData:null,dragNodesKeys:[F.eventKey].concat(b),dropToGap:h!==0,dropPosition:h+Number(q[q.length-1])};R&&!m&&R(z),F=null}}},Ke=function(n,o){var t=e.onClick;t&&t(n,o)},s=function(n,o){var t=e.onDblclick;t&&t(n,o)},a=function(n,o){var t=C.value,m=e.onSelect,b=e.multiple,h=o.selected,v=o[J.value.key],k=!h;k?b?t=Ee(t,v):t=[v]:t=he(t,v);var E=x.value,R=t.map(function(H){var q=E[H];return q?q.node:null}).filter(function(H){return H});e.selectedKeys===void 0&&(C.value=t),m&&m(t,{event:"select",selected:k,node:o,selectedNodes:R,nativeEvent:n})},i=function(n,o,t){var m=e.checkStrictly,b=e.onCheck,h=o.key,v,k={event:"check",node:o,checked:t,nativeEvent:n};if(m){var E=t?Ee(w.value,h):he(w.value,h),R=he(Z.value,h);v={checked:E,halfChecked:R};var H=x.value;k.checkedNodes=E.map(function(fe){return H[fe]}).filter(function(fe){return fe}).map(function(fe){return fe.node}),e.checkedKeys===void 0&&(w.value=E)}else{var q=ze([].concat($e(w.value),[h]),!0,x.value),z=q.checkedKeys,Q=q.halfCheckedKeys;if(!t){var ce=new Set(z);ce.delete(h);var be=ze(Array.from(ce),{checked:!1,halfCheckedKeys:Q},x.value);z=be.checkedKeys,Q=be.halfCheckedKeys}v=z,k.checkedNodes=[],k.checkedNodesPositions=[],k.halfCheckedKeys=Q,z.forEach(function(fe){var Ne=x.value[fe];if(!!Ne){var Me=Ne.node,Fe=Ne.pos;k.checkedNodes.push(Me),k.checkedNodesPositions.push({node:Me,pos:Fe})}}),e.checkedKeys===void 0&&(w.value=z,Z.value=Q)}b&&b(v,k)},p=function(n){return new Promise(function(o,t){var m=e.loadData,b=e.onLoad,h=n.key;if(!m||y.value.indexOf(h)!==-1||T.value.indexOf(h)!==-1)return null;var v=m(n);v.then(function(){var k=Ee(y.value,h),E=he(T.value,h);b&&b(k,{event:"load",node:n}),e.loadedKeys===void 0&&(y.value=k),T.value=E,o()}).catch(function(k){var E=he(T.value,h);T.value=E,t(k)}),T.value=Ee(T.value,h)})},I=function(n,o){var t=e.onMouseenter;t&&t({event:n,node:o})},_=function(n,o){var t=e.onMouseleave;t&&t({event:n,node:o})},$=function(n,o){var t=e.onRightClick;t&&(n.preventDefault(),t({event:n,node:o}))},Y=function(n){var o=e.onFocus;G.value=!0,o&&o(n)},te=function(n){var o=e.onBlur;G.value=!1,W(null),o&&o(n)},X=function(n,o){var t=S.value,m=e.onExpand,b=e.loadData,h=o.expanded,v=o[J.value.key];if(!V.value){t.indexOf(v);var k=!h;if(k?t=Ee(t,v):t=he(t,v),ae(t),m&&m(t,{node:o,expanded:k,nativeEvent:n}),k&&b){var E=p(o);E&&E.then(function(){}).catch(function(R){var H=he(S.value,v);ae(H),Promise.reject(R)})}}},re=function(){V.value=!0},le=function(){setTimeout(function(){V.value=!1})},W=function(n){var o=e.onActiveChange;A.value!==n&&(A.value=n,n!==null&&ve({key:n}),o&&o(n))},ue=j(function(){return A.value===null?null:U.value.find(function(f){var n=f.data.key;return n===A.value})||null}),Ce=function(n){var o=U.value.findIndex(function(b){var h=b.data.key;return h===A.value});o===-1&&n<0&&(o=U.value.length),o=(o+n+U.value.length)%U.value.length;var t=U.value[o];if(t){var m=t.data.key;W(m)}else W(null)},pe=j(function(){return Ge(D(D({},Be(A.value,se.value)),{},{data:ue.value.data,active:!0}))}),De=function(n){var o=e.onKeydown,t=e.checkable,m=e.selectable;switch(n.which){case Oe.UP:{Ce(-1),n.preventDefault();break}case Oe.DOWN:{Ce(1),n.preventDefault();break}}var b=ue.value;if(b&&b.data){var h=b.data.isLeaf===!1||!!(b.data.children||[]).length,v=pe.value;switch(n.which){case Oe.LEFT:{h&&S.value.includes(A.value)?X({},v):b.parent&&W(b.parent.data.key),n.preventDefault();break}case Oe.RIGHT:{h&&!S.value.includes(A.value)?X({},v):b.children&&b.children.length&&W(b.children[0].data.key),n.preventDefault();break}case Oe.ENTER:case Oe.SPACE:{t&&!v.disabled&&v.checkable!==!1&&!v.disableCheckbox?i({},v,!w.value.includes(A.value)):!t&&m&&!v.disabled&&v.selectable!==!1&&a({},v);break}}}o&&o(n)};return M({onNodeExpand:X,scrollTo:ve,onKeydown:De}),Wa(function(){window.removeEventListener("dragend",ke),P.value=!0}),function(){var f,n=c.dragging,o=c.dropLevelOffset,t=c.dropContainerKey,m=c.dropTargetKey,b=c.dropPosition,h=c.dragOverNodeKey,v=e.prefixCls,k=e.showLine,E=e.focusable,R=e.tabindex,H=R===void 0?0:R,q=e.selectable,z=e.showIcon,Q=e.icon,ce=Q===void 0?g.icon:Q,be=e.switcherIcon,fe=e.draggable,Ne=e.checkable,Me=e.checkStrictly,Fe=e.disabled,pa=e.motion,ba=e.loadData,ma=e.filterTreeNode,ka=e.height,xa=e.itemHeight,Ka=e.virtual,Ca=e.dropIndicatorRender,Da=e.onContextmenu,Na=e.onScroll,Oa=e.direction,Ea=u.class,Sa=u.style,Pa=ea(D(D({},e),u));return K(ln,{value:{prefixCls:v,selectable:q,showIcon:z,icon:ce,switcherIcon:be,draggable:fe,checkable:Ne,customCheckable:g.checkable,checkStrictly:Me,disabled:Fe,keyEntities:x.value,dropLevelOffset:o,dropContainerKey:t,dropTargetKey:m,dropPosition:b,dragOverNodeKey:h,indent:N.value,direction:Oa,dropIndicatorRender:Ca,loadData:ba,filterTreeNode:ma,onNodeClick:Ke,onNodeDoubleClick:s,onNodeExpand:X,onNodeSelect:a,onNodeCheck:i,onNodeLoad:p,onNodeMouseEnter:I,onNodeMouseLeave:_,onNodeContextMenu:$,onNodeDragStart:Pe,onNodeDragEnter:we,onNodeDragOver:Te,onNodeDragLeave:xe,onNodeDragEnd:ie,onNodeDrop:Le,slots:g}},{default:function(){return[K("div",{role:"tree",class:ye(v,Ea,(f={},B(f,"".concat(v,"-show-line"),k),B(f,"".concat(v,"-focused"),G.value),B(f,"".concat(v,"-active-focused"),A.value!==null),f))},[K(Kn,D(D({ref:oe,prefixCls:v,style:Sa,data:U.value,disabled:Fe,selectable:q,checkable:!!Ne,motion:pa,dragging:n,height:ka,itemHeight:xa,virtual:Ka,focusable:E,focused:G.value,tabindex:H,activeItem:ue.value,onFocus:Y,onBlur:te,onKeydown:De,onActiveChange:W,onListChangeStart:re,onListChangeEnd:le,onContextmenu:Da,onScroll:Na},se.value),Pa),null)])]}})}}}),Nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function On(l){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},u=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(r).filter(function(g){return Object.getOwnPropertyDescriptor(r,g).enumerable}))),u.forEach(function(g){En(l,g,r[g])})}return l}function En(l,e,r){return e in l?Object.defineProperty(l,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[e]=r,l}var Ue=function(e,r){var u=On({},e,r.attrs);return K(qe,He(u,{icon:Nn}),null)};Ue.displayName="MinusSquareOutlined",Ue.inheritAttrs=!1;var Sn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function Pn(l){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},u=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(r).filter(function(g){return Object.getOwnPropertyDescriptor(r,g).enumerable}))),u.forEach(function(g){wn(l,g,r[g])})}return l}function wn(l,e,r){return e in l?Object.defineProperty(l,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[e]=r,l}var Ye=function(e,r){var u=Pn({},e,r.attrs);return K(qe,He(u,{icon:Sn}),null)};Ye.displayName="PlusSquareOutlined",Ye.inheritAttrs=!1;var Tn={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function Ln(l){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},u=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(r).filter(function(g){return Object.getOwnPropertyDescriptor(r,g).enumerable}))),u.forEach(function(g){An(l,g,r[g])})}return l}function An(l,e,r){return e in l?Object.defineProperty(l,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[e]=r,l}var Xe=function(e,r){var u=Ln({},e,r.attrs);return K(qe,He(u,{icon:Tn}),null)};Xe.displayName="CaretDownFilled",Xe.inheritAttrs=!1;function In(l,e,r,u){var g=u.isLeaf,M=u.expanded,P=u.loading,d=e;if(P)return K(Ua,{class:"".concat(l,"-switcher-loading-icon")},null);var N;r&&Je(r)==="object"&&(N=r.showLeafIcon);var C=null,w="".concat(l,"-switcher-icon");return g?(r&&(Je(r)==="object"&&!N?C=K("span",{class:"".concat(l,"-switcher-leaf-line")},null):C=K(rn,{class:"".concat(l,"-switcher-line-icon")},null)),C):(C=K(Xe,{class:w},null),r&&(C=M?K(Ue,{class:"".concat(l,"-switcher-line-icon")},null):K(Ye,{class:"".concat(l,"-switcher-line-icon")},null)),typeof e=="function"?d=e(D(D({},u),{},{defaultIcon:C,switcherCls:w})):Ya(d)&&(d=Xa(d,{class:w})),d||C)}export{Dn as T,We as a,In as r,ia as t};
