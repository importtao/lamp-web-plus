var Xe=Object.assign;import{c as Yr,b as $r,d as Qr}from"./vendor.352e3120.js";import{d as eo,aC as _n,w as Rt,dN as to,ap as no,k as ro,D as ot,x as oo,V as io,ai as ao,o as lo,n as so}from"./index.05ea33df.js";import{u as co}from"./useModal.024b9b70.js";import"./useWindowSizeFn.bedcc730.js";import"./FullscreenOutlined.6ef047e2.js";/*!
 * Vditor v3.8.3 - A markdown editor written in TypeScript.
 *   
 * MIT License
 * 
 * Copyright (c) 2018-present B3log 开源, b3log.org
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */var po=Yr(function(Je,gt){(function(re,N){Je.exports=N()})($r,function(){return function(re){var N={};function g(l){if(N[l])return N[l].exports;var f=N[l]={i:l,l:!1,exports:{}};return re[l].call(f.exports,f,f.exports,g),f.l=!0,f.exports}return g.m=re,g.c=N,g.d=function(l,f,s){g.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:s})},g.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},g.t=function(l,f){if(1&f&&(l=g(l)),8&f||4&f&&typeof l=="object"&&l&&l.__esModule)return l;var s=Object.create(null);if(g.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:l}),2&f&&typeof l!="string")for(var c in l)g.d(s,c,function(v){return l[v]}.bind(null,c));return s},g.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return g.d(f,"a",f),f},g.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},g.p="",g(g.s=28)}([function(re,N,g){g.d(N,"g",function(){return f}),g.d(N,"h",function(){return s}),g.d(N,"b",function(){return c}),g.d(N,"d",function(){return v}),g.d(N,"c",function(){return u}),g.d(N,"f",function(){return p}),g.d(N,"e",function(){return E}),g.d(N,"a",function(){return b});var l=g(6),f=function(C,_){for(var S=E(C,_),x=!1,L=!1;S&&!S.classList.contains("vditor-reset")&&!L;)(x=E(S.parentElement,_))?S=x:L=!0;return S||!1},s=function(C,_){for(var S=Object(l.b)(C,_),x=!1,L=!1;S&&!S.classList.contains("vditor-reset")&&!L;)(x=Object(l.b)(S.parentElement,_))?S=x:L=!0;return S||!1},c=function(C){var _=s(C,"UL"),S=s(C,"OL"),x=_;return S&&(!_||_&&S.contains(_))&&(x=S),x},v=function(C,_,S){if(!C)return!1;C.nodeType===3&&(C=C.parentElement);for(var x=C,L=!1;x&&!L&&!x.classList.contains("vditor-reset");)x.getAttribute(_)===S?L=!0:x=x.parentElement;return L&&x},u=function(C){if(!C)return!1;C.nodeType===3&&(C=C.parentElement);var _=C,S=!1,x=v(C,"data-block","0");if(x)return x;for(;_&&!S&&!_.classList.contains("vditor-reset");)_.tagName==="H1"||_.tagName==="H2"||_.tagName==="H3"||_.tagName==="H4"||_.tagName==="H5"||_.tagName==="H6"||_.tagName==="P"||_.tagName==="BLOCKQUOTE"||_.tagName==="OL"||_.tagName==="UL"?S=!0:_=_.parentElement;return S&&_},p=function(C,_){if(!C)return!1;C.nodeType===3&&(C=C.parentElement);for(var S=C,x=!1;S&&!x&&!S.classList.contains("vditor-reset");)S.nodeName===_?x=!0:S=S.parentElement;return x&&S},E=function(C,_){if(!C)return!1;C.nodeType===3&&(C=C.parentElement);for(var S=C,x=!1;S&&!x&&!S.classList.contains("vditor-reset");)S.classList.contains(_)?x=!0:S=S.parentElement;return x&&S},b=function(C){for(;C&&C.lastChild;)C=C.lastChild;return C}},function(re,N,g){g.d(N,"b",function(){return c}),g.d(N,"a",function(){return v}),g.d(N,"e",function(){return u}),g.d(N,"h",function(){return p}),g.d(N,"c",function(){return E}),g.d(N,"g",function(){return b}),g.d(N,"f",function(){return C}),g.d(N,"d",function(){return _});var l=g(2),f=g(3),s=g(0),c=function(S){var x,L=S[S.currentMode].element;return getSelection().rangeCount>0&&(x=getSelection().getRangeAt(0),L.isEqualNode(x.startContainer)||L.contains(x.startContainer))?x:S[S.currentMode].range?S[S.currentMode].range:(L.focus(),(x=L.ownerDocument.createRange()).setStart(L,0),x.collapse(!0),x)},v=function(S){var x=window.getSelection().getRangeAt(0);if(!S.contains(x.startContainer)&&!Object(s.e)(x.startContainer,"vditor-panel--none"))return{left:0,top:0};var L,I=S.parentElement.getBoundingClientRect();if(x.getClientRects().length===0)if(x.startContainer.nodeType===3){var U=x.startContainer.parentElement;if(!(U&&U.getClientRects().length>0))return{left:0,top:0};L=U.getClientRects()[0]}else{var Z=x.startContainer.children;if(Z[x.startOffset]&&Z[x.startOffset].getClientRects().length>0)L=Z[x.startOffset].getClientRects()[0];else if(x.startContainer.childNodes.length>0){var w=x.cloneRange();x.selectNode(x.startContainer.childNodes[Math.max(0,x.startOffset-1)]),L=x.getClientRects()[0],x.setEnd(w.endContainer,w.endOffset),x.setStart(w.startContainer,w.startOffset)}else L=x.startContainer.getClientRects()[0];if(!L){for(var Q=x.startContainer.childNodes[x.startOffset];!Q.getClientRects||Q.getClientRects&&Q.getClientRects().length===0;)Q=Q.parentElement;L=Q.getClientRects()[0]}}else L=x.getClientRects()[0];return{left:L.left-I.left,top:L.top-I.top}},u=function(S,x){if(!x){if(getSelection().rangeCount===0)return!1;x=getSelection().getRangeAt(0)}var L=x.commonAncestorContainer;return S.isEqualNode(L)||S.contains(L)},p=function(S){var x=window.getSelection();x.removeAllRanges(),x.addRange(S)},E=function(S,x,L){var I={end:0,start:0};if(!L){if(getSelection().rangeCount===0)return I;L=window.getSelection().getRangeAt(0)}if(u(x,L)){var U=L.cloneRange();S.childNodes[0]&&S.childNodes[0].childNodes[0]?U.setStart(S.childNodes[0].childNodes[0],0):U.selectNodeContents(S),U.setEnd(L.startContainer,L.startOffset),I.start=U.toString().length,I.end=I.start+L.toString().length}return I},b=function(S,x,L){var I=0,U=0,Z=L.childNodes[U],w=!1,Q=!1;S=Math.max(0,S),x=Math.max(0,x);var te=L.ownerDocument.createRange();for(te.setStart(Z||L,0),te.collapse(!0);!Q&&Z;){var pe=I+Z.textContent.length;if(!w&&S>=I&&S<=pe&&(S===0?te.setStart(Z,0):Z.childNodes[0].nodeType===3?te.setStart(Z.childNodes[0],S-I):Z.nextSibling?te.setStartBefore(Z.nextSibling):te.setStartAfter(Z),w=!0,S===x)){Q=!0;break}w&&x>=I&&x<=pe&&(x===0?te.setEnd(Z,0):Z.childNodes[0].nodeType===3?te.setEnd(Z.childNodes[0],x-I):Z.nextSibling?te.setEndBefore(Z.nextSibling):te.setEndAfter(Z),Q=!0),I=pe,Z=L.childNodes[++U]}return!Q&&L.childNodes[U-1]&&te.setStartBefore(L.childNodes[U-1]),p(te),te},C=function(S,x){var L=S.querySelector("wbr");if(L){if(L.previousElementSibling)if(L.previousElementSibling.isSameNode(L.previousSibling)){if(L.previousElementSibling.lastChild)return x.setStartBefore(L),x.collapse(!0),p(x),!Object(f.c)()||L.previousElementSibling.tagName!=="EM"&&L.previousElementSibling.tagName!=="STRONG"&&L.previousElementSibling.tagName!=="S"||(x.insertNode(document.createTextNode(l.a.ZWSP)),x.collapse(!1)),void L.remove();x.setStartAfter(L.previousElementSibling)}else x.setStart(L.previousSibling,L.previousSibling.textContent.length);else L.previousSibling?x.setStart(L.previousSibling,L.previousSibling.textContent.length):L.nextSibling?L.nextSibling.nodeType===3?x.setStart(L.nextSibling,0):x.setStartBefore(L.nextSibling):x.setStart(L.parentElement,0);x.collapse(!0),L.remove(),p(x)}},_=function(S,x){var L=document.createElement("div");L.innerHTML=S;var I=L.querySelectorAll("p");I.length===1&&!I[0].previousSibling&&!I[0].nextSibling&&x[x.currentMode].element.children.length>0&&L.firstElementChild.tagName==="P"&&(S=I[0].innerHTML.trim());var U=document.createElement("div");U.innerHTML=S;var Z=c(x);if(Z.toString()!==""&&(x[x.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),U.firstElementChild&&U.firstElementChild.getAttribute("data-block")==="0"){U.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var w=Object(s.c)(Z.startContainer);w?w.insertAdjacentHTML("afterend",U.innerHTML):x[x.currentMode].element.insertAdjacentHTML("beforeend",U.innerHTML),C(x[x.currentMode].element,Z)}else{var Q=document.createElement("template");Q.innerHTML=S,Z.insertNode(Q.content.cloneNode(!0)),Z.collapse(!1),p(Z)}}},function(re,N,g){g.d(N,"b",function(){return l}),g.d(N,"a",function(){return f});var l="3.8.3",f=function(){function s(){}return s.ZWSP="\u200B",s.DROP_EDITOR="application/editor",s.MOBILE_WIDTH=520,s.CLASS_MENU_DISABLED="vditor-menu--disabled",s.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],s.CODE_THEME=["abap","algol","algol_nu","arduino","autumn","borland","bw","colorful","dracula","emacs","friendly","fruity","github","igor","lovelace","manni","monokai","monokailight","murphy","native","paraiso-dark","paraiso-light","pastie","perldoc","pygments","rainbow_dash","rrt","solarized-dark","solarized-dark256","solarized-light","swapoff","tango","trac","vim","vs","xcode","ant-design"],s.CODE_LANGUAGES=["mermaid","echarts","mindmap","plantuml","abc","graphviz","flowchart","apache","bash","cs","cpp","css","coffeescript","diff","xml","http","ini","json","java","javascript","js","makefile","markdown","nginx","objectivec","php","perl","properties","python","ruby","sql","shell","dart","erb","go","gradle","julia","kotlin","less","lua","matlab","rust","scss","typescript","ts","yaml"],s.CDN="https://cdn.jsdelivr.net/npm/vditor@3.8.3",s.MARKDOWN_OPTIONS={autoSpace:!1,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},s.HLJS_OPTIONS={enable:!0,lineNumber:!1,style:"github"},s.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},s.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:s.CDN+"/dist/css/content-theme"},s}()},function(re,N,g){g.d(N,"f",function(){return l}),g.d(N,"e",function(){return f}),g.d(N,"a",function(){return s}),g.d(N,"b",function(){return c}),g.d(N,"d",function(){return v}),g.d(N,"g",function(){return u}),g.d(N,"c",function(){return p});var l=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},f=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},s=function(){try{return typeof localStorage!="undefined"}catch(E){return!1}},c=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},v=function(E){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!(!E.metaKey||E.ctrlKey):!(E.metaKey||!E.ctrlKey)},u=function(E){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?E.indexOf("\u21E7")>-1&&f()&&(E=E.replace(";",":").replace("=","+").replace("-","_")):(E=(E=E.startsWith("\u2318")?E.replace("\u2318","\u2318+"):E.startsWith("\u2325")&&E.substr(1,1)!=="\u2318"?E.replace("\u2325","\u2325+"):E.replace("\u21E7\u2318","\u2318+\u21E7+").replace("\u2325\u2318","\u2325+\u2318+")).replace("\u2318","Ctrl").replace("\u21E7","Shift").replace("\u2325","Alt")).indexOf("Shift")>-1&&(E=E.replace(";",":").replace("=","+").replace("-","_")),E},p=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},function(re,N,g){g.d(N,"a",function(){return l});var l={en_US:{alignCenter:"Center",alignLeft:"Left",alignRight:"Right",alternateText:"Alternate text",bold:"Blod",both:"editor & preview",check:"Task List",close:"Close",code:"Code Block","code-theme":"Code Block Theme Preview",column:"Column",comment:"Comment",confirm:"Confirm","content-theme":"Content Theme Preview",copied:"Copied",copy:"Copy","delete-column":"Delete Row","delete-row":"Delete Column",devtools:"DevTools",down:"Down",downloadTip:"The browser does not support the download function",edit:"Edit","edit-mode":"Toggle Edit Mode",emoji:"Emoji",export:"Export",fileTypeError:"file type is error",footnoteRef:"Footnote Ref",fullscreen:"Toggle Fullscreen",generate:"Generating",headings:"Headings",help:"Help",imageURL:"image URL",indent:"Indent",info:"Info","inline-code":"Inline Code","insert-after":"Insert line after","insert-before":"Insert line Before",insertColumnLeft:"Insert 1 left",insertColumnRight:"Insert 1 right",insertRowAbove:"Insert 1 above",insertRowBelow:"Insert 1 below",instantRendering:"Instant Rendering",italic:"Italic",language:"Language",line:"Line",link:"Link",linkRef:"Link Ref",list:"List",more:"More",nameEmpty:"Name is empty","ordered-list":"Order List",outdent:"Outdent",outline:"Outline",over:"over",performanceTip:"Real-time preview requires ${x}ms, you can close it",preview:"Preview",quote:"Quote",record:"Start Record/End Record","record-tip":"The device does not support recording",recording:"recording...",redo:"Redo",remove:"Remove",row:"Row",spin:"Spin",splitView:"Split View",strike:"Strike",table:"Table",textIsNotEmpty:"text(no empty)",title:"Title",tooltipText:"Tooltip text",undo:"Undo",up:"Up",update:"Update",upload:"Upload image or file",uploadError:"upload error",uploading:"uploading...",wysiwyg:"WYSIWYG"},ja_JP:{alignCenter:"\u4E2D\u592E",alignLeft:"\u5DE6\u5074",alignRight:"\u53F3\u5074",alternateText:"\u30A4\u30E1\u30FC\u30B8\u30BF\u30B0",bold:"\u592A\u304F",both:"\u30A8\u30C7\u30A3\u30BF\u30FC & \u30D7\u30EC\u30D3\u30E5\u30FC",check:"\u30C1\u30A7\u30C3\u30AF\u30EA\u30B9\u30C8",close:"\u9589\u3058\u308B",code:"\u30B3\u30FC\u30C9\u30D6\u30ED\u30C3\u30AF\u633F\u5165","code-theme":"\u30B3\u30FC\u30C9\u30D6\u30ED\u30C3\u30AF\u30C6\u30FC\u30DE",column:"\u884C\u5217",comment:"\u30B3\u30E1\u30F3\u30C8",confirm:"\u78BA\u8A8D","content-theme":"\u30B3\u30F3\u30C6\u30F3\u30C4\u30C6\u30FC\u30DE",copied:"\u30B3\u30D4\u30FC\u5B8C\u4E86",copy:"\u30B3\u30D4\u30FC","delete-column":"\u5217 \u6D88\u53BB","delete-row":"\u884C \u6D88\u53BB",devtools:"\u958B\u767A\u30C4\u30FC\u30EB",down:"\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9",downloadTip:"\u30D6\u30E9\u30A6\u30B6\u304C\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u6A5F\u80FD\u3092\u30B5\u30DD\u30FC\u30C8\u3057\u3066\u3044\u307E\u305B\u3093\u3002",edit:"\u4FEE\u6B63","edit-mode":"\u7DE8\u96C6\u30E2\u30FC\u30C9",emoji:"\u7D75\u6587\u5B57",export:"\u66F8\u304D\u51FA\u3057",fileTypeError:"\u30B5\u30DD\u30FC\u30C8\u3057\u3066\u3044\u307E\u305B\u3093\u3002",footnoteRef:"\u811A\u6CE8\u53C2\u7167",fullscreen:"\u5168\u4F53\u753B\u9762",generate:"\u4F5C\u6210\u3059\u308B",headings:"\u30BF\u30A4\u30C8\u30EB\u5927\u304D\u3055",help:"\u30D8\u30EB\u30D7",imageURL:"\u30A4\u30E1\u30FC\u30B8 URL",indent:"\u5B57\u4E0B\u3052",info:"\u60C5\u5831","inline-code":"\u30A4\u30F3\u30E9\u30A4\u30F3\u30B3\u30FC\u30C9","insert-after":"\u30D6\u30ED\u30C3\u30AF\u306E\u5F8C\u308D\u306B\u5165\u529B","insert-before":"\u30D6\u30ED\u30C3\u30AF\u306E\u524D\u306B\u5165\u529B",insertColumnLeft:"\u5DE6\u5074\u306B\u5217\u3092\u633F\u5165",insertColumnRight:"\u53F3\u5074\u306B\u5217\u3092\u633F\u5165",insertRowAbove:"\u4E0A\u306B\u884C\u3092\u633F\u5165",insertRowBelow:"\u4E0B\u306B\u884C\u3092\u633F\u5165",instantRendering:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30C8\u30EC\u30F3\u30C0\u30EA\u30F3\u30B0",italic:"\u659C\u4F53",language:"\u8A00\u8A9E",line:"\u6BB5\u843D\u5206\u5272",link:"\u30EA\u30F3\u30AF",linkRef:"\u30EA\u30F3\u30AF\u53C2\u7167",list:"\u30EA\u30B9\u30C8",more:"\u8A73\u3057\u304F\u898B\u308B",nameEmpty:"\u540D\u524D\u304C\u5165\u529B\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002","ordered-list":"\u9806\u5E8F\u306E\u3042\u308B\u30EA\u30B9\u30C8",outdent:"\u3076\u3089\u4E0B\u3052\u30A4\u30F3\u30C7\u30F3\u30C8",outline:"\u6982\u8981",over:"\u30AA\u30FC\u30D0\u30FC",performanceTip:"\u30EA\u30A2\u30EB\u30BF\u30A4\u30E0\u30D7\u30EC\u30D3\u30E5\u30FC\u306B\u306F\u3001${x}ms\u304C\u5FC5\u8981\u3067\u30A8\u30C7\u30A3\u30BF\u30FC/\u30D7\u30EC\u30D3\u30E5\u30FC\u30DC\u30BF\u30F3\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u9589\u3058\u308B\u4E8B\u304C\u51FA\u6765\u307E\u3059\u3002",preview:"\u30D7\u30EC\u30D3\u30E5\u30FC",quote:"\u5F15\u7528\u6BB5\u843D",record:"\u9332\u97F3\u958B\u59CB/\u9332\u97F3\u7D42\u4E86","record-tip":"\u9332\u97F3\u304C\u30B5\u30DD\u30FC\u30C8\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002",recording:"\u9332\u97F3\u4E2D...",redo:"\u623B\u308B",remove:"\u6D88\u53BB",row:"\u5217",spin:"\u30B9\u30D4\u30F3",splitView:"\u30DE\u30FC\u30AF\u30C0\u30A6\u30F3",strike:"\u53D6\u308A\u6D88\u3057\u7DDA",table:"\u8868 \u633F\u5165",textIsNotEmpty:"\u30C6\u30AD\u30B9\u30C8(no empty)",title:"\u984C\u540D",tooltipText:"\u30C4\u30FC\u30EB\u30C1\u30C3\u30D7",undo:"\u53D6\u308A\u6D88\u3059",up:"\u623B\u308B",update:"\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8",upload:"\u30A4\u30E1\u30FC\u30B8\u3092\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3059\u308B",uploadError:"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u5931\u6557",uploading:"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u4E2D",wysiwyg:"\u30A6\u30A3\u30B8\u30A6\u30A3\u30B0"},ko_KR:{alignCenter:"\uAC00\uC6B4\uB370",alignLeft:"\uC67C\uCABD",alignRight:"\uC624\uB978\uCABD",alternateText:"\uC774\uBBF8\uC9C0 \uD0DC\uADF8",bold:"\uAD75\uAC8C",both:"\uC5D0\uB514\uD130 & \uBBF8\uB9AC\uBCF4\uAE30",check:"\uCCB4\uD06C\uBC15\uC2A4",close:"\uB2EB\uAE30",code:"\uCF54\uB4DC\uBE14\uB7ED\uC0BD\uC785","code-theme":"\uCF54\uB4DC\uBE14\uB7ED\uD14C\uB9C8",column:"\uD589",comment:"\uCF54\uBA58\uD2B8",confirm:"\uD655\uC778","content-theme":"\uCEE8\uD150\uCE20\uD14C\uB9C8",copied:"\uBCF5\uC0AC\uC644\uB8CC",copy:"\uBCF5\uC0AC","delete-column":"\uC5F4 \uC0AD\uC81C","delete-row":"\uD589 \uC0AD\uC81C",devtools:"\uAC1C\uBC1C\uD234",down:"\uB2E4\uC6B4",downloadTip:"\uBE0C\uB77C\uC6B0\uC800\uAC00 \uB2E4\uC6B4\uB85C\uB4DC \uAE30\uB2A5\uC744 \uC9C0\uC6D0\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4",edit:"\uC218\uC815","edit-mode":"\uD3B8\uC9D1\uBAA8\uB4DC",emoji:"\uC774\uBAA8\uC9C0",export:"\uB0B4\uBCF4\uB0B4\uAE30",fileTypeError:"\uC9C0\uC6D0\uD558\uC9C0\uC54A\uC2B5\uB2C8\uB2E4.",footnoteRef:"\uAC01\uC8FC\uCC38\uC870",fullscreen:"\uC804\uCCB4\uD654\uBA74",generate:"\uC0DD\uC131",headings:"\uC81C\uBAA9\uD06C\uAE30",help:"\uB3C4\uC6C0\uB9D0",imageURL:"\uC774\uBBF8\uC9C0 URL",indent:"\uB4E4\uC5EC\uC4F0\uAE30",info:"\uC815\uBCF4","inline-code":"\uC778\uB77C\uC778\uCF54\uB4DC","insert-after":"\uBE14\uB77D \uB4A4\uB85C \uC785\uB825","insert-before":"\uBE14\uB77D \uC55E\uC73C\uB85C \uC785\uB825",insertColumnLeft:"\uC67C\uCABD\uC5D0 \uC5F4 \uC0BD\uC785",insertColumnRight:"\uC624\uB978\uCABD\uC5D0 \uC5F4 \uC0BD\uC785",insertRowAbove:"\uC704\uC5D0 \uD589 \uC0BD\uC785",insertRowBelow:"\uC544\uB798\uC5D0 \uD589 \uC0BD\uC785",instantRendering:"\uD0C0\uC774\uD3EC\uB77C",italic:"\uAE30\uC6B8\uC784\uAF34",language:"\uC5B8\uC5B4",line:"\uBB38\uB2E8\uB098\uB214",link:"\uB9C1\uD06C",linkRef:"\uB9C1\uD06C \uCC38\uC870",list:"\uC21C\uC11C\uC5C6\uB294 \uBAA9\uB85D",more:"\uB354\uBCF4\uAE30",nameEmpty:"\uC774\uB984\uC774 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4.","ordered-list":"\uC21C\uC11C\uC788\uB294 \uBAA9\uB85D",outdent:"\uB0B4\uC5B4\uC4F0\uAE30",outline:"\uAC1C\uC694",over:"\uC624\uBC84",performanceTip:"\uC2E4\uC2DC\uAC04 \uBBF8\uB9AC\uBCF4\uAE30\uC5D0\uB294 ${x}ms\uAC00 \uD544\uC694\uD558\uBA70 \uC5D0\uB514\uD130/\uBBF8\uB9AC\uBCF4\uAE30 \uBC84\uD2BC\uC744 \uD074\uB9AD\uD558\uC5EC \uB2EB\uC744 \uC218 \uC788\uC2B5\uB2C8\uB2E4.",preview:"\uBBF8\uB9AC\uBCF4\uAE30",quote:"\uC778\uC6A9\uB2E8\uB77D",record:"\uB179\uC74C\uC2DC\uC791/\uB179\uC74C\uC885\uB8CC","record-tip":"\uB179\uC74C\uC744 \uC9C0\uC6D0\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.",recording:"\uB179\uC74C\uC911...",redo:"\uB418\uB3CC\uB9AC\uAE30",remove:"\uC0AD\uC81C",row:"\uC5F4",spin:"\uD68C\uC804",splitView:"\uB9C8\uD06C\uB2E4\uC6B4",strike:"\uCDE8\uC18C\uC120",table:"\uD45C\uC0BD\uC785",textIsNotEmpty:"\uD14D\uC2A4\uD2B8(no empty)",title:"\uD45C\uC81C",tooltipText:"\uD234\uD301",undo:"\uCDE8\uC18C\uD558\uAE30",up:"\uC704\uB85C",update:"\uC5C5\uB370\uC774\uD2B8",upload:"\uC774\uBBF8\uC9C0 \uC5C5\uB85C\uB4DC\uD558\uAE30",uploadError:"\uC5C5\uB85C\uB4DC \uC2E4\uD328",uploading:"\uC5C5\uB85C\uB4DC\uC911...",wysiwyg:"\uC704\uC9C0\uC704\uADF8"},zh_CN:{alignCenter:"\u5C45\u4E2D",alignLeft:"\u5C45\u5DE6",alignRight:"\u5C45\u53F3",alternateText:"\u66FF\u4EE3\u6587\u672C",bold:"\u7C97\u4F53",both:"\u7F16\u8F91 & \u9884\u89C8",check:"\u4EFB\u52A1\u5217\u8868",close:"\u5173\u95ED",code:"\u4EE3\u7801\u5757","code-theme":"\u4EE3\u7801\u5757\u4E3B\u9898\u9884\u89C8",column:"\u5217",comment:"\u8BC4\u8BBA",confirm:"\u786E\u5B9A","content-theme":"\u5185\u5BB9\u4E3B\u9898\u9884\u89C8",copied:"\u5DF2\u590D\u5236",copy:"\u590D\u5236","delete-column":"\u5220\u9664\u5217","delete-row":"\u5220\u9664\u884C",devtools:"\u5F00\u53D1\u8005\u5DE5\u5177",down:"\u4E0B",downloadTip:"\u8BE5\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u4E0B\u8F7D\u529F\u80FD",edit:"\u7F16\u8F91","edit-mode":"\u5207\u6362\u7F16\u8F91\u6A21\u5F0F",emoji:"\u8868\u60C5",export:"\u5BFC\u51FA",fileTypeError:"\u6587\u4EF6\u7C7B\u578B\u4E0D\u5141\u8BB8\u4E0A\u4F20",footnoteRef:"\u811A\u6CE8\u6807\u8BC6",fullscreen:"\u5168\u5C4F\u5207\u6362",generate:"\u751F\u6210\u4E2D",headings:"\u6807\u9898",help:"\u5E2E\u52A9",imageURL:"\u56FE\u7247\u5730\u5740",indent:"\u5217\u8868\u7F29\u8FDB",info:"\u5173\u4E8E","inline-code":"\u884C\u5185\u4EE3\u7801","insert-after":"\u672B\u5C3E\u63D2\u5165\u884C","insert-before":"\u8D77\u59CB\u63D2\u5165\u884C",insertColumnLeft:"\u5728\u5DE6\u8FB9\u63D2\u5165\u4E00\u5217",insertColumnRight:"\u5728\u53F3\u8FB9\u63D2\u5165\u4E00\u5217",insertRowAbove:"\u5728\u4E0A\u65B9\u63D2\u5165\u4E00\u884C",insertRowBelow:"\u5728\u4E0B\u65B9\u63D2\u5165\u4E00\u884C",instantRendering:"\u5373\u65F6\u6E32\u67D3",italic:"\u659C\u4F53",language:"\u8BED\u8A00",line:"\u5206\u9694\u7EBF",link:"\u94FE\u63A5",linkRef:"\u5F15\u7528\u6807\u8BC6",list:"\u65E0\u5E8F\u5217\u8868",more:"\u66F4\u591A",nameEmpty:"\u6587\u4EF6\u540D\u4E0D\u80FD\u4E3A\u7A7A","ordered-list":"\u6709\u5E8F\u5217\u8868",outdent:"\u5217\u8868\u53CD\u5411\u7F29\u8FDB",outline:"\u5927\u7EB2",over:"\u8D85\u8FC7",performanceTip:"\u5B9E\u65F6\u9884\u89C8\u9700 ${x}ms\uFF0C\u53EF\u70B9\u51FB\u7F16\u8F91 & \u9884\u89C8\u6309\u94AE\u8FDB\u884C\u5173\u95ED",preview:"\u9884\u89C8",quote:"\u5F15\u7528",record:"\u5F00\u59CB\u5F55\u97F3/\u7ED3\u675F\u5F55\u97F3","record-tip":"\u8BE5\u8BBE\u5907\u4E0D\u652F\u6301\u5F55\u97F3\u529F\u80FD",recording:"\u5F55\u97F3\u4E2D...",redo:"\u91CD\u505A",remove:"\u5220\u9664",row:"\u884C",spin:"\u65CB\u8F6C",splitView:"\u5206\u5C4F\u9884\u89C8",strike:"\u5220\u9664\u7EBF",table:"\u8868\u683C",textIsNotEmpty:"\u6587\u672C\uFF08\u4E0D\u80FD\u4E3A\u7A7A\uFF09",title:"\u6807\u9898",tooltipText:"\u63D0\u793A\u6587\u672C",undo:"\u64A4\u9500",up:"\u4E0A",update:"\u66F4\u65B0",upload:"\u4E0A\u4F20\u56FE\u7247\u6216\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",uploading:"\u4E0A\u4F20\u4E2D...",wysiwyg:"\u6240\u89C1\u5373\u6240\u5F97"}}},function(re,N,g){g.d(N,"b",function(){return l}),g.d(N,"a",function(){return f});var l=function(s,c){if(document.getElementById(c))return!1;var v=new XMLHttpRequest;v.open("GET",s,!1),v.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),v.send("");var u=document.createElement("script");u.type="text/javascript",u.text=v.responseText,u.id=c,document.head.appendChild(u)},f=function(s,c){return new Promise(function(v,u){if(document.getElementById(c))return v(),!1;var p=document.createElement("script");p.src=s,p.async=!0,document.head.appendChild(p),p.onload=function(){if(document.getElementById(c))return p.remove(),v(),!1;p.id=c,v()}})}},function(re,N,g){g.d(N,"b",function(){return l}),g.d(N,"a",function(){return f});var l=function(s,c){if(!s)return!1;s.nodeType===3&&(s=s.parentElement);for(var v=s,u=!1;v&&!u&&!v.classList.contains("vditor-reset");)v.nodeName.indexOf(c)===0?u=!0:v=v.parentElement;return u&&v},f=function(s){var c=l(s,"H");return!(!c||c.tagName.length!==2||c.tagName==="HR")&&c}},function(re,N,g){g.d(N,"a",function(){return v});var l=g(2),f=g(5),s=g(8),c=g(9),v=function(u,p){var E=u.querySelectorAll(".language-math");if(E.length!==0){var b={cdn:l.a.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(p&&p.math&&(p.math=Object.assign({},b.math,p.math)),(p=Object.assign({},b,p)).math.engine==="KaTeX")Object(s.a)(p.cdn+"/dist/js/katex/katex.min.css","vditorKatexStyle"),Object(f.a)(p.cdn+"/dist/js/katex/katex.min.js","vditorKatexScript").then(function(){E.forEach(function(_){if(!_.parentElement.classList.contains("vditor-wysiwyg__pre")&&!_.parentElement.classList.contains("vditor-ir__marker--pre")&&!_.getAttribute("data-math")){var S=Object(c.a)(_.textContent);_.setAttribute("data-math",S);try{_.innerHTML=katex.renderToString(S,{displayMode:_.tagName==="DIV",output:"html"})}catch(x){_.innerHTML=x.message,_.className="language-math vditor-reset--error"}_.addEventListener("copy",function(x){x.stopPropagation(),x.preventDefault();var L=x.currentTarget.closest(".language-math");x.clipboardData.setData("text/html",L.innerHTML),x.clipboardData.setData("text/plain",L.getAttribute("data-math"))})}})});else if(p.math.engine==="MathJax"){window.MathJax||(window.MathJax={loader:{paths:{mathjax:p.cdn+"/dist/js/mathjax"}},startup:{typeset:!1},tex:{macros:p.math.macros}}),Object(f.b)(p.cdn+"/dist/js/mathjax/tex-svg.js","vditorMathJaxScript");var C=function(_,S){var x=Object(c.a)(_.textContent).trim(),L=window.MathJax.getMetricsFor(_);L.display=_.tagName==="DIV",window.MathJax.tex2svgPromise(x,L).then(function(I){_.innerHTML="",_.setAttribute("data-math",x),_.append(I),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var U=I.querySelector('[data-mml-node="merror"]');U&&U.textContent.trim()!==""&&(_.innerHTML=U.textContent.trim(),_.className="vditor-reset--error"),S&&S()})};window.MathJax.startup.promise.then(function(){for(var _=[],S=function(L){var I=E[L];I.parentElement.classList.contains("vditor-wysiwyg__pre")||I.parentElement.classList.contains("vditor-ir__marker--pre")||I.getAttribute("data-math")||!Object(c.a)(I.textContent).trim()||_.push(function(U){L===E.length-1?C(I):C(I,U)})},x=0;x<E.length;x++)S(x);(function(L){if(L.length!==0){var I=0,U=L[L.length-1],Z=function(){var w=L[I++];w===U?w():w(Z)};Z()}})(_)})}}}},function(re,N,g){g.d(N,"a",function(){return l});var l=function(f,s){if(!document.getElementById(s)){var c=document.createElement("link");c.id=s,c.rel="stylesheet",c.type="text/css",c.href=f,document.getElementsByTagName("head")[0].appendChild(c)}}},function(re,N,g){g.d(N,"a",function(){return l});var l=function(f){return f.replace(/\u00a0/g," ")}},function(re,N,g){g.d(N,"a",function(){return f});var l=g(8),f=function(s,c){if(s&&c){var v=document.getElementById("vditorContentTheme"),u=c+"/"+s+".css";v?v.href!==u&&(v.remove(),Object(l.a)(u,"vditorContentTheme")):Object(l.a)(u,"vditorContentTheme")}}},function(re,N,g){g.d(N,"a",function(){return s});var l=g(2),f=g(5),s=function(c,v){c===void 0&&(c=document),v===void 0&&(v=l.a.CDN);var u=c.querySelectorAll(".language-abc");u.length>0&&Object(f.a)(v+"/dist/js/abcjs/abcjs_basic.min.js","vditorAbcjsScript").then(function(){u.forEach(function(p){p.parentElement.classList.contains("vditor-wysiwyg__pre")||p.parentElement.classList.contains("vditor-ir__marker--pre")||p.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(p,p.textContent.trim()),p.style.overflowX="auto",p.setAttribute("data-processed","true"))})})}},function(re,N,g){g.d(N,"a",function(){return s});var l=g(2),f=g(5),s=function(c,v,u){c===void 0&&(c=document),v===void 0&&(v=l.a.CDN);var p=c.querySelectorAll(".language-echarts");p.length>0&&Object(f.a)(v+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){p.forEach(function(E){if(!E.parentElement.classList.contains("vditor-wysiwyg__pre")&&!E.parentElement.classList.contains("vditor-ir__marker--pre")){var b=E.innerText.trim();if(b)try{if(E.getAttribute("data-processed")==="true")return;var C=JSON.parse(b);echarts.init(E,u==="dark"?"dark":void 0).setOption(C),E.setAttribute("data-processed","true")}catch(_){E.className="vditor-reset--error",E.innerHTML="echarts render error: <br>"+_}}})})}},function(re,N,g){g.d(N,"a",function(){return s});var l=g(4),f=g(9),s=function(c,v){v===void 0&&(v="zh_CN"),c.querySelectorAll("pre > code").forEach(function(u,p){if(!u.parentElement.classList.contains("vditor-wysiwyg__pre")&&!u.parentElement.classList.contains("vditor-ir__marker--pre")&&!(u.classList.contains("language-mermaid")||u.classList.contains("language-flowchart")||u.classList.contains("language-echarts")||u.classList.contains("language-mindmap")||u.classList.contains("language-plantuml")||u.classList.contains("language-abc")||u.classList.contains("language-graphviz")||u.classList.contains("language-math")||u.style.maxHeight.indexOf("px")>-1||c.classList.contains("vditor-preview")&&p>5)){var E=u.innerText;if(u.classList.contains("highlight-chroma")){var b=document.createElement("code");b.innerHTML=u.innerHTML,b.querySelectorAll(".highlight-ln").forEach(function(S){S.remove()}),E=b.innerText}var C=document.createElement("div");C.className="vditor-copy",C.innerHTML='<span aria-label="'+l.a[v].copy+`"
onmouseover="this.setAttribute('aria-label', '`+l.a[v].copy+`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`+l.a[v].copied+`')"><svg><use xlink:href="#vditor-icon-copy"></use></svg></span>`;var _=document.createElement("textarea");_.value=Object(f.a)(E),C.insertAdjacentElement("afterbegin",_),u.before(C),u.style.maxHeight=window.outerHeight-40+"px"}})}},function(re,N,g){g.d(N,"a",function(){return s});var l=g(2),f=g(5),s=function(c,v){v===void 0&&(v=l.a.CDN);var u=c.querySelectorAll(".language-flowchart");u.length!==0&&Object(f.a)(v+"/dist/js/flowchart.js/flowchart.min.js","vditorFlowchartScript").then(function(){u.forEach(function(p){if(p.getAttribute("data-processed")!=="true"){var E=flowchart.parse(p.textContent);p.innerHTML="",E.drawSVG(p),p.setAttribute("data-processed","true")}})})}},function(re,N,g){g.d(N,"a",function(){return s});var l=g(2),f=g(5),s=function(c,v){v===void 0&&(v=l.a.CDN);var u=c.querySelectorAll(".language-graphviz");u.length!==0&&Object(f.a)(v+"/dist/js/graphviz/viz.js","vditorGraphVizScript").then(function(){u.forEach(function(p){if(!p.parentElement.classList.contains("vditor-wysiwyg__pre")&&!p.parentElement.classList.contains("vditor-ir__marker--pre")&&p.getAttribute("data-processed")!=="true"&&p.textContent.trim()!==""){try{var E=new Blob(["importScripts('"+document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js")+"');"],{type:"application/javascript"}),b=(window.URL||window.webkitURL).createObjectURL(E),C=new Worker(b);new Viz({worker:C}).renderSVGElement(p.textContent).then(function(_){p.innerHTML=_.outerHTML}).catch(function(_){p.innerHTML="graphviz render error: <br>"+_,p.className="vditor-reset--error"})}catch(_){console.error("graphviz error",_)}p.setAttribute("data-processed","true")}})})}},function(re,N,g){g.d(N,"a",function(){return c});var l=g(2),f=g(5),s=g(8),c=function(v,u,p){u===void 0&&(u=document),p===void 0&&(p=l.a.CDN);var E=v.style;l.a.CODE_THEME.includes(E)||(E="github");var b=document.getElementById("vditorHljsStyle"),C=p+"/dist/js/highlight.js/styles/"+E+".css";b&&b.href!==C&&b.remove(),Object(s.a)(p+"/dist/js/highlight.js/styles/"+E+".css","vditorHljsStyle"),v.enable!==!1&&u.querySelectorAll("pre > code").length!==0&&Object(f.a)(p+"/dist/js/highlight.js/highlight.pack.js","vditorHljsScript").then(function(){u.querySelectorAll("pre > code").forEach(function(_){if(!_.parentElement.classList.contains("vditor-ir__marker--pre")&&!_.parentElement.classList.contains("vditor-wysiwyg__pre")&&!(_.classList.contains("language-mermaid")||_.classList.contains("language-flowchat")||_.classList.contains("language-echarts")||_.classList.contains("language-mindmap")||_.classList.contains("language-plantuml")||_.classList.contains("language-abc")||_.classList.contains("language-graphviz")||_.classList.contains("language-math"))&&(hljs.highlightBlock(_),v.lineNumber)){_.classList.add("vditor-linenumber");var S=_.querySelector(".vditor-linenumber__temp");S||((S=document.createElement("div")).className="vditor-linenumber__temp",_.insertAdjacentElement("beforeend",S));var x=getComputedStyle(_).whiteSpace,L=!1;x!=="pre-wrap"&&x!=="pre-line"||(L=!0);var I="",U=_.textContent.split(/\r\n|\r|\n/g);U.pop(),U.map(function(Z){var w="";L&&(S.textContent=Z||`
`,w=' style="height:'+S.getBoundingClientRect().height+'px"'),I+="<span"+w+"></span>"}),S.style.display="none",I='<span class="vditor-linenumber__rows">'+I+"</span>",_.insertAdjacentHTML("beforeend",I)}})})}},function(re,N,g){g.d(N,"a",function(){return s});var l=g(2),f=g(5),s=function(c,v,u){v===void 0&&(v=l.a.CDN);var p=c.querySelectorAll(".language-mermaid");p.length!==0&&Object(f.a)(v+"/dist/js/mermaid/mermaid.min.js","vditorMermaidScript").then(function(){var E={altFontFamily:"sans-serif",flowchart:{htmlLabels:!0,useMaxWidth:!0},fontFamily:"sans-serif",gantt:{leftPadding:75,rightPadding:20},securityLevel:"loose",sequence:{boxMargin:8,diagramMarginX:8,diagramMarginY:8,useMaxWidth:!0},startOnLoad:!1};u==="dark"&&(E.theme="dark",E.themeVariables={activationBkgColor:"hsl(180, 1.5873015873%, 28.3529411765%)",activationBorderColor:"#81B1DB",activeTaskBkgColor:"#81B1DB",activeTaskBorderColor:"#ffffff",actorBkg:"#1f2020",actorBorder:"#81B1DB",actorLineColor:"lightgrey",actorTextColor:"lightgrey",altBackground:"hsl(0, 0%, 40%)",altSectionBkgColor:"#333",arrowheadColor:"lightgrey",background:"#333",border1:"#81B1DB",border2:"rgba(255, 255, 255, 0.25)",classText:"#e0dfdf",clusterBkg:"hsl(180, 1.5873015873%, 28.3529411765%)",clusterBorder:"rgba(255, 255, 255, 0.25)",critBkgColor:"#E83737",critBorderColor:"#E83737",darkTextColor:"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)",defaultLinkColor:"lightgrey",doneTaskBkgColor:"lightgrey",doneTaskBorderColor:"grey",edgeLabelBackground:"hsl(0, 0%, 34.4117647059%)",errorBkgColor:"#a44141",errorTextColor:"#ddd",fillType0:"#1f2020",fillType1:"hsl(180, 1.5873015873%, 28.3529411765%)",fillType2:"hsl(244, 1.5873015873%, 12.3529411765%)",fillType3:"hsl(244, 1.5873015873%, 28.3529411765%)",fillType4:"hsl(116, 1.5873015873%, 12.3529411765%)",fillType5:"hsl(116, 1.5873015873%, 28.3529411765%)",fillType6:"hsl(308, 1.5873015873%, 12.3529411765%)",fillType7:"hsl(308, 1.5873015873%, 28.3529411765%)",fontFamily:'"trebuchet ms", verdana, arial',fontSize:"16px",gridColor:"lightgrey",labelBackground:"#181818",labelBoxBkgColor:"#1f2020",labelBoxBorderColor:"#81B1DB",labelColor:"#ccc",labelTextColor:"lightgrey",lineColor:"lightgrey",loopTextColor:"lightgrey",mainBkg:"#1f2020",mainContrastColor:"lightgrey",nodeBkg:"#1f2020",nodeBorder:"#81B1DB",noteBkgColor:"#fff5ad",noteBorderColor:"rgba(255, 255, 255, 0.25)",noteTextColor:"#1f2020",primaryBorderColor:"hsl(180, 0%, 2.3529411765%)",primaryColor:"#1f2020",primaryTextColor:"#e0dfdf",secondBkg:"hsl(180, 1.5873015873%, 28.3529411765%)",secondaryBorderColor:"hsl(180, 0%, 18.3529411765%)",secondaryColor:"hsl(180, 1.5873015873%, 28.3529411765%)",secondaryTextColor:"rgb(183.8476190475, 181.5523809523, 181.5523809523)",sectionBkgColor:"hsl(52.9411764706, 28.813559322%, 58.431372549%)",sectionBkgColor2:"#EAE8D9",sequenceNumberColor:"black",signalColor:"lightgrey",signalTextColor:"lightgrey",taskBkgColor:"hsl(180, 1.5873015873%, 35.3529411765%)",taskBorderColor:"#ffffff",taskTextClickableColor:"#003163",taskTextColor:"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)",taskTextDarkColor:"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)",taskTextLightColor:"lightgrey",taskTextOutsideColor:"lightgrey",tertiaryBorderColor:"hsl(20, 0%, 2.3529411765%)",tertiaryColor:"hsl(20, 1.5873015873%, 12.3529411765%)",tertiaryTextColor:"rgb(222.9999999999, 223.6666666666, 223.9999999999)",textColor:"#ccc",titleColor:"#F9FFFE",todayLineColor:"#DB5757"}),mermaid.initialize(E),p.forEach(function(b){b.getAttribute("data-processed")!=="true"&&b.textContent.trim()!==""&&(mermaid.init(void 0,b),b.setAttribute("data-processed","true"))})})}},function(re,N,g){g.d(N,"a",function(){return s});var l=g(2),f=g(5),s=function(c,v,u){c===void 0&&(c=document),v===void 0&&(v=l.a.CDN);var p=c.querySelectorAll(".language-mindmap");p.length>0&&Object(f.a)(v+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){p.forEach(function(E){if(!E.parentElement.classList.contains("vditor-wysiwyg__pre")&&!E.parentElement.classList.contains("vditor-ir__marker--pre")){var b=E.getAttribute("data-code");if(b)try{if(E.getAttribute("data-processed")==="true")return;echarts.init(E,u==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(b))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(C,_){var S;return((S=_==null?void 0:_.data)===null||S===void 0?void 0:S.children)?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),E.setAttribute("data-processed","true")}catch(C){E.className="vditor-reset--error",E.innerHTML="mindmap render error: <br>"+C}}})})}},function(re,N,g){g.d(N,"a",function(){return s});var l=g(2),f=g(5),s=function(c,v){c===void 0&&(c=document),v===void 0&&(v=l.a.CDN);var u=c.querySelectorAll(".language-plantuml");u.length!==0&&Object(f.a)(v+"/dist/js/plantuml/plantuml-encoder.min.js","vditorPlantumlScript").then(function(){u.forEach(function(p){if(!p.parentElement.classList.contains("vditor-wysiwyg__pre")&&!p.parentElement.classList.contains("vditor-ir__marker--pre")){var E=p.innerText.trim();if(E)try{var b=plantumlEncoder.encode(E),C=document.createElement("img");C.setAttribute("loading","lazy"),C.setAttribute("src","http://www.plantuml.com/plantuml/svg/~1"+b),p.parentNode.insertBefore(C,p),p.remove()}catch(_){p.className="vditor-reset--error",p.innerHTML="plantuml render error: <br>"+_}}})})}},function(re,N,g){g.d(N,"a",function(){return l});var l=function(f){f&&f.querySelectorAll("a").forEach(function(s){var c=s.getAttribute("href");c&&(c.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?function(v,u){v.insertAdjacentHTML("afterend",'<video controls="controls" src="'+u+'"></video>'),v.remove()}(s,c):c.match(/^.+.(mp3|wav|flac)$/)?function(v,u){v.insertAdjacentHTML("afterend",'<audio controls="controls" src="'+u+'"></audio>'),v.remove()}(s,c):function(v,u){var p=u.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),E=u.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),b=u.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),C=u.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),_=u.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),S=u.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),x=u.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),L=u.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);p&&p[1].length===11?(v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'+p[1]+(p[2]?"?start="+p[2]:"")+'"></iframe>'),v.remove()):E&&E[1]?(v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'+E[1]+'"></iframe>'),v.remove()):b&&b[1]?(v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='+b[1]+'"></iframe>'),v.remove()):C&&C[1]?(v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`+C[1]+'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>'),v.remove()):_&&_[0]?(v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`+encodeURIComponent(_[0])+'"></iframe>'),v.remove()):S&&S[2]?(v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`+S[2]+'"></iframe>'),v.remove()):x&&x[1]?(v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//player.bilibili.com/player.html?bvid=`+x[1]+'"></iframe>'),v.remove()):L&&L[1]&&(v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'+L[1]+'"></iframe>'),v.remove())}(s,c))})}},function(re,N,g){g.d(N,"a",function(){return f});var l=g(4),f=function(s,c,v){c===void 0&&(c="zh_CN"),v===void 0&&(v="classic");var u=s.getBoundingClientRect();document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'+(v==="dark"?" vditor--dark":"")+`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `+l.a[c].spin+`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`+l.a[c].close+`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `+s.width+"px;height:"+s.height+"px;transform: translate3d("+u.left+"px, "+(u.top-36)+'px, 0)" src="'+s.getAttribute("src")+`">
    </div>
</div>`),document.body.style.overflow="hidden";var p=document.querySelector(".vditor-img img"),E="translate3d("+Math.max(0,window.innerWidth-s.naturalWidth)/2+"px, "+Math.max(0,window.innerHeight-36-s.naturalHeight)/2+"px, 0)";setTimeout(function(){p.setAttribute("style","transition: transform .3s ease-in-out;transform: "+E),setTimeout(function(){p.parentElement.scrollTo((p.parentElement.scrollWidth-p.parentElement.clientWidth)/2,(p.parentElement.scrollHeight-p.parentElement.clientHeight)/2)},400)});var b=document.querySelector(".vditor-img__btn");b.addEventListener("click",function(){var C=parseInt(b.getAttribute("data-deg"),10)+90;C/90%2==1&&s.naturalWidth>p.parentElement.clientHeight?p.style.transform="translate3d("+Math.max(0,window.innerWidth-s.naturalWidth)/2+"px, "+(s.naturalWidth/2-s.naturalHeight/2)+"px, 0) rotateZ("+C+"deg)":p.style.transform=E+" rotateZ("+C+"deg)",b.setAttribute("data-deg",C.toString()),setTimeout(function(){p.parentElement.scrollTo((p.parentElement.scrollWidth-p.parentElement.clientWidth)/2,(p.parentElement.scrollHeight-p.parentElement.clientHeight)/2)},400)})}},function(re,N,g){g.d(N,"a",function(){return s});var l=g(2),f=g(8),s=function(c,v){v===void 0&&(v=l.a.CDN),l.a.CODE_THEME.includes(c)||(c="github");var u=document.getElementById("vditorHljsStyle"),p=v+"/dist/js/highlight.js/styles/"+c+".css";u?u.href!==p&&(u.remove(),Object(f.a)(p,"vditorHljsStyle")):Object(f.a)(p,"vditorHljsStyle")}},function(re,N,g){g.d(N,"a",function(){return s});var l=g(6),f=g(7),s=function(c,v,u){var p="",E=[];if(Array.from(c.children).forEach(function(S,x){if(Object(l.a)(S)){if(u){var L=S.id.lastIndexOf("_");S.id=S.id.substring(0,L===-1?void 0:L)+"_"+x}E.push(S.id),p+=S.outerHTML.replace("<wbr>","")}}),p==="")return v.innerHTML="","";var b=document.createElement("div");if(u)u.lute.SetToC(!0),u.currentMode!=="wysiwyg"||u.preview.element.contains(c)?u.currentMode!=="ir"||u.preview.element.contains(c)?b.innerHTML=u.lute.HTML2VditorDOM("<p>[ToC]</p>"+p):b.innerHTML=u.lute.SpinVditorIRDOM("<p>[ToC]</p>"+p):b.innerHTML=u.lute.SpinVditorDOM("<p>[ToC]</p>"+p),u.lute.SetToC(u.options.preview.markdown.toc);else{v.classList.add("vditor-outline");var C=Lute.New();C.SetToC(!0),b.innerHTML=C.HTML2VditorDOM("<p>[ToC]</p>"+p)}var _=b.firstElementChild.querySelectorAll("li > span[data-target-id]");return _.forEach(function(S,x){S.nextElementSibling&&S.nextElementSibling.tagName==="UL"?S.innerHTML="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg><span>"+S.innerHTML+"</span>":S.innerHTML="<svg></svg><span>"+S.innerHTML+"</span>",S.setAttribute("data-target-id",E[x])}),p=b.firstElementChild.innerHTML,_.length===0?(v.innerHTML="",p):(v.innerHTML=p,u&&Object(f.a)(v,{cdn:u.options.cdn,math:u.options.preview.math}),v.firstElementChild.addEventListener("click",function(S){for(var x=S.target;x&&!x.isEqualNode(v);){if(x.classList.contains("vditor-outline__action")){x.classList.contains("vditor-outline__action--close")?(x.classList.remove("vditor-outline__action--close"),x.parentElement.nextElementSibling.setAttribute("style","display:block")):(x.classList.add("vditor-outline__action--close"),x.parentElement.nextElementSibling.setAttribute("style","display:none")),S.preventDefault(),S.stopPropagation();break}if(x.getAttribute("data-target-id")){S.preventDefault(),S.stopPropagation();var L=document.getElementById(x.getAttribute("data-target-id"));if(!L)return;if(u)if(u.options.height==="auto"){var I=L.offsetTop+u.element.offsetTop;u.options.toolbarConfig.pin||(I+=u.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,I)}else u.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,u.element.offsetTop),u.preview.element.contains(c)?c.parentElement.scrollTop=L.offsetTop:c.scrollTop=L.offsetTop;else window.scrollTo(window.scrollX,L.offsetTop);break}x=x.parentElement}}),p)}},function(re,N,g){g.d(N,"a",function(){return l});var l=function(){for(var f=[],s=0;s<arguments.length;s++)f[s]=arguments[s];for(var c={},v=function(p){for(var E in p)p.hasOwnProperty(E)&&(Object.prototype.toString.call(p[E])==="[object Object]"?c[E]=l(c[E],p[E]):c[E]=p[E])},u=0;u<f.length;u++)v(f[u]);return c}},function(re,N,g){g.d(N,"a",function(){return l});var l=function(f){var s=Lute.New();return s.PutEmojis(f.emojis),s.SetEmojiSite(f.emojiSite),s.SetHeadingAnchor(f.headingAnchor),s.SetInlineMathAllowDigitAfterOpenMarker(f.inlineMathDigit),s.SetAutoSpace(f.autoSpace),s.SetToC(f.toc),s.SetFootnotes(f.footnotes),s.SetFixTermTypo(f.fixTermTypo),s.SetVditorCodeBlockPreview(f.codeBlockPreview),s.SetVditorMathBlockPreview(f.mathBlockPreview),s.SetSanitize(f.sanitize),s.SetChineseParagraphBeginningSpace(f.paragraphBeginningSpace),s.SetRenderListStyle(f.listStyle),s.SetLinkBase(f.linkBase),s.SetLinkPrefix(f.linkPrefix),s.SetMark(f.mark),f.lazyLoadImage&&s.SetImageLazyLoading(f.lazyLoadImage),s}},function(re,N,g){g.r(N);var l=g(11),f=g(12),s=g(13),c=g(14),v=g(15),u=g(16),p=function(F){F===void 0&&(F=document);var ae=function(k){var z=document.createElement("img");z.src=k.getAttribute("data-src"),z.addEventListener("load",function(){k.getAttribute("style")||k.getAttribute("class")||k.getAttribute("width")||k.getAttribute("height")||z.naturalHeight>z.naturalWidth&&z.naturalWidth/z.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&z.naturalHeight>window.innerHeight-40&&(k.style.height=window.innerHeight-40+"px"),k.src=z.src}),k.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return F.querySelectorAll("img").forEach(function(k){k.getAttribute("data-src")&&ae(k)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),F.querySelectorAll("img").forEach(function(k){window.vditorImageIntersectionObserver.observe(k)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(k){k.forEach(function(z){(z.isIntersecting===void 0?z.intersectionRatio!==0:z.isIntersecting)&&z.target.getAttribute("data-src")&&ae(z.target)})}),F.querySelectorAll("img").forEach(function(k){window.vditorImageIntersectionObserver.observe(k)}))},E=g(7),b=g(20),C=g(17),_=g(18),S=g(23),x=g(19),L=g(2),I=g(10),U=g(5),Z=g(0),w=g(24),Q=g(25),te=g(1),pe=function(F,ae){if(ae===void 0&&(ae="zh_CN"),typeof speechSynthesis!="undefined"&&typeof SpeechSynthesisUtterance!="undefined"){var k='<svg><use xlink:href="#vditor-icon-play"></use></svg>',z='<svg><use xlink:href="#vditor-icon-pause"></use></svg>',K=document.querySelector(".vditor-speech");if(!K){(K=document.createElement("div")).className="vditor-speech",document.body.insertAdjacentElement("beforeend",K);var _e=function(){var J,ve;return speechSynthesis.getVoices().forEach(function(me){me.lang===ae.replace("_","-")&&(J=me),me.default&&(ve=me)}),J||(J=ve),J};speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=_e);var le=_e();K.onclick=function(){if(K.className==="vditor-speech"){var J=new SpeechSynthesisUtterance(K.getAttribute("data-text"));J.voice=le,J.onend=function(){K.className="vditor-speech",speechSynthesis.cancel(),K.innerHTML=k},speechSynthesis.speak(J),K.className="vditor-speech vditor-speech--current",K.innerHTML=z}else speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),K.innerHTML=z):(speechSynthesis.pause(),K.innerHTML=k));Object(te.h)(window.vditorSpeechRange)},document.body.addEventListener("click",function(){getSelection().toString().trim()===""&&K.style.display==="block"&&(K.className="vditor-speech",speechSynthesis.cancel(),K.style.display="none")})}F.addEventListener("mouseup",function(J){var ve=getSelection().toString().trim();if(speechSynthesis.cancel(),getSelection().toString().trim()!==""){window.vditorSpeechRange=getSelection().getRangeAt(0).cloneRange();var me=getSelection().getRangeAt(0).getBoundingClientRect();K.innerHTML=k,K.style.display="block",K.style.top=me.top+me.height+document.querySelector("html").scrollTop-20+"px",K.style.left=J.screenX+2+"px",K.setAttribute("data-text",ve)}else K.style.display==="block"&&(K.className="vditor-speech",K.style.display="none")})}},se=function(F,ae,k,z){return new(k||(k=Promise))(function(K,_e){function le(me){try{ve(z.next(me))}catch(ee){_e(ee)}}function J(me){try{ve(z.throw(me))}catch(ee){_e(ee)}}function ve(me){var ee;me.done?K(me.value):(ee=me.value,ee instanceof k?ee:new k(function(G){G(ee)})).then(le,J)}ve((z=z.apply(F,ae||[])).next())})},ue=function(F,ae){var k,z,K,_e,le={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return _e={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(_e[Symbol.iterator]=function(){return this}),_e;function J(ve){return function(me){return function(ee){if(k)throw new TypeError("Generator is already executing.");for(;le;)try{if(k=1,z&&(K=2&ee[0]?z.return:ee[0]?z.throw||((K=z.return)&&K.call(z),0):z.next)&&!(K=K.call(z,ee[1])).done)return K;switch(z=0,K&&(ee=[2&ee[0],K.value]),ee[0]){case 0:case 1:K=ee;break;case 4:return le.label++,{value:ee[1],done:!1};case 5:le.label++,z=ee[1],ee=[0];continue;case 7:ee=le.ops.pop(),le.trys.pop();continue;default:if(K=le.trys,!((K=K.length>0&&K[K.length-1])||ee[0]!==6&&ee[0]!==2)){le=0;continue}if(ee[0]===3&&(!K||ee[1]>K[0]&&ee[1]<K[3])){le.label=ee[1];break}if(ee[0]===6&&le.label<K[1]){le.label=K[1],K=ee;break}if(K&&le.label<K[2]){le.label=K[2],le.ops.push(ee);break}K[2]&&le.ops.pop(),le.trys.pop();continue}ee=ae.call(F,le)}catch(G){ee=[6,G],z=0}finally{k=K=0}if(5&ee[0])throw ee[1];return{value:ee[0]?ee[1]:void 0,done:!0}}([ve,me])}}},fe=function(F){var ae={anchor:0,cdn:L.a.CDN,customEmoji:{},emojiPath:(F&&F.emojiPath||L.a.CDN)+"/dist/images/emoji",hljs:L.a.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:L.a.MARKDOWN_OPTIONS,math:L.a.MATH_OPTIONS,mode:"light",speech:{enable:!1},theme:L.a.THEME_OPTIONS};return Object(w.a)(ae,F)},we=function(F,ae){var k=fe(ae);return Object(U.a)(k.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then(function(){var z=Object(Q.a)({autoSpace:k.markdown.autoSpace,codeBlockPreview:k.markdown.codeBlockPreview,emojiSite:k.emojiPath,emojis:k.customEmoji,fixTermTypo:k.markdown.fixTermTypo,footnotes:k.markdown.footnotes,headingAnchor:k.anchor!==0,inlineMathDigit:k.math.inlineDigit,lazyLoadImage:k.lazyLoadImage,linkBase:k.markdown.linkBase,linkPrefix:k.markdown.linkPrefix,listStyle:k.markdown.listStyle,mark:k.markdown.mark,mathBlockPreview:k.markdown.mathBlockPreview,paragraphBeginningSpace:k.markdown.paragraphBeginningSpace,sanitize:k.markdown.sanitize,toc:k.markdown.toc});return(ae==null?void 0:ae.renderers)&&z.SetJSRenderers({renderers:{Md2HTML:ae.renderers}}),z.SetHeadingID(!0),z.Md2HTML(F)})},Ee=function(F,ae,k){return se(void 0,void 0,void 0,function(){var z,K;return ue(this,function(_e){switch(_e.label){case 0:return z=fe(k),[4,we(ae,z)];case 1:return K=_e.sent(),z.transform&&(K=z.transform(K)),F.innerHTML=K,F.classList.add("vditor-reset"),Object(I.a)(z.theme.current,z.theme.path),z.anchor===1&&F.classList.add("vditor-reset--anchor"),Object(s.a)(F,z.lang),Object(u.a)(z.hljs,F,z.cdn),Object(E.a)(F,{cdn:z.cdn,math:z.math}),Object(C.a)(F,z.cdn,z.mode),Object(c.a)(F,z.cdn),Object(v.a)(F,z.cdn),Object(f.a)(F,z.cdn,z.mode),Object(_.a)(F,z.cdn,z.mode),Object(x.a)(F,z.cdn),Object(l.a)(F,z.cdn),Object(b.a)(F),z.speech.enable&&pe(F,z.lang),z.anchor!==0&&(le=z.anchor,document.querySelectorAll(".vditor-anchor").forEach(function(J){le===1&&J.classList.add("vditor-anchor--left"),J.onclick=function(){var ve=J.getAttribute("href").substr(1),me=document.getElementById("vditorAnchor-"+ve).offsetTop;document.querySelector("html").scrollTop=me}}),window.onhashchange=function(){var J=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));J&&(document.querySelector("html").scrollTop=J.offsetTop)}),z.after&&z.after(),z.lazyLoadImage&&p(F),z.icon&&Object(U.a)(z.cdn+"/dist/js/icons/"+z.icon+".js","vditorIconScript"),F.addEventListener("click",function(J){var ve=Object(Z.f)(J.target,"SPAN");if(ve&&Object(Z.e)(ve,"vditor-toc")){var me=F.querySelector("#"+ve.getAttribute("data-target-id"));me&&window.scrollTo(window.scrollX,me.offsetTop)}}),[2]}var le})})},De=g(21),it=g(22),at=function(){function F(){}return F.previewImage=De.a,F.codeRender=s.a,F.graphvizRender=v.a,F.highlightRender=u.a,F.mathRender=E.a,F.mermaidRender=C.a,F.flowchartRender=c.a,F.chartRender=f.a,F.abcRender=l.a,F.mindmapRender=_.a,F.plantumlRender=x.a,F.outlineRender=S.a,F.mediaRender=b.a,F.speechRender=pe,F.lazyLoadImageRender=p,F.md2html=we,F.preview=Ee,F.setCodeTheme=it.a,F.setContentTheme=I.a,F}();N.default=at},function(re,N){var g=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};g.Diff=function(l,f){return[l,f]},g.prototype.diff_main=function(l,f,s,c){c===void 0&&(c=this.Diff_Timeout<=0?Number.MAX_VALUE:new Date().getTime()+1e3*this.Diff_Timeout);var v=c;if(l==null||f==null)throw new Error("Null input. (diff_main)");if(l==f)return l?[new g.Diff(0,l)]:[];s===void 0&&(s=!0);var u=s,p=this.diff_commonPrefix(l,f),E=l.substring(0,p);l=l.substring(p),f=f.substring(p),p=this.diff_commonSuffix(l,f);var b=l.substring(l.length-p);l=l.substring(0,l.length-p),f=f.substring(0,f.length-p);var C=this.diff_compute_(l,f,u,v);return E&&C.unshift(new g.Diff(0,E)),b&&C.push(new g.Diff(0,b)),this.diff_cleanupMerge(C),C},g.prototype.diff_compute_=function(l,f,s,c){var v;if(!l)return[new g.Diff(1,f)];if(!f)return[new g.Diff(-1,l)];var u=l.length>f.length?l:f,p=l.length>f.length?f:l,E=u.indexOf(p);if(E!=-1)return v=[new g.Diff(1,u.substring(0,E)),new g.Diff(0,p),new g.Diff(1,u.substring(E+p.length))],l.length>f.length&&(v[0][0]=v[2][0]=-1),v;if(p.length==1)return[new g.Diff(-1,l),new g.Diff(1,f)];var b=this.diff_halfMatch_(l,f);if(b){var C=b[0],_=b[1],S=b[2],x=b[3],L=b[4],I=this.diff_main(C,S,s,c),U=this.diff_main(_,x,s,c);return I.concat([new g.Diff(0,L)],U)}return s&&l.length>100&&f.length>100?this.diff_lineMode_(l,f,c):this.diff_bisect_(l,f,c)},g.prototype.diff_lineMode_=function(l,f,s){var c=this.diff_linesToChars_(l,f);l=c.chars1,f=c.chars2;var v=c.lineArray,u=this.diff_main(l,f,!1,s);this.diff_charsToLines_(u,v),this.diff_cleanupSemantic(u),u.push(new g.Diff(0,""));for(var p=0,E=0,b=0,C="",_="";p<u.length;){switch(u[p][0]){case 1:b++,_+=u[p][1];break;case-1:E++,C+=u[p][1];break;case 0:if(E>=1&&b>=1){u.splice(p-E-b,E+b),p=p-E-b;for(var S=this.diff_main(C,_,!1,s),x=S.length-1;x>=0;x--)u.splice(p,0,S[x]);p+=S.length}b=0,E=0,C="",_=""}p++}return u.pop(),u},g.prototype.diff_bisect_=function(l,f,s){for(var c=l.length,v=f.length,u=Math.ceil((c+v)/2),p=u,E=2*u,b=new Array(E),C=new Array(E),_=0;_<E;_++)b[_]=-1,C[_]=-1;b[p+1]=0,C[p+1]=0;for(var S=c-v,x=S%2!=0,L=0,I=0,U=0,Z=0,w=0;w<u&&!(new Date().getTime()>s);w++){for(var Q=-w+L;Q<=w-I;Q+=2){for(var te=p+Q,pe=(Ee=Q==-w||Q!=w&&b[te-1]<b[te+1]?b[te+1]:b[te-1]+1)-Q;Ee<c&&pe<v&&l.charAt(Ee)==f.charAt(pe);)Ee++,pe++;if(b[te]=Ee,Ee>c)I+=2;else if(pe>v)L+=2;else if(x&&(fe=p+S-Q)>=0&&fe<E&&C[fe]!=-1&&Ee>=(ue=c-C[fe]))return this.diff_bisectSplit_(l,f,Ee,pe,s)}for(var se=-w+U;se<=w-Z;se+=2){for(var ue,fe=p+se,we=(ue=se==-w||se!=w&&C[fe-1]<C[fe+1]?C[fe+1]:C[fe-1]+1)-se;ue<c&&we<v&&l.charAt(c-ue-1)==f.charAt(v-we-1);)ue++,we++;if(C[fe]=ue,ue>c)Z+=2;else if(we>v)U+=2;else if(!x&&(te=p+S-se)>=0&&te<E&&b[te]!=-1){var Ee;if(pe=p+(Ee=b[te])-te,Ee>=(ue=c-ue))return this.diff_bisectSplit_(l,f,Ee,pe,s)}}}return[new g.Diff(-1,l),new g.Diff(1,f)]},g.prototype.diff_bisectSplit_=function(l,f,s,c,v){var u=l.substring(0,s),p=f.substring(0,c),E=l.substring(s),b=f.substring(c),C=this.diff_main(u,p,!1,v),_=this.diff_main(E,b,!1,v);return C.concat(_)},g.prototype.diff_linesToChars_=function(l,f){var s=[],c={};function v(E){for(var b="",C=0,_=-1,S=s.length;_<E.length-1;){(_=E.indexOf(`
`,C))==-1&&(_=E.length-1);var x=E.substring(C,_+1);(c.hasOwnProperty?c.hasOwnProperty(x):c[x]!==void 0)?b+=String.fromCharCode(c[x]):(S==u&&(x=E.substring(C),_=E.length),b+=String.fromCharCode(S),c[x]=S,s[S++]=x),C=_+1}return b}s[0]="";var u=4e4,p=v(l);return u=65535,{chars1:p,chars2:v(f),lineArray:s}},g.prototype.diff_charsToLines_=function(l,f){for(var s=0;s<l.length;s++){for(var c=l[s][1],v=[],u=0;u<c.length;u++)v[u]=f[c.charCodeAt(u)];l[s][1]=v.join("")}},g.prototype.diff_commonPrefix=function(l,f){if(!l||!f||l.charAt(0)!=f.charAt(0))return 0;for(var s=0,c=Math.min(l.length,f.length),v=c,u=0;s<v;)l.substring(u,v)==f.substring(u,v)?u=s=v:c=v,v=Math.floor((c-s)/2+s);return v},g.prototype.diff_commonSuffix=function(l,f){if(!l||!f||l.charAt(l.length-1)!=f.charAt(f.length-1))return 0;for(var s=0,c=Math.min(l.length,f.length),v=c,u=0;s<v;)l.substring(l.length-v,l.length-u)==f.substring(f.length-v,f.length-u)?u=s=v:c=v,v=Math.floor((c-s)/2+s);return v},g.prototype.diff_commonOverlap_=function(l,f){var s=l.length,c=f.length;if(s==0||c==0)return 0;s>c?l=l.substring(s-c):s<c&&(f=f.substring(0,s));var v=Math.min(s,c);if(l==f)return v;for(var u=0,p=1;;){var E=l.substring(v-p),b=f.indexOf(E);if(b==-1)return u;p+=b,b!=0&&l.substring(v-p)!=f.substring(0,p)||(u=p,p++)}},g.prototype.diff_halfMatch_=function(l,f){if(this.Diff_Timeout<=0)return null;var s=l.length>f.length?l:f,c=l.length>f.length?f:l;if(s.length<4||2*c.length<s.length)return null;var v=this;function u(L,I,U){for(var Z,w,Q,te,pe=L.substring(U,U+Math.floor(L.length/4)),se=-1,ue="";(se=I.indexOf(pe,se+1))!=-1;){var fe=v.diff_commonPrefix(L.substring(U),I.substring(se)),we=v.diff_commonSuffix(L.substring(0,U),I.substring(0,se));ue.length<we+fe&&(ue=I.substring(se-we,se)+I.substring(se,se+fe),Z=L.substring(0,U-we),w=L.substring(U+fe),Q=I.substring(0,se-we),te=I.substring(se+fe))}return 2*ue.length>=L.length?[Z,w,Q,te,ue]:null}var p,E,b,C,_,S=u(s,c,Math.ceil(s.length/4)),x=u(s,c,Math.ceil(s.length/2));return S||x?(p=x?S&&S[4].length>x[4].length?S:x:S,l.length>f.length?(E=p[0],b=p[1],C=p[2],_=p[3]):(C=p[0],_=p[1],E=p[2],b=p[3]),[E,b,C,_,p[4]]):null},g.prototype.diff_cleanupSemantic=function(l){for(var f=!1,s=[],c=0,v=null,u=0,p=0,E=0,b=0,C=0;u<l.length;)l[u][0]==0?(s[c++]=u,p=b,E=C,b=0,C=0,v=l[u][1]):(l[u][0]==1?b+=l[u][1].length:C+=l[u][1].length,v&&v.length<=Math.max(p,E)&&v.length<=Math.max(b,C)&&(l.splice(s[c-1],0,new g.Diff(-1,v)),l[s[c-1]+1][0]=1,c--,u=--c>0?s[c-1]:-1,p=0,E=0,b=0,C=0,v=null,f=!0)),u++;for(f&&this.diff_cleanupMerge(l),this.diff_cleanupSemanticLossless(l),u=1;u<l.length;){if(l[u-1][0]==-1&&l[u][0]==1){var _=l[u-1][1],S=l[u][1],x=this.diff_commonOverlap_(_,S),L=this.diff_commonOverlap_(S,_);x>=L?(x>=_.length/2||x>=S.length/2)&&(l.splice(u,0,new g.Diff(0,S.substring(0,x))),l[u-1][1]=_.substring(0,_.length-x),l[u+1][1]=S.substring(x),u++):(L>=_.length/2||L>=S.length/2)&&(l.splice(u,0,new g.Diff(0,_.substring(0,L))),l[u-1][0]=1,l[u-1][1]=S.substring(0,S.length-L),l[u+1][0]=-1,l[u+1][1]=_.substring(L),u++),u++}u++}},g.prototype.diff_cleanupSemanticLossless=function(l){function f(L,I){if(!L||!I)return 6;var U=L.charAt(L.length-1),Z=I.charAt(0),w=U.match(g.nonAlphaNumericRegex_),Q=Z.match(g.nonAlphaNumericRegex_),te=w&&U.match(g.whitespaceRegex_),pe=Q&&Z.match(g.whitespaceRegex_),se=te&&U.match(g.linebreakRegex_),ue=pe&&Z.match(g.linebreakRegex_),fe=se&&L.match(g.blanklineEndRegex_),we=ue&&I.match(g.blanklineStartRegex_);return fe||we?5:se||ue?4:w&&!te&&pe?3:te||pe?2:w||Q?1:0}for(var s=1;s<l.length-1;){if(l[s-1][0]==0&&l[s+1][0]==0){var c=l[s-1][1],v=l[s][1],u=l[s+1][1],p=this.diff_commonSuffix(c,v);if(p){var E=v.substring(v.length-p);c=c.substring(0,c.length-p),v=E+v.substring(0,v.length-p),u=E+u}for(var b=c,C=v,_=u,S=f(c,v)+f(v,u);v.charAt(0)===u.charAt(0);){c+=v.charAt(0),v=v.substring(1)+u.charAt(0),u=u.substring(1);var x=f(c,v)+f(v,u);x>=S&&(S=x,b=c,C=v,_=u)}l[s-1][1]!=b&&(b?l[s-1][1]=b:(l.splice(s-1,1),s--),l[s][1]=C,_?l[s+1][1]=_:(l.splice(s+1,1),s--))}s++}},g.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,g.whitespaceRegex_=/\s/,g.linebreakRegex_=/[\r\n]/,g.blanklineEndRegex_=/\n\r?\n$/,g.blanklineStartRegex_=/^\r?\n\r?\n/,g.prototype.diff_cleanupEfficiency=function(l){for(var f=!1,s=[],c=0,v=null,u=0,p=!1,E=!1,b=!1,C=!1;u<l.length;)l[u][0]==0?(l[u][1].length<this.Diff_EditCost&&(b||C)?(s[c++]=u,p=b,E=C,v=l[u][1]):(c=0,v=null),b=C=!1):(l[u][0]==-1?C=!0:b=!0,v&&(p&&E&&b&&C||v.length<this.Diff_EditCost/2&&p+E+b+C==3)&&(l.splice(s[c-1],0,new g.Diff(-1,v)),l[s[c-1]+1][0]=1,c--,v=null,p&&E?(b=C=!0,c=0):(u=--c>0?s[c-1]:-1,b=C=!1),f=!0)),u++;f&&this.diff_cleanupMerge(l)},g.prototype.diff_cleanupMerge=function(l){l.push(new g.Diff(0,""));for(var f,s=0,c=0,v=0,u="",p="";s<l.length;)switch(l[s][0]){case 1:v++,p+=l[s][1],s++;break;case-1:c++,u+=l[s][1],s++;break;case 0:c+v>1?(c!==0&&v!==0&&((f=this.diff_commonPrefix(p,u))!==0&&(s-c-v>0&&l[s-c-v-1][0]==0?l[s-c-v-1][1]+=p.substring(0,f):(l.splice(0,0,new g.Diff(0,p.substring(0,f))),s++),p=p.substring(f),u=u.substring(f)),(f=this.diff_commonSuffix(p,u))!==0&&(l[s][1]=p.substring(p.length-f)+l[s][1],p=p.substring(0,p.length-f),u=u.substring(0,u.length-f))),s-=c+v,l.splice(s,c+v),u.length&&(l.splice(s,0,new g.Diff(-1,u)),s++),p.length&&(l.splice(s,0,new g.Diff(1,p)),s++),s++):s!==0&&l[s-1][0]==0?(l[s-1][1]+=l[s][1],l.splice(s,1)):s++,v=0,c=0,u="",p=""}l[l.length-1][1]===""&&l.pop();var E=!1;for(s=1;s<l.length-1;)l[s-1][0]==0&&l[s+1][0]==0&&(l[s][1].substring(l[s][1].length-l[s-1][1].length)==l[s-1][1]?(l[s][1]=l[s-1][1]+l[s][1].substring(0,l[s][1].length-l[s-1][1].length),l[s+1][1]=l[s-1][1]+l[s+1][1],l.splice(s-1,1),E=!0):l[s][1].substring(0,l[s+1][1].length)==l[s+1][1]&&(l[s-1][1]+=l[s+1][1],l[s][1]=l[s][1].substring(l[s+1][1].length)+l[s+1][1],l.splice(s+1,1),E=!0)),s++;E&&this.diff_cleanupMerge(l)},g.prototype.diff_xIndex=function(l,f){var s,c=0,v=0,u=0,p=0;for(s=0;s<l.length&&(l[s][0]!==1&&(c+=l[s][1].length),l[s][0]!==-1&&(v+=l[s][1].length),!(c>f));s++)u=c,p=v;return l.length!=s&&l[s][0]===-1?p:p+(f-u)},g.prototype.diff_prettyHtml=function(l){for(var f=[],s=/&/g,c=/</g,v=/>/g,u=/\n/g,p=0;p<l.length;p++){var E=l[p][0],b=l[p][1].replace(s,"&amp;").replace(c,"&lt;").replace(v,"&gt;").replace(u,"&para;<br>");switch(E){case 1:f[p]='<ins style="background:#e6ffe6;">'+b+"</ins>";break;case-1:f[p]='<del style="background:#ffe6e6;">'+b+"</del>";break;case 0:f[p]="<span>"+b+"</span>"}}return f.join("")},g.prototype.diff_text1=function(l){for(var f=[],s=0;s<l.length;s++)l[s][0]!==1&&(f[s]=l[s][1]);return f.join("")},g.prototype.diff_text2=function(l){for(var f=[],s=0;s<l.length;s++)l[s][0]!==-1&&(f[s]=l[s][1]);return f.join("")},g.prototype.diff_levenshtein=function(l){for(var f=0,s=0,c=0,v=0;v<l.length;v++){var u=l[v][0],p=l[v][1];switch(u){case 1:s+=p.length;break;case-1:c+=p.length;break;case 0:f+=Math.max(s,c),s=0,c=0}}return f+=Math.max(s,c)},g.prototype.diff_toDelta=function(l){for(var f=[],s=0;s<l.length;s++)switch(l[s][0]){case 1:f[s]="+"+encodeURI(l[s][1]);break;case-1:f[s]="-"+l[s][1].length;break;case 0:f[s]="="+l[s][1].length}return f.join("	").replace(/%20/g," ")},g.prototype.diff_fromDelta=function(l,f){for(var s=[],c=0,v=0,u=f.split(/\t/g),p=0;p<u.length;p++){var E=u[p].substring(1);switch(u[p].charAt(0)){case"+":try{s[c++]=new g.Diff(1,decodeURI(E))}catch(_){throw new Error("Illegal escape in diff_fromDelta: "+E)}break;case"-":case"=":var b=parseInt(E,10);if(isNaN(b)||b<0)throw new Error("Invalid number in diff_fromDelta: "+E);var C=l.substring(v,v+=b);u[p].charAt(0)=="="?s[c++]=new g.Diff(0,C):s[c++]=new g.Diff(-1,C);break;default:if(u[p])throw new Error("Invalid diff operation in diff_fromDelta: "+u[p])}}if(v!=l.length)throw new Error("Delta length ("+v+") does not equal source text length ("+l.length+").");return s},g.prototype.match_main=function(l,f,s){if(l==null||f==null||s==null)throw new Error("Null input. (match_main)");return s=Math.max(0,Math.min(s,l.length)),l==f?0:l.length?l.substring(s,s+f.length)==f?s:this.match_bitap_(l,f,s):-1},g.prototype.match_bitap_=function(l,f,s){if(f.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var c=this.match_alphabet_(f),v=this;function u(pe,se){var ue=pe/f.length,fe=Math.abs(s-se);return v.Match_Distance?ue+fe/v.Match_Distance:fe?1:ue}var p=this.Match_Threshold,E=l.indexOf(f,s);E!=-1&&(p=Math.min(u(0,E),p),(E=l.lastIndexOf(f,s+f.length))!=-1&&(p=Math.min(u(0,E),p)));var b,C,_=1<<f.length-1;E=-1;for(var S,x=f.length+l.length,L=0;L<f.length;L++){for(b=0,C=x;b<C;)u(L,s+C)<=p?b=C:x=C,C=Math.floor((x-b)/2+b);x=C;var I=Math.max(1,s-C+1),U=Math.min(s+C,l.length)+f.length,Z=Array(U+2);Z[U+1]=(1<<L)-1;for(var w=U;w>=I;w--){var Q=c[l.charAt(w-1)];if(Z[w]=L===0?(Z[w+1]<<1|1)&Q:(Z[w+1]<<1|1)&Q|(S[w+1]|S[w])<<1|1|S[w+1],Z[w]&_){var te=u(L,w-1);if(te<=p){if(p=te,!((E=w-1)>s))break;I=Math.max(1,2*s-E)}}}if(u(L+1,s)>p)break;S=Z}return E},g.prototype.match_alphabet_=function(l){for(var f={},s=0;s<l.length;s++)f[l.charAt(s)]=0;for(s=0;s<l.length;s++)f[l.charAt(s)]|=1<<l.length-s-1;return f},g.prototype.patch_addContext_=function(l,f){if(f.length!=0){if(l.start2===null)throw Error("patch not initialized");for(var s=f.substring(l.start2,l.start2+l.length1),c=0;f.indexOf(s)!=f.lastIndexOf(s)&&s.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)c+=this.Patch_Margin,s=f.substring(l.start2-c,l.start2+l.length1+c);c+=this.Patch_Margin;var v=f.substring(l.start2-c,l.start2);v&&l.diffs.unshift(new g.Diff(0,v));var u=f.substring(l.start2+l.length1,l.start2+l.length1+c);u&&l.diffs.push(new g.Diff(0,u)),l.start1-=v.length,l.start2-=v.length,l.length1+=v.length+u.length,l.length2+=v.length+u.length}},g.prototype.patch_make=function(l,f,s){var c,v;if(typeof l=="string"&&typeof f=="string"&&s===void 0)c=l,(v=this.diff_main(c,f,!0)).length>2&&(this.diff_cleanupSemantic(v),this.diff_cleanupEfficiency(v));else if(l&&typeof l=="object"&&f===void 0&&s===void 0)v=l,c=this.diff_text1(v);else if(typeof l=="string"&&f&&typeof f=="object"&&s===void 0)c=l,v=f;else{if(typeof l!="string"||typeof f!="string"||!s||typeof s!="object")throw new Error("Unknown call format to patch_make.");c=l,v=s}if(v.length===0)return[];for(var u=[],p=new g.patch_obj,E=0,b=0,C=0,_=c,S=c,x=0;x<v.length;x++){var L=v[x][0],I=v[x][1];switch(E||L===0||(p.start1=b,p.start2=C),L){case 1:p.diffs[E++]=v[x],p.length2+=I.length,S=S.substring(0,C)+I+S.substring(C);break;case-1:p.length1+=I.length,p.diffs[E++]=v[x],S=S.substring(0,C)+S.substring(C+I.length);break;case 0:I.length<=2*this.Patch_Margin&&E&&v.length!=x+1?(p.diffs[E++]=v[x],p.length1+=I.length,p.length2+=I.length):I.length>=2*this.Patch_Margin&&E&&(this.patch_addContext_(p,_),u.push(p),p=new g.patch_obj,E=0,_=S,b=C)}L!==1&&(b+=I.length),L!==-1&&(C+=I.length)}return E&&(this.patch_addContext_(p,_),u.push(p)),u},g.prototype.patch_deepCopy=function(l){for(var f=[],s=0;s<l.length;s++){var c=l[s],v=new g.patch_obj;v.diffs=[];for(var u=0;u<c.diffs.length;u++)v.diffs[u]=new g.Diff(c.diffs[u][0],c.diffs[u][1]);v.start1=c.start1,v.start2=c.start2,v.length1=c.length1,v.length2=c.length2,f[s]=v}return f},g.prototype.patch_apply=function(l,f){if(l.length==0)return[f,[]];l=this.patch_deepCopy(l);var s=this.patch_addPadding(l);f=s+f+s,this.patch_splitMax(l);for(var c=0,v=[],u=0;u<l.length;u++){var p,E,b=l[u].start2+c,C=this.diff_text1(l[u].diffs),_=-1;if(C.length>this.Match_MaxBits?(p=this.match_main(f,C.substring(0,this.Match_MaxBits),b))!=-1&&((_=this.match_main(f,C.substring(C.length-this.Match_MaxBits),b+C.length-this.Match_MaxBits))==-1||p>=_)&&(p=-1):p=this.match_main(f,C,b),p==-1)v[u]=!1,c-=l[u].length2-l[u].length1;else if(v[u]=!0,c=p-b,C==(E=_==-1?f.substring(p,p+C.length):f.substring(p,_+this.Match_MaxBits)))f=f.substring(0,p)+this.diff_text2(l[u].diffs)+f.substring(p+C.length);else{var S=this.diff_main(C,E,!1);if(C.length>this.Match_MaxBits&&this.diff_levenshtein(S)/C.length>this.Patch_DeleteThreshold)v[u]=!1;else{this.diff_cleanupSemanticLossless(S);for(var x,L=0,I=0;I<l[u].diffs.length;I++){var U=l[u].diffs[I];U[0]!==0&&(x=this.diff_xIndex(S,L)),U[0]===1?f=f.substring(0,p+x)+U[1]+f.substring(p+x):U[0]===-1&&(f=f.substring(0,p+x)+f.substring(p+this.diff_xIndex(S,L+U[1].length))),U[0]!==-1&&(L+=U[1].length)}}}}return[f=f.substring(s.length,f.length-s.length),v]},g.prototype.patch_addPadding=function(l){for(var f=this.Patch_Margin,s="",c=1;c<=f;c++)s+=String.fromCharCode(c);for(c=0;c<l.length;c++)l[c].start1+=f,l[c].start2+=f;var v=l[0],u=v.diffs;if(u.length==0||u[0][0]!=0)u.unshift(new g.Diff(0,s)),v.start1-=f,v.start2-=f,v.length1+=f,v.length2+=f;else if(f>u[0][1].length){var p=f-u[0][1].length;u[0][1]=s.substring(u[0][1].length)+u[0][1],v.start1-=p,v.start2-=p,v.length1+=p,v.length2+=p}return(u=(v=l[l.length-1]).diffs).length==0||u[u.length-1][0]!=0?(u.push(new g.Diff(0,s)),v.length1+=f,v.length2+=f):f>u[u.length-1][1].length&&(p=f-u[u.length-1][1].length,u[u.length-1][1]+=s.substring(0,p),v.length1+=p,v.length2+=p),s},g.prototype.patch_splitMax=function(l){for(var f=this.Match_MaxBits,s=0;s<l.length;s++)if(!(l[s].length1<=f)){var c=l[s];l.splice(s--,1);for(var v=c.start1,u=c.start2,p="";c.diffs.length!==0;){var E=new g.patch_obj,b=!0;for(E.start1=v-p.length,E.start2=u-p.length,p!==""&&(E.length1=E.length2=p.length,E.diffs.push(new g.Diff(0,p)));c.diffs.length!==0&&E.length1<f-this.Patch_Margin;){var C=c.diffs[0][0],_=c.diffs[0][1];C===1?(E.length2+=_.length,u+=_.length,E.diffs.push(c.diffs.shift()),b=!1):C===-1&&E.diffs.length==1&&E.diffs[0][0]==0&&_.length>2*f?(E.length1+=_.length,v+=_.length,b=!1,E.diffs.push(new g.Diff(C,_)),c.diffs.shift()):(_=_.substring(0,f-E.length1-this.Patch_Margin),E.length1+=_.length,v+=_.length,C===0?(E.length2+=_.length,u+=_.length):b=!1,E.diffs.push(new g.Diff(C,_)),_==c.diffs[0][1]?c.diffs.shift():c.diffs[0][1]=c.diffs[0][1].substring(_.length))}p=(p=this.diff_text2(E.diffs)).substring(p.length-this.Patch_Margin);var S=this.diff_text1(c.diffs).substring(0,this.Patch_Margin);S!==""&&(E.length1+=S.length,E.length2+=S.length,E.diffs.length!==0&&E.diffs[E.diffs.length-1][0]===0?E.diffs[E.diffs.length-1][1]+=S:E.diffs.push(new g.Diff(0,S))),b||l.splice(++s,0,E)}}},g.prototype.patch_toText=function(l){for(var f=[],s=0;s<l.length;s++)f[s]=l[s];return f.join("")},g.prototype.patch_fromText=function(l){var f=[];if(!l)return f;for(var s=l.split(`
`),c=0,v=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;c<s.length;){var u=s[c].match(v);if(!u)throw new Error("Invalid patch string: "+s[c]);var p=new g.patch_obj;for(f.push(p),p.start1=parseInt(u[1],10),u[2]===""?(p.start1--,p.length1=1):u[2]=="0"?p.length1=0:(p.start1--,p.length1=parseInt(u[2],10)),p.start2=parseInt(u[3],10),u[4]===""?(p.start2--,p.length2=1):u[4]=="0"?p.length2=0:(p.start2--,p.length2=parseInt(u[4],10)),c++;c<s.length;){var E=s[c].charAt(0);try{var b=decodeURI(s[c].substring(1))}catch(C){throw new Error("Illegal escape in patch_fromText: "+b)}if(E=="-")p.diffs.push(new g.Diff(-1,b));else if(E=="+")p.diffs.push(new g.Diff(1,b));else if(E==" ")p.diffs.push(new g.Diff(0,b));else{if(E=="@")break;if(E!=="")throw new Error('Invalid patch mode "'+E+'" in: '+b)}c++}}return f},(g.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var l,f=["@@ -"+(this.length1===0?this.start1+",0":this.length1==1?this.start1+1:this.start1+1+","+this.length1)+" +"+(this.length2===0?this.start2+",0":this.length2==1?this.start2+1:this.start2+1+","+this.length2)+` @@
`],s=0;s<this.diffs.length;s++){switch(this.diffs[s][0]){case 1:l="+";break;case-1:l="-";break;case 0:l=" "}f[s+1]=l+encodeURI(this.diffs[s][1])+`
`}return f.join("").replace(/%20/g," ")},re.exports=g,re.exports.diff_match_patch=g,re.exports.DIFF_DELETE=-1,re.exports.DIFF_INSERT=1,re.exports.DIFF_EQUAL=0},function(re,N,g){g.r(N);var l,f,s=g(26),c=g(2),v=g(9),u=function(e){return e.currentMode==="sv"?Object(v.a)((e.sv.element.textContent+`
`).replace(/\n\n$/,`
`)):e.currentMode==="wysiwyg"?e.lute.VditorDOM2Md(e.wysiwyg.element.innerHTML):e.currentMode==="ir"?e.lute.VditorIRDOM2Md(e.ir.element.innerHTML):""},p=g(5),E=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return e.prototype.renderEchart=function(t){var n=this;t.devtools.element.style.display==="block"&&Object(p.a)(t.options.cdn+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){n.ASTChart||(n.ASTChart=echarts.init(t.devtools.element.lastElementChild));try{n.element.lastElementChild.style.display="block",n.element.firstElementChild.innerHTML="",n.ASTChart.setOption({series:[{data:JSON.parse(t.lute.RenderEChartsJSON(u(t))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),n.ASTChart.resize()}catch(o){n.element.lastElementChild.style.display="none",n.element.firstElementChild.innerHTML=o}})},e}(),b=g(3),C=function(e,t){t.forEach(function(n){if(e[n]){var o=e[n].children[0];o&&o.classList.contains("vditor-menu--current")&&o.classList.remove("vditor-menu--current")}})},_=function(e,t){t.forEach(function(n){if(e[n]){var o=e[n].children[0];o&&!o.classList.contains("vditor-menu--current")&&o.classList.add("vditor-menu--current")}})},S=function(e,t){t.forEach(function(n){if(e[n]){var o=e[n].children[0];o&&o.classList.contains(c.a.CLASS_MENU_DISABLED)&&o.classList.remove(c.a.CLASS_MENU_DISABLED)}})},x=function(e,t){t.forEach(function(n){if(e[n]){var o=e[n].children[0];o&&!o.classList.contains(c.a.CLASS_MENU_DISABLED)&&o.classList.add(c.a.CLASS_MENU_DISABLED)}})},L=function(e,t){t.forEach(function(n){e[n]&&e[n]&&(e[n].style.display="none")})},I=function(e,t){t.forEach(function(n){e[n]&&e[n]&&(e[n].style.display="block")})},U=function(e,t,n){t.includes("subToolbar")&&(e.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(o){n&&o.isEqualNode(n)||(o.style.display="none")}),e.toolbar.elements.emoji&&(e.toolbar.elements.emoji.lastElementChild.style.display="none")),t.includes("hint")&&(e.hint.element.style.display="none"),e.wysiwyg.popover&&t.includes("popover")&&(e.wysiwyg.popover.style.display="none")},Z=function(e,t,n,o){n.addEventListener(Object(b.b)(),function(r){r.preventDefault(),r.stopPropagation(),n.classList.contains(c.a.CLASS_MENU_DISABLED)||(e.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(i){i.classList.remove("vditor-hint--current")}),t.style.display==="block"?t.style.display="none":(U(e,["subToolbar","hint","popover"],n.parentElement.parentElement),n.classList.contains("vditor-tooltipped")||n.classList.add("vditor-hint--current"),t.style.display="block",e.toolbar.element.getBoundingClientRect().right-n.getBoundingClientRect().right<250?t.classList.add("vditor-panel--left"):t.classList.remove("vditor-panel--left")))})},w=g(0),Q=g(6),te=function(e,t,n,o){o&&console.log(e+" - "+n+": "+t)},pe=g(11),se=g(12),ue=g(13),fe=g(14),we=g(15),Ee=g(16),De=g(7),it=g(17),at=g(18),F=g(19),ae=function(e,t){if(e)if(e.parentElement.getAttribute("data-type")!=="html-block"){var n=e.firstElementChild.className.replace("language-","");n&&(n==="abc"?Object(pe.a)(e,t.options.cdn):n==="mermaid"?Object(it.a)(e,t.options.cdn,t.options.theme):n==="flowchart"?Object(fe.a)(e,t.options.cdn):n==="echarts"?Object(se.a)(e,t.options.cdn,t.options.theme):n==="mindmap"?Object(at.a)(e,t.options.cdn,t.options.theme):n==="plantuml"?Object(F.a)(e,t.options.cdn):n==="graphviz"?Object(we.a)(e,t.options.cdn):n==="math"?Object(De.a)(e,{cdn:t.options.cdn,math:t.options.preview.math}):(Object(Ee.a)(Object.assign({},t.options.preview.hljs),e,t.options.cdn),Object(ue.a)(e,t.options.lang)),e.setAttribute("data-render","1"))}else e.setAttribute("data-render","1")},k=g(1),z=function(e){if(e.currentMode!=="sv"){var t=e[e.currentMode].element,n=e.outline.render(e);n===""&&(n="[ToC]"),t.querySelectorAll('[data-type="toc-block"]').forEach(function(o){o.innerHTML=n,Object(De.a)(o,{cdn:e.options.cdn,math:e.options.preview.math})})}},K=function(e,t){var n=Object(w.f)(e.target,"SPAN");if(n&&Object(w.e)(n,"vditor-toc")){var o=t[t.currentMode].element.querySelector("#"+n.getAttribute("data-target-id"));if(o)if(t.options.height==="auto"){var r=o.offsetTop+t.element.offsetTop;t.options.toolbarConfig.pin||(r+=t.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,r)}else t.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,t.element.offsetTop),t[t.currentMode].element.scrollTop=o.offsetTop}},_e=function(e,t,n,o){if(e.previousElementSibling&&e.previousElementSibling.classList.contains("vditor-toc")){if(n.key==="Backspace"&&Object(k.c)(e,t[t.currentMode].element,o).start===0)return e.previousElementSibling.remove(),ie(t),!0;if(Ve(t,n,o,e,e.previousElementSibling))return!0}if(e.nextElementSibling&&e.nextElementSibling.classList.contains("vditor-toc")){if(n.key==="Delete"&&Object(k.c)(e,t[t.currentMode].element,o).start>=e.textContent.trimRight().length)return e.nextElementSibling.remove(),ie(t),!0;if(tt(t,n,o,e,e.nextElementSibling))return!0}if(n.key==="Backspace"||n.key==="Delete"){var r=Object(w.e)(o.startContainer,"vditor-toc");if(r)return r.remove(),ie(t),!0}},le=function(e,t,n,o){n===void 0&&(n=!1);var r=Object(w.c)(t.startContainer);if(r&&!n&&r.getAttribute("data-type")!=="code-block"){if(Mt(r.innerHTML)&&r.previousElementSibling||jt(r.innerHTML))return;for(var i=Object(k.c)(r,e.ir.element,t).start,a=!0,d=i-1;d>r.textContent.substr(0,i).lastIndexOf(`
`);d--)if(r.textContent.charAt(d)!==" "&&r.textContent.charAt(d)!=="	"){a=!1;break}i===0&&(a=!1);var h=!0;for(d=i-1;d<r.textContent.length;d++)if(r.textContent.charAt(d)!==" "&&r.textContent.charAt(d)!==`
`){h=!1;break}if(a)return;if(h&&!Object(w.e)(t.startContainer,"vditor-ir__marker")){var m=t.startContainer.previousSibling;return void(m&&m.nodeType!==3&&m.classList.contains("vditor-ir__node--expand")&&m.classList.remove("vditor-ir__node--expand"))}}if(e.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(V){V.classList.remove("vditor-ir__node--expand")}),r||(r=e.ir.element),!r.querySelector("wbr")){var y=Object(w.e)(t.startContainer,"vditor-ir__preview");y?y.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):t.insertNode(document.createElement("wbr"))}r.querySelectorAll("[style]").forEach(function(V){V.removeAttribute("style")}),r.getAttribute("data-type")==="link-ref-defs-block"&&(r=e.ir.element);var T,A=r.isEqualNode(e.ir.element),R=Object(w.d)(r,"data-type","footnotes-block"),O="";if(A)O=r.innerHTML;else{var j=Object(Q.b)(t.startContainer,"BLOCKQUOTE"),W=Object(w.b)(t.startContainer);if(W&&(r=W),j&&(!W||W&&!j.contains(W))&&(r=j),R&&(r=R),O=r.outerHTML,r.tagName==="UL"||r.tagName==="OL"){var q=r.previousElementSibling,D=r.nextElementSibling;!q||q.tagName!=="UL"&&q.tagName!=="OL"||(O=q.outerHTML+O,q.remove()),!D||D.tagName!=="UL"&&D.tagName!=="OL"||(O+=D.outerHTML,D.remove()),O=O.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else r.previousElementSibling&&r.previousElementSibling.textContent.replace(c.a.ZWSP,"")!==""&&o&&o.inputType==="insertParagraph"&&(O=r.previousElementSibling.outerHTML+O,r.previousElementSibling.remove());e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(V){V&&!r.isEqualNode(V)&&(O+=V.outerHTML,V.remove())}),e.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(V){V&&!r.isEqualNode(V)&&(O+=V.outerHTML,V.remove())})}if(te("SpinVditorIRDOM",O,"argument",e.options.debugger),O=e.lute.SpinVditorIRDOM(O),te("SpinVditorIRDOM",O,"result",e.options.debugger),A)r.innerHTML=O;else if(r.outerHTML=O,R){var P=Object(w.d)(e.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(P){var M=P.textContent,H=M.substring(1,M.indexOf("]:")),Y=e.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+H+'"]');Y&&Y.setAttribute("aria-label",M.substr(H.length+3).trim().substr(0,24))}}var $,X=e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");X.forEach(function(V,oe){oe===0?T=V:(T.insertAdjacentHTML("beforeend",V.innerHTML),V.remove())}),X.length>0&&e.ir.element.insertAdjacentElement("beforeend",X[0]);var ne=e.ir.element.querySelectorAll("[data-type='footnotes-block']");ne.forEach(function(V,oe){oe===0?$=V:($.insertAdjacentHTML("beforeend",V.innerHTML),V.remove())}),ne.length>0&&e.ir.element.insertAdjacentElement("beforeend",ne[0]),Object(k.f)(e.ir.element,t),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(V){ae(V,e)}),z(e),Re(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},J=function(e,t){if(e==="")return!1;if(e.indexOf("\u21E7")===-1&&e.indexOf("\u2318")===-1&&e.indexOf("\u2325")===-1)return!(Object(b.d)(t)||t.altKey||t.shiftKey||t.code!==e);if(e==="\u21E7Tab")return!(Object(b.d)(t)||t.altKey||!t.shiftKey||t.code!=="Tab");var n=e.split("");if(e.startsWith("\u2325")){var o=n.length===3?n[2]:n[1];return!((n.length===3?!Object(b.d)(t):Object(b.d)(t))||!t.altKey||t.shiftKey||t.code!==(/^[0-9]$/.test(o)?"Digit":"Key")+o)}e==="\u2318Enter"&&(n=["\u2318","Enter"]);var r=n.length>2&&n[0]==="\u21E7",i=r?n[2]:n[1];return!r||!Object(b.e)()&&/Mac/.test(navigator.platform)||(i==="-"?i="_":i==="="&&(i="+")),!(!Object(b.d)(t)||t.key.toLowerCase()!==i.toLowerCase()||t.altKey||!(!r&&!t.shiftKey||r&&t.shiftKey))},ve=function(e,t){t.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(a){a.classList.remove("vditor-ir__node--expand")});var n=Object(w.g)(e.startContainer,"vditor-ir__node"),o=!e.collapsed&&Object(w.g)(e.endContainer,"vditor-ir__node");if(e.collapsed||n&&n===o){n&&(n.classList.add("vditor-ir__node--expand"),n.classList.remove("vditor-ir__node--hidden"),Object(k.h)(e));var r=function(a){var d=a.startContainer;if(d.nodeType===3&&d.nodeValue.length!==a.startOffset)return!1;for(var h=d.nextSibling;h&&h.textContent==="";)h=h.nextSibling;if(!h){var m=Object(w.e)(d,"vditor-ir__marker");if(m&&!m.nextSibling){var y=d.parentElement.parentElement.nextSibling;if(y&&y.nodeType!==3&&y.classList.contains("vditor-ir__node"))return y}return!1}return!(!h||h.nodeType===3||!h.classList.contains("vditor-ir__node")||h.getAttribute("data-block"))&&h}(e);if(r)return r.classList.add("vditor-ir__node--expand"),void r.classList.remove("vditor-ir__node--hidden");var i=function(a){var d=a.startContainer,h=d.previousSibling;return!(d.nodeType!==3||a.startOffset!==0||!h||h.nodeType===3||!h.classList.contains("vditor-ir__node")||h.getAttribute("data-block"))&&h}(e);return i?(i.classList.add("vditor-ir__node--expand"),void i.classList.remove("vditor-ir__node--hidden")):void 0}},me=g(21),ee=function(e,t){var n,o=getSelection().getRangeAt(0).cloneRange(),r=o.startContainer;o.startContainer.nodeType!==3&&o.startContainer.tagName==="DIV"&&(r=o.startContainer.childNodes[o.startOffset-1]);var i=Object(w.d)(r,"data-block","0");if(i&&t&&(t.inputType==="deleteContentBackward"||t.data===" ")){for(var a=Object(k.c)(i,e.sv.element,o).start,d=!0,h=a-1;h>i.textContent.substr(0,a).lastIndexOf(`
`);h--)if(i.textContent.charAt(h)!==" "&&i.textContent.charAt(h)!=="	"){d=!1;break}if(a===0&&(d=!1),d)return void ye(e);if(t.inputType==="deleteContentBackward"){var m=Object(w.d)(r,"data-type","code-block-open-marker")||Object(w.d)(r,"data-type","code-block-close-marker");if(m){var y;if(m.getAttribute("data-type")==="code-block-close-marker"&&(y=ct(r,"code-block-open-marker"))||m.getAttribute("data-type")==="code-block-open-marker"&&(y=ct(r,"code-block-close-marker",!1)))return y.textContent=m.textContent,void ye(e)}var T=Object(w.d)(r,"data-type","math-block-open-marker");if(T){var A=T.nextElementSibling.nextElementSibling;return void(A&&A.getAttribute("data-type")==="math-block-close-marker"&&(A.remove(),ye(e)))}i.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(M){M.textContent.length===1&&M.remove()}),i.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(M){M.textContent.length===1&&M.remove()});var R=Object(w.d)(r,"data-type","heading-marker");if(R&&R.textContent.indexOf("#")===-1)return void ye(e)}if((t.data===" "||t.inputType==="deleteContentBackward")&&(Object(w.d)(r,"data-type","padding")||Object(w.d)(r,"data-type","li-marker")||Object(w.d)(r,"data-type","task-marker")||Object(w.d)(r,"data-type","blockquote-marker")))return void ye(e)}if(i&&i.textContent.trimRight()==="$$")ye(e);else{i||(i=e.sv.element),((n=i.firstElementChild)===null||n===void 0?void 0:n.getAttribute("data-type"))==="link-ref-defs-block"&&(i=e.sv.element),Object(w.d)(r,"data-type","footnotes-link")&&(i=e.sv.element),i.textContent.indexOf(Lute.Caret)===-1&&o.insertNode(document.createTextNode(Lute.Caret)),i.querySelectorAll("[style]").forEach(function(M){M.removeAttribute("style")}),i.querySelectorAll("font").forEach(function(M){M.outerHTML=M.innerHTML});var O,j=i.textContent,W=i.isEqualNode(e.sv.element);W?j=i.textContent:(i.previousElementSibling&&(j=i.previousElementSibling.textContent+j,i.previousElementSibling.remove()),i.previousElementSibling&&j.indexOf(`---
`)===0&&(j=i.previousElementSibling.textContent+j,i.previousElementSibling.remove()),e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(M,H){H===0&&M&&!i.isEqualNode(M.parentElement)&&(j+=`
`+M.parentElement.textContent,M.parentElement.remove())}),e.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(M,H){H===0&&M&&!i.isEqualNode(M.parentElement)&&(j+=`
`+M.parentElement.textContent,M.parentElement.remove())})),j=Kt(j,e),W?i.innerHTML=j:i.outerHTML=j;var q,D=e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']");D.forEach(function(M,H){H===0?O=M.parentElement:(O.lastElementChild.remove(),O.insertAdjacentHTML("beforeend",""+M.parentElement.innerHTML),M.parentElement.remove())}),D.length>0&&e.sv.element.insertAdjacentElement("beforeend",O);var P=e.sv.element.querySelectorAll("[data-type='footnotes-link']");P.forEach(function(M,H){H===0?q=M.parentElement:(q.lastElementChild.remove(),q.insertAdjacentHTML("beforeend",""+M.parentElement.innerHTML),M.parentElement.remove())}),P.length>0&&e.sv.element.insertAdjacentElement("beforeend",q),Object(k.f)(e.sv.element,o),be(e),ye(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})}},G=g(4),bt=g(10),It=function(e){e.options.theme==="dark"?e.element.classList.add("vditor--dark"):e.element.classList.remove("vditor--dark")},He=function(e){var t=window.innerWidth<=c.a.MOBILE_WIDTH?10:35;if(e.wysiwyg.element.parentElement.style.display!=="none"){var n=(e.wysiwyg.element.parentElement.clientWidth-e.options.preview.maxWidth)/2;e.wysiwyg.element.style.padding="10px "+Math.max(t,n)+"px"}e.ir.element.parentElement.style.display!=="none"&&(n=(e.ir.element.parentElement.clientWidth-e.options.preview.maxWidth)/2,e.ir.element.style.padding="10px "+Math.max(t,n)+"px"),e.preview.element.style.display==="block"&&e.currentMode!=="sv"||(e.toolbar.element.style.paddingLeft=Math.max(5,parseInt(e[e.currentMode].element.style.paddingLeft||"0",10)+(e.options.outline.position==="left"?e.outline.element.offsetWidth:0))+"px")},lt=function(e){if(e.options.typewriterMode){var t=window.innerHeight;typeof e.options.height=="number"&&(t=e.options.height,typeof e.options.minHeight=="number"&&(t=Math.max(t,e.options.minHeight)),t=Math.min(window.innerHeight,t)),e.element.classList.contains("vditor--fullscreen")&&(t=window.innerHeight),e[e.currentMode].element.style.setProperty("--editor-bottom",(t-e.toolbar.element.offsetHeight)/2+"px")}},Cn=function(e,t){lt(e),window.addEventListener("resize",function(){He(e),lt(e)});var n=Object(b.a)()&&localStorage.getItem(e.options.cache.id);return e.options.cache.enable&&n||(e.options.value?n=e.options.value:e.originalInnerHTML?n=e.lute.HTML2Md(e.originalInnerHTML):e.options.cache.enable||(n="")),n||""},Ye=function(e){clearTimeout(e[e.currentMode].hlToolbarTimeoutId),e[e.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(e[e.currentMode].element.getAttribute("contenteditable")!=="false"&&Object(k.e)(e[e.currentMode].element)){C(e.toolbar.elements,c.a.EDIT_TOOLBARS),S(e.toolbar.elements,c.a.EDIT_TOOLBARS);var t=Object(k.b)(e),n=t.startContainer;t.startContainer.nodeType===3&&(n=t.startContainer.parentElement),n.classList.contains("vditor-reset")&&(n=n.childNodes[t.startOffset]),(e.currentMode==="sv"?Object(w.d)(n,"data-type","heading"):Object(Q.a)(n))&&_(e.toolbar.elements,["headings"]),(e.currentMode==="sv"?Object(w.d)(n,"data-type","blockquote"):Object(w.f)(n,"BLOCKQUOTE"))&&_(e.toolbar.elements,["quote"]),Object(w.d)(n,"data-type","strong")&&_(e.toolbar.elements,["bold"]),Object(w.d)(n,"data-type","em")&&_(e.toolbar.elements,["italic"]),Object(w.d)(n,"data-type","s")&&_(e.toolbar.elements,["strike"]),Object(w.d)(n,"data-type","a")&&_(e.toolbar.elements,["link"]);var o=Object(w.f)(n,"LI");o?(o.classList.contains("vditor-task")?_(e.toolbar.elements,["check"]):o.parentElement.tagName==="OL"?_(e.toolbar.elements,["ordered-list"]):o.parentElement.tagName==="UL"&&_(e.toolbar.elements,["list"]),S(e.toolbar.elements,["outdent","indent"])):x(e.toolbar.elements,["outdent","indent"]),Object(w.d)(n,"data-type","code-block")&&(x(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),_(e.toolbar.elements,["code"])),Object(w.d)(n,"data-type","code")&&(x(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),_(e.toolbar.elements,["inline-code"])),Object(w.d)(n,"data-type","table")&&x(e.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},he=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),clearTimeout(e.wysiwyg.afterRenderTimeoutId),e.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!e.wysiwyg.composingLock){var n=u(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&Object(b.a)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}},e.options.undoDelay)},Pt=function(e){for(var t="",n=e.nextSibling;n;)n.nodeType===3?t+=n.textContent:t+=n.outerHTML,n=n.nextSibling;return t},Bt=function(e){for(var t="",n=e.previousSibling;n;)t=n.nodeType===3?n.textContent+t:n.outerHTML+t,n=n.previousSibling;return t},qt=function(e,t){Array.from(e.wysiwyg.element.childNodes).find(function(n){if(n.nodeType===3){var o=document.createElement("p");o.setAttribute("data-block","0"),o.textContent=n.textContent;var r=t.startContainer.nodeType===3?t.startOffset:n.textContent.length;return n.parentNode.insertBefore(o,n),n.remove(),t.setStart(o.firstChild,Math.min(o.firstChild.textContent.length,r)),t.collapse(!0),Object(k.h)(t),!0}if(!n.getAttribute("data-block"))return n.tagName==="P"?n.remove():(n.tagName==="DIV"?(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'+n.innerHTML+"</p>"):n.tagName==="BR"?n.outerHTML='<p data-block="0">'+n.outerHTML+"<wbr></p>":(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'+n.outerHTML+"</p>"),Object(k.f)(e.wysiwyg.element,t),t=getSelection().getRangeAt(0)),!0})},st=function(e,t){var n=Object(k.b)(e),o=Object(w.c)(n.startContainer);o||(o=n.startContainer.childNodes[n.startOffset]),o||e.wysiwyg.element.children.length!==0||(o=e.wysiwyg.element),o&&!o.classList.contains("vditor-wysiwyg__block")&&(n.insertNode(document.createElement("wbr")),o.innerHTML.trim()==="<wbr>"&&(o.innerHTML="<wbr><br>"),o.tagName==="BLOCKQUOTE"||o.classList.contains("vditor-reset")?o.innerHTML="<"+t+' data-block="0">'+o.innerHTML.trim()+"</"+t+">":o.outerHTML="<"+t+' data-block="0">'+o.innerHTML.trim()+"</"+t+">",Object(k.f)(e.wysiwyg.element,n),z(e))},yt=function(e){var t=getSelection().getRangeAt(0),n=Object(w.c)(t.startContainer);n||(n=t.startContainer.childNodes[t.startOffset]),n&&(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'+n.innerHTML+"</p>",Object(k.f)(e.wysiwyg.element,t)),e.wysiwyg.popover.style.display="none"},$e=function(e,t,n){n===void 0&&(n=!0);var o=e.previousElementSibling,r=o.ownerDocument.createRange();o.tagName==="CODE"?(o.style.display="inline-block",n?r.setStart(o.firstChild,1):r.selectNodeContents(o)):(o.style.display="block",o.firstChild.firstChild||o.firstChild.appendChild(document.createTextNode("")),r.selectNodeContents(o.firstChild)),n?r.collapse(!0):r.collapse(!1),Object(k.h)(r),e.firstElementChild.classList.contains("language-mindmap")||be(t)},Oe=function(e,t){if(J("\u21E7\u2318X",t)){var n=e.wysiwyg.popover.querySelector('[data-type="remove"]');if(n)return n.click(),t.preventDefault(),!0}},Pe=function(e){clearTimeout(e.wysiwyg.hlToolbarTimeoutId),e.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(e.wysiwyg.element.getAttribute("contenteditable")!=="false"&&Object(k.e)(e.wysiwyg.element)){C(e.toolbar.elements,c.a.EDIT_TOOLBARS),S(e.toolbar.elements,c.a.EDIT_TOOLBARS);var t=getSelection().getRangeAt(0),n=t.startContainer;n=t.startContainer.nodeType===3?t.startContainer.parentElement:n.childNodes[t.startOffset>=n.childNodes.length?n.childNodes.length-1:t.startOffset];var o=Object(w.d)(n,"data-type","footnotes-block");if(o)return e.wysiwyg.popover.innerHTML="",Me(o,e),void Le(e,o);var r=Object(w.f)(n,"LI");r?(r.classList.contains("vditor-task")?_(e.toolbar.elements,["check"]):r.parentElement.tagName==="OL"?_(e.toolbar.elements,["ordered-list"]):r.parentElement.tagName==="UL"&&_(e.toolbar.elements,["list"]),S(e.toolbar.elements,["outdent","indent"])):x(e.toolbar.elements,["outdent","indent"]),Object(w.f)(n,"BLOCKQUOTE")&&_(e.toolbar.elements,["quote"]),(Object(w.f)(n,"B")||Object(w.f)(n,"STRONG"))&&_(e.toolbar.elements,["bold"]),(Object(w.f)(n,"I")||Object(w.f)(n,"EM"))&&_(e.toolbar.elements,["italic"]),(Object(w.f)(n,"STRIKE")||Object(w.f)(n,"S"))&&_(e.toolbar.elements,["strike"]),e.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(B){B.classList.remove("vditor-comment--focus")});var i=Object(w.e)(n,"vditor-comment");if(i){var a=i.getAttribute("data-cmtids").split(" ");if(a.length>1&&i.nextSibling.isSameNode(i.nextElementSibling)){var d=i.nextElementSibling.getAttribute("data-cmtids").split(" ");a.find(function(B){if(d.includes(B))return a=[B],!0})}e.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(B){B.getAttribute("data-cmtids").indexOf(a[0])>-1&&B.classList.add("vditor-comment--focus")})}var h=Object(w.f)(n,"A");h&&_(e.toolbar.elements,["link"]);var m=Object(w.f)(n,"TABLE"),y=Object(Q.a)(n);Object(w.f)(n,"CODE")?Object(w.f)(n,"PRE")?(x(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),_(e.toolbar.elements,["code"])):(x(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),_(e.toolbar.elements,["inline-code"])):y?(x(e.toolbar.elements,["bold"]),_(e.toolbar.elements,["headings"])):m&&x(e.toolbar.elements,["table"]);var T=Object(w.e)(n,"vditor-toc");if(T)return e.wysiwyg.popover.innerHTML="",Me(T,e),void Le(e,T);var A=Object(Q.b)(n,"BLOCKQUOTE");if(A&&(e.wysiwyg.popover.innerHTML="",Ue(t,A,e),ze(t,A,e),Me(A,e),Le(e,A)),r&&(e.wysiwyg.popover.innerHTML="",Ue(t,r,e),ze(t,r,e),Me(r,e),Le(e,r)),m){e.wysiwyg.popover.innerHTML="";var R=function(){var B=m.rows.length,de=m.rows[0].cells.length,qe=parseInt(oe.value,10)||B,Ne=parseInt(ce.value,10)||de;if(qe!==B||de!==Ne){if(de!==Ne)for(var wn=Ne-de,Ze=0;Ze<m.rows.length;Ze++)if(wn>0)for(var kn=0;kn<wn;kn++)Ze===0?m.rows[Ze].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):m.rows[Ze].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var Nt=de-1;Nt>=Ne;Nt--)m.rows[Ze].cells[Nt].remove();if(B!==qe){var En=qe-B;if(En>0){for(var Dt="<tr>",Ge=0;Ge<Ne;Ge++)Dt+="<td> </td>";for(var xn=0;xn<En;xn++)m.querySelector("tbody")?m.querySelector("tbody").insertAdjacentHTML("beforeend",Dt):m.querySelector("thead").insertAdjacentHTML("afterend",Dt+"</tr>")}else for(Ge=B-1;Ge>=qe;Ge--)m.rows[Ge].remove(),m.rows.length===1&&m.querySelector("tbody").remove()}}},O=function(B){ft(m,B),B==="right"?(D.classList.remove("vditor-icon--current"),P.classList.remove("vditor-icon--current"),M.classList.add("vditor-icon--current")):B==="center"?(D.classList.remove("vditor-icon--current"),M.classList.remove("vditor-icon--current"),P.classList.add("vditor-icon--current")):(P.classList.remove("vditor-icon--current"),M.classList.remove("vditor-icon--current"),D.classList.add("vditor-icon--current")),Object(k.h)(t),he(e)},j=Object(w.f)(n,"TD"),W=Object(w.f)(n,"TH"),q="left";j?q=j.getAttribute("align")||"left":W&&(q=W.getAttribute("align")||"center");var D=document.createElement("button");D.setAttribute("type","button"),D.setAttribute("aria-label",G.a[e.options.lang].alignLeft+"<"+Object(b.g)("\u21E7\u2318L")+">"),D.setAttribute("data-type","left"),D.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',D.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(q==="left"?" vditor-icon--current":""),D.onclick=function(){O("left")};var P=document.createElement("button");P.setAttribute("type","button"),P.setAttribute("aria-label",G.a[e.options.lang].alignCenter+"<"+Object(b.g)("\u21E7\u2318C")+">"),P.setAttribute("data-type","center"),P.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',P.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(q==="center"?" vditor-icon--current":""),P.onclick=function(){O("center")};var M=document.createElement("button");M.setAttribute("type","button"),M.setAttribute("aria-label",G.a[e.options.lang].alignRight+"<"+Object(b.g)("\u21E7\u2318R")+">"),M.setAttribute("data-type","right"),M.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',M.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(q==="right"?" vditor-icon--current":""),M.onclick=function(){O("right")};var H=document.createElement("button");H.setAttribute("type","button"),H.setAttribute("aria-label",G.a[e.options.lang].insertRowBelow+"<"+Object(b.g)("\u2318=")+">"),H.setAttribute("data-type","insertRow"),H.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',H.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",H.onclick=function(){var B=getSelection().getRangeAt(0).startContainer,de=Object(w.f)(B,"TD")||Object(w.f)(B,"TH");de&&nn(e,t,de)};var Y=document.createElement("button");Y.setAttribute("type","button"),Y.setAttribute("aria-label",G.a[e.options.lang].insertRowAbove+"<"+Object(b.g)("\u21E7\u2318F")+">"),Y.setAttribute("data-type","insertRow"),Y.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',Y.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Y.onclick=function(){var B=getSelection().getRangeAt(0).startContainer,de=Object(w.f)(B,"TD")||Object(w.f)(B,"TH");de&&rn(e,t,de)};var $=document.createElement("button");$.setAttribute("type","button"),$.setAttribute("aria-label",G.a[e.options.lang].insertColumnRight+"<"+Object(b.g)("\u21E7\u2318=")+">"),$.setAttribute("data-type","insertColumn"),$.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',$.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",$.onclick=function(){var B=getSelection().getRangeAt(0).startContainer,de=Object(w.f)(B,"TD")||Object(w.f)(B,"TH");de&&mt(e,m,de)};var X=document.createElement("button");X.setAttribute("type","button"),X.setAttribute("aria-label",G.a[e.options.lang].insertColumnLeft+"<"+Object(b.g)("\u21E7\u2318G")+">"),X.setAttribute("data-type","insertColumn"),X.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',X.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",X.onclick=function(){var B=getSelection().getRangeAt(0).startContainer,de=Object(w.f)(B,"TD")||Object(w.f)(B,"TH");de&&mt(e,m,de,"beforebegin")};var ne=document.createElement("button");ne.setAttribute("type","button"),ne.setAttribute("aria-label",G.a[e.options.lang]["delete-row"]+"<"+Object(b.g)("\u2318-")+">"),ne.setAttribute("data-type","deleteRow"),ne.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',ne.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",ne.onclick=function(){var B=getSelection().getRangeAt(0).startContainer,de=Object(w.f)(B,"TD")||Object(w.f)(B,"TH");de&&on(e,t,de)};var V=document.createElement("button");V.setAttribute("type","button"),V.setAttribute("aria-label",G.a[e.options.lang]["delete-column"]+"<"+Object(b.g)("\u21E7\u2318-")+">"),V.setAttribute("data-type","deleteColumn"),V.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',V.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",V.onclick=function(){var B=getSelection().getRangeAt(0).startContainer,de=Object(w.f)(B,"TD")||Object(w.f)(B,"TH");de&&an(e,t,m,de)},(je=document.createElement("span")).setAttribute("aria-label",G.a[e.options.lang].row),je.className="vditor-tooltipped vditor-tooltipped__n";var oe=document.createElement("input");je.appendChild(oe),oe.type="number",oe.min="1",oe.className="vditor-input",oe.style.width="42px",oe.style.textAlign="center",oe.setAttribute("placeholder",G.a[e.options.lang].row),oe.value=m.rows.length.toString(),oe.oninput=function(){R()},oe.onkeydown=function(B){if(!B.isComposing)return B.key==="Tab"?(ce.focus(),ce.select(),void B.preventDefault()):void Oe(e,B)};var xe=document.createElement("span");xe.setAttribute("aria-label",G.a[e.options.lang].column),xe.className="vditor-tooltipped vditor-tooltipped__n";var ce=document.createElement("input");xe.appendChild(ce),ce.type="number",ce.min="1",ce.className="vditor-input",ce.style.width="42px",ce.style.textAlign="center",ce.setAttribute("placeholder",G.a[e.options.lang].column),ce.value=m.rows[0].cells.length.toString(),ce.oninput=function(){R()},ce.onkeydown=function(B){if(!B.isComposing)return B.key==="Tab"?(oe.focus(),oe.select(),void B.preventDefault()):void Oe(e,B)},Ue(t,m,e),ze(t,m,e),Me(m,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",D),e.wysiwyg.popover.insertAdjacentElement("beforeend",P),e.wysiwyg.popover.insertAdjacentElement("beforeend",M),e.wysiwyg.popover.insertAdjacentElement("beforeend",Y),e.wysiwyg.popover.insertAdjacentElement("beforeend",H),e.wysiwyg.popover.insertAdjacentElement("beforeend",X),e.wysiwyg.popover.insertAdjacentElement("beforeend",$),e.wysiwyg.popover.insertAdjacentElement("beforeend",ne),e.wysiwyg.popover.insertAdjacentElement("beforeend",V),e.wysiwyg.popover.insertAdjacentElement("beforeend",je),e.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),e.wysiwyg.popover.insertAdjacentElement("beforeend",xe),Le(e,m)}var Ae=Object(w.d)(n,"data-type","link-ref");Ae&&Ut(e,Ae);var Se=Object(w.d)(n,"data-type","footnotes-ref");if(Se){e.wysiwyg.popover.innerHTML="",(je=document.createElement("span")).setAttribute("aria-label",G.a[e.options.lang].footnoteRef+"<"+Object(b.g)("\u2325Enter")+">"),je.className="vditor-tooltipped vditor-tooltipped__n";var Te=document.createElement("input");je.appendChild(Te),Te.className="vditor-input",Te.setAttribute("placeholder",G.a[e.options.lang].footnoteRef+"<"+Object(b.g)("\u2325Enter")+">"),Te.style.width="120px",Te.value=Se.getAttribute("data-footnotes-label"),Te.oninput=function(){Te.value.trim()!==""&&Se.setAttribute("data-footnotes-label",Te.value)},Te.onkeydown=function(B){if(!B.isComposing)return Object(b.d)(B)||B.shiftKey||!B.altKey||B.key!=="Enter"?void Oe(e,B):(t.selectNodeContents(Se),t.collapse(!1),Object(k.h)(t),void B.preventDefault())},Me(Se,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",je),Le(e,Se)}var ke=Object(w.e)(n,"vditor-wysiwyg__block");if(ke&&ke.getAttribute("data-type").indexOf("block")>-1){if(e.wysiwyg.popover.innerHTML="",Ue(t,ke,e),ze(t,ke,e),Me(ke,e),ke.getAttribute("data-type")==="code-block"){var Ke=document.createElement("span");Ke.setAttribute("aria-label",G.a[e.options.lang].language+"<"+Object(b.g)("\u2325Enter")+">"),Ke.className="vditor-tooltipped vditor-tooltipped__n";var Ce=document.createElement("input");Ke.appendChild(Ce);var rt=ke.firstElementChild.firstElementChild;Ce.className="vditor-input",Ce.setAttribute("placeholder",G.a[e.options.lang].language+"<"+Object(b.g)("\u2325Enter")+">"),Ce.value=rt.className.indexOf("language-")>-1?rt.className.split("-")[1].split(" ")[0]:"",Ce.oninput=function(){Ce.value.trim()!==""?rt.className="language-"+Ce.value:(rt.className="",e.hint.recentLanguage=""),ke.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(ke.lastElementChild.innerHTML=ke.firstElementChild.innerHTML,ae(ke.lastElementChild,e)),he(e)},Ce.onkeydown=function(B){if(!B.isComposing&&!Oe(e,B)){if(B.key==="Escape"&&e.hint.element.style.display==="block")return e.hint.element.style.display="none",void B.preventDefault();Object(b.d)(B)||B.shiftKey||!B.altKey||B.key!=="Enter"||(t.setStart(rt.firstChild,0),t.collapse(!0),Object(k.h)(t)),e.hint.select(B,e)}},Ce.onkeyup=function(B){if(!B.isComposing&&B.key!=="Enter"&&B.key!=="ArrowUp"&&B.key!=="Escape"&&B.key!=="ArrowDown"){var de=[],qe=Ce.value.substring(0,Ce.selectionStart);c.a.CODE_LANGUAGES.forEach(function(Ne){Ne.indexOf(qe.toLowerCase())>-1&&de.push({html:Ne,value:Ne})}),e.hint.genHTML(de,qe,e),B.preventDefault()}},e.wysiwyg.popover.insertAdjacentElement("beforeend",Ke)}Le(e,ke)}else ke||e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(B){B.previousElementSibling.style.display="none"}),ke=void 0;if(y){var je;e.wysiwyg.popover.innerHTML="",(je=document.createElement("span")).setAttribute("aria-label","ID<"+Object(b.g)("\u2325Enter")+">"),je.className="vditor-tooltipped vditor-tooltipped__n";var Ie=document.createElement("input");je.appendChild(Ie),Ie.className="vditor-input",Ie.setAttribute("placeholder","ID<"+Object(b.g)("\u2325Enter")+">"),Ie.style.width="120px",Ie.value=y.getAttribute("data-id")||"",Ie.oninput=function(){y.setAttribute("data-id",Ie.value)},Ie.onkeydown=function(B){if(!B.isComposing)return Object(b.d)(B)||B.shiftKey||!B.altKey||B.key!=="Enter"?void Oe(e,B):(t.selectNodeContents(y),t.collapse(!1),Object(k.h)(t),void B.preventDefault())},Ue(t,y,e),ze(t,y,e),Me(y,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",je),Le(e,y)}if(h&&wt(e,h),!(A||r||m||ke||h||Ae||Se||y||T)){var Fe=Object(w.d)(n,"data-block","0");Fe&&Fe.parentElement.isEqualNode(e.wysiwyg.element)?(e.wysiwyg.popover.innerHTML="",Ue(t,Fe,e),ze(t,Fe,e),Me(Fe,e),Le(e,Fe)):e.wysiwyg.popover.style.display="none"}e.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(B){B.style.display="none"});var yn=Object(w.d)(t.startContainer,"data-type","backslash");yn&&(yn.querySelector("span").style.display="inline")}},200)},Le=function(e,t){var n=t,o=Object(w.f)(t,"TABLE");o&&(n=o),e.wysiwyg.popover.style.left="0",e.wysiwyg.popover.style.display="block",e.wysiwyg.popover.style.top=Math.max(-8,n.offsetTop-21-e.wysiwyg.element.scrollTop)+"px",e.wysiwyg.popover.style.left=Math.min(n.offsetLeft,e.wysiwyg.element.clientWidth-e.wysiwyg.popover.clientWidth)+"px",e.wysiwyg.popover.setAttribute("data-top",(n.offsetTop-21).toString())},Ut=function(e,t){e.wysiwyg.popover.innerHTML="";var n=function(){r.value.trim()!==""&&(t.tagName==="IMG"?t.setAttribute("alt",r.value):t.textContent=r.value),a.value.trim()!==""&&t.setAttribute("data-link-label",a.value)},o=document.createElement("span");o.setAttribute("aria-label",G.a[e.options.lang].textIsNotEmpty),o.className="vditor-tooltipped vditor-tooltipped__n";var r=document.createElement("input");o.appendChild(r),r.className="vditor-input",r.setAttribute("placeholder",G.a[e.options.lang].textIsNotEmpty),r.style.width="120px",r.value=t.getAttribute("alt")||t.textContent,r.oninput=function(){n()},r.onkeydown=function(d){Oe(e,d)||Qe(e,t,d,a)};var i=document.createElement("span");i.setAttribute("aria-label",G.a[e.options.lang].linkRef),i.className="vditor-tooltipped vditor-tooltipped__n";var a=document.createElement("input");i.appendChild(a),a.className="vditor-input",a.setAttribute("placeholder",G.a[e.options.lang].linkRef),a.value=t.getAttribute("data-link-label"),a.oninput=function(){n()},a.onkeydown=function(d){Oe(e,d)||Qe(e,t,d,r)},Me(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",o),e.wysiwyg.popover.insertAdjacentElement("beforeend",i),Le(e,t)},Ue=function(e,t,n){var o=t.previousElementSibling;if(o&&(t.parentElement.isEqualNode(n.wysiwyg.element)||t.tagName==="LI")){var r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("data-type","up"),r.setAttribute("aria-label",G.a[n.options.lang].up+"<"+Object(b.g)("\u21E7\u2318U")+">"),r.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',r.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",r.onclick=function(){e.insertNode(document.createElement("wbr")),o.insertAdjacentElement("beforebegin",t),Object(k.f)(n.wysiwyg.element,e),he(n),Pe(n),be(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",r)}},ze=function(e,t,n){var o=t.nextElementSibling;if(o&&(t.parentElement.isEqualNode(n.wysiwyg.element)||t.tagName==="LI")){var r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("data-type","down"),r.setAttribute("aria-label",G.a[n.options.lang].down+"<"+Object(b.g)("\u21E7\u2318D")+">"),r.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',r.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",r.onclick=function(){e.insertNode(document.createElement("wbr")),o.insertAdjacentElement("afterend",t),Object(k.f)(n.wysiwyg.element,e),he(n),Pe(n),be(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",r)}},Me=function(e,t){var n=document.createElement("button");n.setAttribute("type","button"),n.setAttribute("data-type","remove"),n.setAttribute("aria-label",G.a[t.options.lang].remove+"<"+Object(b.g)("\u21E7\u2318X")+">"),n.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',n.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",n.onclick=function(){var o=Object(k.b)(t);o.setStartAfter(e),Object(k.h)(o),e.remove(),he(t),Pe(t)},t.wysiwyg.popover.insertAdjacentElement("beforeend",n)},Qe=function(e,t,n,o){if(!n.isComposing){if(n.key==="Tab")return o.focus(),o.select(),void n.preventDefault();if(!Object(b.d)(n)&&!n.shiftKey&&n.altKey&&n.key==="Enter"){var r=Object(k.b)(e);t.insertAdjacentHTML("afterend",c.a.ZWSP),r.setStartAfter(t.nextSibling),r.collapse(!0),Object(k.h)(r),n.preventDefault()}}},wt=function(e,t){e.wysiwyg.popover.innerHTML="";var n=function(){r.value.trim()!==""&&(t.innerHTML=r.value),t.setAttribute("href",a.value),t.setAttribute("title",h.value)};t.querySelectorAll("[data-marker]").forEach(function(m){m.removeAttribute("data-marker")});var o=document.createElement("span");o.setAttribute("aria-label",G.a[e.options.lang].textIsNotEmpty),o.className="vditor-tooltipped vditor-tooltipped__n";var r=document.createElement("input");o.appendChild(r),r.className="vditor-input",r.setAttribute("placeholder",G.a[e.options.lang].textIsNotEmpty),r.style.width="120px",r.value=t.innerHTML||"",r.oninput=function(){n()},r.onkeydown=function(m){Oe(e,m)||Qe(e,t,m,a)};var i=document.createElement("span");i.setAttribute("aria-label",G.a[e.options.lang].link),i.className="vditor-tooltipped vditor-tooltipped__n";var a=document.createElement("input");i.appendChild(a),a.className="vditor-input",a.setAttribute("placeholder",G.a[e.options.lang].link),a.value=t.getAttribute("href")||"",a.oninput=function(){n()},a.onkeydown=function(m){Oe(e,m)||Qe(e,t,m,h)};var d=document.createElement("span");d.setAttribute("aria-label",G.a[e.options.lang].tooltipText),d.className="vditor-tooltipped vditor-tooltipped__n";var h=document.createElement("input");d.appendChild(h),h.className="vditor-input",h.setAttribute("placeholder",G.a[e.options.lang].tooltipText),h.style.width="60px",h.value=t.getAttribute("title")||"",h.oninput=function(){n()},h.onkeydown=function(m){Oe(e,m)||Qe(e,t,m,r)},Me(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",o),e.wysiwyg.popover.insertAdjacentElement("beforeend",i),e.wysiwyg.popover.insertAdjacentElement("beforeend",d),Le(e,t)},We=function(e){e.currentMode==="wysiwyg"?Pe(e):e.currentMode==="ir"&&Ye(e)},zt=function(e,t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var o=e.wysiwyg.element;o.innerHTML=e.lute.Md2VditorDOM(t),o.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(r){ae(r,e),r.previousElementSibling.setAttribute("style","display:none")}),he(e,n)},On=function(e,t,n){for(var o=e.startContainer.parentElement,r=!1,i="",a="",d=function(O){var j=Bt(O.startContainer),W=Pt(O.startContainer),q=O.startContainer.textContent,D=O.startOffset,P="",M="";return(q.substr(0,D)!==""&&q.substr(0,D)!==c.a.ZWSP||j)&&(P=""+j+q.substr(0,D)),(q.substr(D)!==""&&q.substr(D)!==c.a.ZWSP||W)&&(M=""+q.substr(D)+W),{afterHTML:M,beforeHTML:P}}(e),h=d.beforeHTML,m=d.afterHTML;o&&!r;){var y=o.tagName;if(y==="STRIKE"&&(y="S"),y==="I"&&(y="EM"),y==="B"&&(y="STRONG"),y==="S"||y==="STRONG"||y==="EM"){var T="",A="",R="";o.parentElement.getAttribute("data-block")!=="0"&&(A=Bt(o),R=Pt(o)),(h||A)&&(h=T=A+"<"+y+">"+h+"</"+y+">"),(n==="bold"&&y==="STRONG"||n==="italic"&&y==="EM"||n==="strikeThrough"&&y==="S")&&(T+=""+i+c.a.ZWSP+"<wbr>"+a,r=!0),(m||R)&&(T+=m="<"+y+">"+m+"</"+y+">"+R),o.parentElement.getAttribute("data-block")!=="0"?(o=o.parentElement).innerHTML=T:(o.outerHTML=T,o=o.parentElement),i="<"+y+">"+i,a="</"+y+">"+a}else r=!0}Object(k.f)(t.wysiwyg.element,e)},ge=function(e,t){var n,o=this;this.element=document.createElement("div"),t.className&&(n=this.element.classList).add.apply(n,t.className.split(" "));var r=t.hotkey?" <"+Object(b.g)(t.hotkey)+">":"";t.level===2&&(r=t.hotkey?" &lt;"+Object(b.g)(t.hotkey)+"&gt;":"");var i=t.tip?t.tip+r:G.a[e.options.lang][t.name]+r,a=t.name==="upload"?"div":"button";if(t.level===2)this.element.innerHTML="<"+a+' data-type="'+t.name+'">'+i+"</"+a+">";else{this.element.classList.add("vditor-toolbar__item");var d=document.createElement(a);d.setAttribute("data-type",t.name),d.className="vditor-tooltipped vditor-tooltipped__"+t.tipPosition,d.setAttribute("aria-label",i),d.innerHTML=t.icon,this.element.appendChild(d)}t.prefix&&this.element.children[0].addEventListener(Object(b.b)(),function(h){h.preventDefault(),o.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED)||(e.currentMode==="wysiwyg"?function(m,y,T){if(!(m.wysiwyg.composingLock&&T instanceof CustomEvent)){var A=!0,R=!0;m.wysiwyg.element.querySelector("wbr")&&m.wysiwyg.element.querySelector("wbr").remove();var O=Object(k.b)(m),j=y.getAttribute("data-type");if(y.classList.contains("vditor-menu--current"))if(j==="strike"&&(j="strikeThrough"),j==="quote"){var W=Object(w.f)(O.startContainer,"BLOCKQUOTE");W||(W=O.startContainer.childNodes[O.startOffset]),W&&(A=!1,y.classList.remove("vditor-menu--current"),O.insertNode(document.createElement("wbr")),W.outerHTML=W.innerHTML.trim()===""?'<p data-block="0">'+W.innerHTML+"</p>":W.innerHTML,Object(k.f)(m.wysiwyg.element,O))}else if(j==="inline-code"){var q=Object(w.f)(O.startContainer,"CODE");q||(q=O.startContainer.childNodes[O.startOffset]),q&&(q.outerHTML=q.innerHTML.replace(c.a.ZWSP,"")+"<wbr>",Object(k.f)(m.wysiwyg.element,O))}else j==="link"?(O.collapsed&&O.selectNode(O.startContainer.parentElement),document.execCommand("unlink",!1,"")):j==="check"||j==="list"||j==="ordered-list"?(ut(m,O,j),Object(k.f)(m.wysiwyg.element,O),A=!1,y.classList.remove("vditor-menu--current")):(A=!1,y.classList.remove("vditor-menu--current"),O.toString()===""?On(O,m,j):document.execCommand(j,!1,""));else{m.wysiwyg.element.childNodes.length===0&&(m.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',Object(k.f)(m.wysiwyg.element,O));var D=Object(w.c)(O.startContainer);if(j==="quote"){if(D||(D=O.startContainer.childNodes[O.startOffset]),D){A=!1,y.classList.add("vditor-menu--current"),O.insertNode(document.createElement("wbr"));var P=Object(w.f)(O.startContainer,"LI");P&&D.contains(P)?P.innerHTML='<blockquote data-block="0">'+P.innerHTML+"</blockquote>":D.outerHTML='<blockquote data-block="0">'+D.outerHTML+"</blockquote>",Object(k.f)(m.wysiwyg.element,O)}}else if(j==="check"||j==="list"||j==="ordered-list")ut(m,O,j,!1),Object(k.f)(m.wysiwyg.element,O),A=!1,C(m.toolbar.elements,["check","list","ordered-list"]),y.classList.add("vditor-menu--current");else if(j==="inline-code"){if(O.toString()==="")(M=document.createElement("code")).textContent=c.a.ZWSP,O.insertNode(M),O.setStart(M.firstChild,1),O.collapse(!0),Object(k.h)(O);else if(O.startContainer.nodeType===3){var M=document.createElement("code");O.surroundContents(M),O.insertNode(M),Object(k.h)(O)}y.classList.add("vditor-menu--current")}else if(j==="code")(M=document.createElement("div")).className="vditor-wysiwyg__block",M.setAttribute("data-type","code-block"),M.setAttribute("data-block","0"),M.setAttribute("data-marker","```"),O.toString()===""?M.innerHTML=`<pre><code><wbr>
</code></pre>`:(M.innerHTML="<pre><code>"+O.toString()+"<wbr></code></pre>",O.deleteContents()),O.insertNode(M),D&&(D.outerHTML=m.lute.SpinVditorDOM(D.outerHTML)),Object(k.f)(m.wysiwyg.element,O),m.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(ce){ae(ce,m)}),y.classList.add("vditor-menu--disabled");else if(j==="link"){if(O.toString()===""){var H=document.createElement("a");H.innerText=c.a.ZWSP,O.insertNode(H),O.setStart(H.firstChild,1),O.collapse(!0),wt(m,H);var Y=m.wysiwyg.popover.querySelector("input");Y.value="",Y.focus(),R=!1}else{(M=document.createElement("a")).setAttribute("href",""),M.innerHTML=O.toString(),O.surroundContents(M),O.insertNode(M),Object(k.h)(O),wt(m,M);var $=m.wysiwyg.popover.querySelectorAll("input");$[0].value=M.innerText,$[1].focus()}A=!1,y.classList.add("vditor-menu--current")}else if(j==="table"){var X='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(O.toString().trim()==="")D&&D.innerHTML.trim().replace(c.a.ZWSP,"")===""?D.outerHTML=X:document.execCommand("insertHTML",!1,X),O.selectNode(m.wysiwyg.element.querySelector("wbr").previousSibling),m.wysiwyg.element.querySelector("wbr").remove(),Object(k.h)(O);else{X='<table data-block="0"><thead><tr>';var ne=O.toString().split(`
`),V=ne[0].split(",").length>ne[0].split("	").length?",":"	";ne.forEach(function(ce,Ae){Ae===0?(ce.split(V).forEach(function(Se,Te){X+=Te===0?"<th>"+Se+"<wbr></th>":"<th>"+Se+"</th>"}),X+="</tr></thead>"):(X+=Ae===1?"<tbody><tr>":"<tr>",ce.split(V).forEach(function(Se){X+="<td>"+Se+"</td>"}),X+="</tr>")}),X+="</tbody></table>",document.execCommand("insertHTML",!1,X),Object(k.f)(m.wysiwyg.element,O)}A=!1,y.classList.add("vditor-menu--disabled")}else if(j==="line"){if(D){var oe=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;D.innerHTML.trim()===""?D.outerHTML=oe:D.insertAdjacentHTML("afterend",oe),Object(k.f)(m.wysiwyg.element,O)}}else if(A=!1,y.classList.add("vditor-menu--current"),j==="strike"&&(j="strikeThrough"),O.toString()!==""||j!=="bold"&&j!=="italic"&&j!=="strikeThrough")document.execCommand(j,!1,"");else{var xe="strong";j==="italic"?xe="em":j==="strikeThrough"&&(xe="s"),(M=document.createElement(xe)).textContent=c.a.ZWSP,O.insertNode(M),M.previousSibling&&M.previousSibling.textContent===c.a.ZWSP&&(M.previousSibling.textContent=""),O.setStart(M.firstChild,1),O.collapse(!0),Object(k.h)(O)}}A&&Pe(m),R&&he(m)}}(e,o.element.children[0],h):e.currentMode==="ir"?qn(e,o.element.children[0],t.prefix||"",t.suffix||""):jn(e,o.element.children[0],t.prefix||"",t.suffix||""))})},Tn=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var r in o)o.hasOwnProperty(r)&&(n[r]=o[r])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),Be=function(e,t,n){var o;if(typeof n!="string"?(U(e,["subToolbar","hint"]),n.preventDefault(),o=u(e)):o=n,e.currentMode!==t||typeof n=="string"){if(e.devtools&&e.devtools.renderEchart(e),e.options.preview.mode==="both"&&t==="sv"?e.preview.element.style.display="block":e.preview.element.style.display="none",S(e.toolbar.elements,c.a.EDIT_TOOLBARS),C(e.toolbar.elements,c.a.EDIT_TOOLBARS),x(e.toolbar.elements,["outdent","indent"]),t==="ir")L(e.toolbar.elements,["both"]),I(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="block",e.lute.SetVditorIR(!0),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!1),e.currentMode="ir",e.ir.element.innerHTML=e.lute.Md2VditorIRDOM(o),Re(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),He(e),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(i){ae(i,e)}),e.ir.element.querySelectorAll(".vditor-toc").forEach(function(i){Object(De.a)(i,{cdn:e.options.cdn,math:e.options.preview.math})});else if(t==="wysiwyg")L(e.toolbar.elements,["both"]),I(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="block",e.ir.element.parentElement.style.display="none",e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!0),e.lute.SetVditorSV(!1),e.currentMode="wysiwyg",He(e),zt(e,o,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),e.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(i){Object(De.a)(i,{cdn:e.options.cdn,math:e.options.preview.math})}),e.wysiwyg.popover.style.display="none";else if(t==="sv"){I(e.toolbar.elements,["both"]),L(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="none",(e.options.preview.mode==="both"||e.options.preview.mode==="editor")&&(e.sv.element.style.display="block"),e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!0),e.currentMode="sv";var r=Kt(o,e);r==="<div data-block='0'></div>"&&(r=""),e.sv.element.innerHTML=r,ye(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),He(e)}e.undo.resetIcon(e),typeof n!="string"&&(e[e.currentMode].element.focus(),We(e)),z(e),lt(e),e.toolbar.elements["edit-mode"]&&(e.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(i){i.classList.remove("vditor-menu--current")}),e.toolbar.elements["edit-mode"].querySelector('button[data-mode="'+e.currentMode+'"]').classList.add("vditor-menu--current")),e.outline.toggle(e,e.currentMode!=="sv"&&e.options.outline.enable)}},Ln=function(e){function t(n,o){var r=e.call(this,n,o)||this,i=document.createElement("div");return i.className="vditor-hint"+(o.level===2?"":" vditor-panel--arrow"),i.innerHTML='<button data-mode="wysiwyg">'+G.a[n.options.lang].wysiwyg+" &lt;"+Object(b.g)("\u2325\u23187")+`></button>
<button data-mode="ir">`+G.a[n.options.lang].instantRendering+" &lt;"+Object(b.g)("\u2325\u23188")+`></button>
<button data-mode="sv">`+G.a[n.options.lang].splitView+" &lt;"+Object(b.g)("\u2325\u23189")+"></button>",r.element.appendChild(i),r._bindEvent(n,i,o),r}return Tn(t,e),t.prototype._bindEvent=function(n,o,r){var i=this.element.children[0];Z(n,o,i,r.level),o.children.item(0).addEventListener(Object(b.b)(),function(a){Be(n,"wysiwyg",a),a.preventDefault(),a.stopPropagation()}),o.children.item(1).addEventListener(Object(b.b)(),function(a){Be(n,"ir",a),a.preventDefault(),a.stopPropagation()}),o.children.item(2).addEventListener(Object(b.b)(),function(a){Be(n,"sv",a),a.preventDefault(),a.stopPropagation()})},t}(ge),et=function(e,t){return Object(k.e)(e,t)?getSelection().toString():""},kt=function(e,t){t.addEventListener("focus",function(){e.options.focus&&e.options.focus(u(e)),U(e,["subToolbar"])})},Wt=function(e,t){t.addEventListener("dblclick",function(n){n.target.tagName==="IMG"&&Object(me.a)(n.target,e.options.lang,e.options.theme)})},Et=function(e,t){t.addEventListener("blur",function(n){if(e.currentMode==="ir"){var o=e.ir.element.querySelector(".vditor-ir__node--expand");o&&o.classList.remove("vditor-ir__node--expand")}else e.currentMode!=="wysiwyg"||e.wysiwyg.selectPopover.contains(n.relatedTarget)||e.wysiwyg.hideComment();e[e.currentMode].range=Object(k.b)(e),e.options.blur&&e.options.blur(u(e))})},xt=function(e,t){t.addEventListener("dragstart",function(n){n.dataTransfer.setData(c.a.DROP_EDITOR,c.a.DROP_EDITOR)}),t.addEventListener("drop",function(n){n.dataTransfer.getData(c.a.DROP_EDITOR)?ie(e):(n.dataTransfer.types[0]==="Files"||n.dataTransfer.types.includes("text/html"))&&vt(e,n,{pasteCode:function(o){document.execCommand("insertHTML",!1,o)}})})},_t=function(e,t,n){t.addEventListener("copy",function(o){return n(o,e)})},St=function(e,t,n){t.addEventListener("cut",function(o){n(o,e),e.options.comment.enable&&e.currentMode==="wysiwyg"&&e.wysiwyg.getComments(e),document.execCommand("delete")})},be=function(e){if(e.currentMode==="wysiwyg"&&e.options.comment.enable&&e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)),e.options.typewriterMode){var t=e[e.currentMode].element,n=Object(k.a)(t).top;typeof e.options.height!="string"||e.element.classList.contains("vditor--fullscreen")||window.scrollTo(window.scrollX,n+e.element.offsetTop+e.toolbar.element.offsetHeight-window.innerHeight/2+10),(typeof e.options.height=="number"||e.element.classList.contains("vditor--fullscreen"))&&(t.scrollTop=n+t.scrollTop-t.clientHeight/2+10)}},Ct=function(e,t){t.addEventListener("keydown",function(n){if(!(e.options.hint.extend.length>1||e.toolbar.elements.emoji)||!e.hint.select(n,e)){if(e.options.comment.enable&&e.currentMode==="wysiwyg"&&(n.key==="Backspace"||J("\u2318X",n))&&e.wysiwyg.getComments(e),e.currentMode==="sv"){if(function(r,i){var a,d,h,m,y;if(r.sv.composingLock=i.isComposing,i.isComposing||(i.key.indexOf("Arrow")!==-1||i.key==="Meta"||i.key==="Control"||i.key==="Alt"||i.key==="Shift"||i.key==="CapsLock"||i.key==="Escape"||/^F\d{1,2}$/.test(i.key)||r.undo.recordFirstPosition(r,i),i.key!=="Enter"&&i.key!=="Tab"&&i.key!=="Backspace"&&i.key.indexOf("Arrow")===-1&&!Object(b.d)(i)&&i.key!=="Escape"))return!1;var T=Object(k.b)(r),A=T.startContainer;T.startContainer.nodeType!==3&&T.startContainer.tagName==="DIV"&&(A=T.startContainer.childNodes[T.startOffset-1]);var R=Object(w.d)(A,"data-type","text"),O=Object(w.d)(A,"data-type","blockquote-marker");if(!O&&T.startOffset===0&&R&&R.previousElementSibling&&R.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(O=R.previousElementSibling),O&&i.key==="Enter"&&!Object(b.d)(i)&&!i.altKey&&O.nextElementSibling.textContent.trim()===""&&Object(k.c)(O,r.sv.element,T).start===O.textContent.length)return((a=O.previousElementSibling)===null||a===void 0?void 0:a.getAttribute("data-type"))==="padding"&&O.previousElementSibling.setAttribute("data-action","enter-remove"),O.remove(),ye(r),i.preventDefault(),!0;var j=Object(w.d)(A,"data-type","li-marker"),W=Object(w.d)(A,"data-type","task-marker"),q=j;if(q||W&&W.nextElementSibling.getAttribute("data-type")!=="task-marker"&&(q=W),q||T.startOffset!==0||!R||!R.previousElementSibling||R.previousElementSibling.getAttribute("data-type")!=="li-marker"&&R.previousElementSibling.getAttribute("data-type")!=="task-marker"||(q=R.previousElementSibling),q){var D=Object(k.c)(q,r.sv.element,T).start,P=q.getAttribute("data-type")==="task-marker",M=q;if(P&&(M=q.previousElementSibling.previousElementSibling.previousElementSibling),D===q.textContent.length){if(i.key==="Enter"&&!Object(b.d)(i)&&!i.altKey&&!i.shiftKey&&q.nextElementSibling.textContent.trim()==="")return((d=M.previousElementSibling)===null||d===void 0?void 0:d.getAttribute("data-type"))==="padding"?(M.previousElementSibling.remove(),ee(r)):(P&&(M.remove(),q.previousElementSibling.previousElementSibling.remove(),q.previousElementSibling.remove()),q.nextElementSibling.remove(),q.remove(),ye(r)),i.preventDefault(),!0;if(i.key==="Tab")return M.insertAdjacentHTML("beforebegin",'<span data-type="padding">'+M.textContent.replace(/\S/g," ")+"</span>"),/^\d/.test(M.textContent)&&(M.textContent=M.textContent.replace(/^\d{1,}/,"1"),T.selectNodeContents(q.firstChild),T.collapse(!1)),ee(r),i.preventDefault(),!0}}if(At(r,T,i))return!0;var H=Object(w.d)(A,"data-block","0"),Y=Object(Q.b)(A,"SPAN");if(i.key==="Enter"&&!Object(b.d)(i)&&!i.altKey&&!i.shiftKey&&H){var $=!1,X=H.textContent.match(/^\n+/);Object(k.c)(H,r.sv.element).start<=(X?X[0].length:0)&&($=!0);var ne=`
`;if(Y){if(((h=Y.previousElementSibling)===null||h===void 0?void 0:h.getAttribute("data-action"))==="enter-remove")return Y.previousElementSibling.remove(),ye(r),i.preventDefault(),!0;ne+=Mn(Y)}return T.insertNode(document.createTextNode(ne)),T.collapse(!1),H&&H.textContent.trim()!==""&&!$?ee(r):ye(r),i.preventDefault(),!0}if(i.key==="Backspace"&&!Object(b.d)(i)&&!i.altKey&&!i.shiftKey){if(Y&&((m=Y.previousElementSibling)===null||m===void 0?void 0:m.getAttribute("data-type"))==="newline"&&Object(k.c)(Y,r.sv.element,T).start===1&&Y.getAttribute("data-type").indexOf("code-block-")===-1)return T.setStart(Y,0),T.extractContents(),Y.textContent.trim()!==""?ee(r):ye(r),i.preventDefault(),!0;if(H&&Object(k.c)(H,r.sv.element,T).start===0&&H.previousElementSibling){T.extractContents();var V=H.previousElementSibling.lastElementChild;return V.getAttribute("data-type")==="newline"&&(V.remove(),V=H.previousElementSibling.lastElementChild),V.getAttribute("data-type")!=="newline"&&(V.insertAdjacentHTML("afterend",H.innerHTML),H.remove()),H.textContent.trim()===""||((y=H.previousElementSibling)===null||y===void 0?void 0:y.querySelector('[data-type="code-block-open-marker"]'))?(V.getAttribute("data-type")!=="newline"&&(T.selectNodeContents(V.lastChild),T.collapse(!1)),ye(r)):ee(r),i.preventDefault(),!0}}return!1}(e,n))return}else if(e.currentMode==="wysiwyg"){if(function(r,i){if(r.wysiwyg.composingLock=i.isComposing,i.isComposing)return!1;i.key.indexOf("Arrow")!==-1||i.key==="Meta"||i.key==="Control"||i.key==="Alt"||i.key==="Shift"||i.key==="CapsLock"||i.key==="Escape"||/^F\d{1,2}$/.test(i.key)||r.undo.recordFirstPosition(r,i);var a=Object(k.b)(r),d=a.startContainer;if(!Xt(i,r,d)||(Jt(a,r,i),un(a),i.key!=="Enter"&&i.key!=="Tab"&&i.key!=="Backspace"&&i.key.indexOf("Arrow")===-1&&!Object(b.d)(i)&&i.key!=="Escape"&&i.key!=="Delete"))return!1;var h=Object(w.c)(d),m=Object(w.f)(d,"P");if(tn(i,r,m,a)||en(a,r,m,i)||ln(r,i,a))return!0;var y=Object(w.e)(d,"vditor-wysiwyg__block");if(y){if(i.key==="Escape"&&y.children.length===2)return r.wysiwyg.popover.style.display="none",y.firstElementChild.style.display="none",r.wysiwyg.element.blur(),i.preventDefault(),!0;if(!Object(b.d)(i)&&!i.shiftKey&&i.altKey&&i.key==="Enter"&&y.getAttribute("data-type")==="code-block"){var T=r.wysiwyg.popover.querySelector(".vditor-input");return T.focus(),T.select(),i.preventDefault(),!0}if(y.getAttribute("data-block")==="0"&&(sn(r,i,y.firstElementChild,a)||tt(r,i,a,y.firstElementChild,y)||y.getAttribute("data-type")!=="yaml-front-matter"&&Ve(r,i,a,y.firstElementChild,y)))return!0}if(cn(r,a,i,m))return!0;var A=Object(w.h)(d,"BLOCKQUOTE");if(A&&!i.shiftKey&&i.altKey&&i.key==="Enter"){Object(b.d)(i)?a.setStartBefore(A):a.setStartAfter(A),Object(k.h)(a);var R=document.createElement("p");return R.setAttribute("data-block","0"),R.innerHTML=`
`,a.insertNode(R),a.collapse(!0),Object(k.h)(a),he(r),be(r),i.preventDefault(),!0}var O,j=Object(Q.a)(d);if(j){if(j.tagName==="H6"&&d.textContent.length===a.startOffset&&!Object(b.d)(i)&&!i.shiftKey&&!i.altKey&&i.key==="Enter"){var W=document.createElement("p");return W.textContent=`
`,W.setAttribute("data-block","0"),d.parentElement.insertAdjacentElement("afterend",W),a.setStart(W,0),Object(k.h)(a),he(r),be(r),i.preventDefault(),!0}var q;if(J("\u2318=",i))return(q=parseInt(j.tagName.substr(1),10)-1)>0&&(st(r,"h"+q),he(r)),i.preventDefault(),!0;if(J("\u2318-",i))return(q=parseInt(j.tagName.substr(1),10)+1)<7&&(st(r,"h"+q),he(r)),i.preventDefault(),!0;i.key!=="Backspace"||Object(b.d)(i)||i.shiftKey||i.altKey||j.textContent.length!==1||yt(r)}if(dn(r,a,i))return!0;if(i.altKey&&i.key==="Enter"&&!Object(b.d)(i)&&!i.shiftKey){var D=Object(w.f)(d,"A"),P=Object(w.d)(d,"data-type","link-ref"),M=Object(w.d)(d,"data-type","footnotes-ref");if(D||P||M||j&&j.tagName.length===2){var H=r.wysiwyg.popover.querySelector("input");H.focus(),H.select()}}if(Oe(r,i))return!0;if(J("\u21E7\u2318U",i)&&(O=r.wysiwyg.popover.querySelector('[data-type="up"]'))||J("\u21E7\u2318D",i)&&(O=r.wysiwyg.popover.querySelector('[data-type="down"]')))return O.click(),i.preventDefault(),!0;if(At(r,a,i))return!0;if(!Object(b.d)(i)&&i.shiftKey&&!i.altKey&&i.key==="Enter"&&d.parentElement.tagName!=="LI"&&d.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(d.parentElement.tagName)?a.insertNode(document.createTextNode(`
`+c.a.ZWSP)):a.insertNode(document.createTextNode(`
`)),a.collapse(!1),Object(k.h)(a),he(r),be(r),i.preventDefault(),!0;if(i.key==="Backspace"&&!Object(b.d)(i)&&!i.shiftKey&&!i.altKey&&a.toString()===""){if(pn(r,a,i,m))return!0;if(h){if(h.previousElementSibling&&h.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&h.previousElementSibling.getAttribute("data-block")==="0"&&h.tagName!=="UL"&&h.tagName!=="OL"){var Y=Object(k.c)(h,r.wysiwyg.element,a).start;if(Y===0&&a.startOffset===0||Y===1&&h.innerText.startsWith(c.a.ZWSP))return $e(h.previousElementSibling.lastElementChild,r,!1),h.innerHTML.trim().replace(c.a.ZWSP,"")===""&&(h.remove(),he(r)),i.preventDefault(),!0}var $=a.startOffset;if(a.toString()===""&&d.nodeType===3&&d.textContent.charAt($-2)===`
`&&d.textContent.charAt($-1)!==c.a.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(d.parentElement.tagName))return d.textContent=d.textContent.substring(0,$-1)+c.a.ZWSP,a.setStart(d,$),a.collapse(!0),he(r),i.preventDefault(),!0;d.textContent===c.a.ZWSP&&a.startOffset===1&&!d.previousSibling&&function(ne){for(var V=ne.startContainer.nextSibling;V&&V.textContent==="";)V=V.nextSibling;return!(!V||V.nodeType===3||V.tagName!=="CODE"&&V.getAttribute("data-type")!=="math-inline"&&V.getAttribute("data-type")!=="html-entity"&&V.getAttribute("data-type")!=="html-inline")}(a)&&(d.textContent=""),h.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(ne){ne.firstElementChild.style.display="inline",ne.lastElementChild.style.display="none"}),h.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(ne){ne.firstElementChild.style.display="inline",ne.lastElementChild.style.display="none"})}}if(Object(b.e)()&&a.startOffset===1&&d.textContent.indexOf(c.a.ZWSP)>-1&&d.previousSibling&&d.previousSibling.nodeType!==3&&d.previousSibling.tagName==="CODE"&&(i.key==="Backspace"||i.key==="ArrowLeft"))return a.selectNodeContents(d.previousSibling),a.collapse(!1),i.preventDefault(),!0;if(fn(i,h,a))return i.preventDefault(),!0;if(Yt(a,i.key),i.key==="ArrowDown"){var X=d.nextSibling;X&&X.nodeType!==3&&X.getAttribute("data-type")==="math-inline"&&a.setStartAfter(X)}return!(!h||!_e(h,r,i,a))&&(i.preventDefault(),!0)}(e,n))return}else if(e.currentMode==="ir"&&function(r,i){if(r.ir.composingLock=i.isComposing,i.isComposing)return!1;i.key.indexOf("Arrow")!==-1||i.key==="Meta"||i.key==="Control"||i.key==="Alt"||i.key==="Shift"||i.key==="CapsLock"||i.key==="Escape"||/^F\d{1,2}$/.test(i.key)||r.undo.recordFirstPosition(r,i);var a=Object(k.b)(r),d=a.startContainer;if(!Xt(i,r,d)||(Jt(a,r,i),un(a),i.key!=="Enter"&&i.key!=="Tab"&&i.key!=="Backspace"&&i.key.indexOf("Arrow")===-1&&!Object(b.d)(i)&&i.key!=="Escape"&&i.key!=="Delete"))return!1;var h=Object(w.d)(d,"data-newline","1");if(!Object(b.d)(i)&&!i.altKey&&!i.shiftKey&&i.key==="Enter"&&h&&a.startOffset<h.textContent.length){var m=h.previousElementSibling;m&&(a.insertNode(document.createTextNode(m.textContent)),a.collapse(!1));var y=h.nextSibling;y&&(a.insertNode(document.createTextNode(y.textContent)),a.collapse(!0))}var T=Object(w.f)(d,"P");if(tn(i,r,T,a)||en(a,r,T,i)||cn(r,a,i,T))return!0;var A=Object(w.e)(d,"vditor-ir__marker--pre");if(A&&A.tagName==="PRE"){var R=A.firstChild;if(sn(r,i,A,a)||(R.getAttribute("data-type")==="math-block"||R.getAttribute("data-type")==="html-block")&&Ve(r,i,a,R,A.parentElement)||tt(r,i,a,R,A.parentElement))return!0}var O=Object(w.d)(d,"data-type","code-block-info");if(O){if(i.key==="Enter"||i.key==="Tab")return a.selectNodeContents(O.nextElementSibling.firstChild),a.collapse(!0),i.preventDefault(),U(r,["hint"]),!0;if(i.key==="Backspace"){var j=Object(k.c)(O,r.ir.element).start;j===1&&a.setStart(d,0),j===2&&(r.hint.recentLanguage="")}if(Ve(r,i,a,O,O.parentElement))return U(r,["hint"]),!0}var W=Object(w.f)(d,"TD")||Object(w.f)(d,"TH");if(i.key.indexOf("Arrow")>-1&&W){var q=Pn(W);if(q&&Ve(r,i,a,W,q))return!0;var D=Bn(W);if(D&&tt(r,i,a,W,D))return!0}if(ln(r,i,a)||dn(r,a,i)||At(r,a,i))return!0;var P=Object(Q.a)(d);if(P){var M;if(J("\u2318=",i))return(M=P.querySelector(".vditor-ir__marker--heading"))&&M.textContent.trim().length>1&&nt(r,M.textContent.substr(1)),i.preventDefault(),!0;if(J("\u2318-",i))return(M=P.querySelector(".vditor-ir__marker--heading"))&&M.textContent.trim().length<6&&nt(r,M.textContent.trim()+"# "),i.preventDefault(),!0}var H=Object(w.c)(d);if(i.key==="Backspace"&&!Object(b.d)(i)&&!i.shiftKey&&!i.altKey&&a.toString()===""){if(pn(r,a,i,T))return!0;if(H&&H.previousElementSibling&&H.tagName!=="UL"&&H.tagName!=="OL"&&(H.previousElementSibling.getAttribute("data-type")==="code-block"||H.previousElementSibling.getAttribute("data-type")==="math-block")){var Y=Object(k.c)(H,r.ir.element,a).start;if(Y===0||Y===1&&H.innerText.startsWith(c.a.ZWSP))return a.selectNodeContents(H.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),a.collapse(!1),ve(a,r),H.textContent.trim().replace(c.a.ZWSP,"")===""&&(H.remove(),Re(r)),i.preventDefault(),!0}if(P){var $=P.firstElementChild.textContent.length;Object(k.c)(P,r.ir.element).start===$&&(a.setStart(P.firstElementChild.firstChild,$-1),a.collapse(!0),Object(k.h)(a))}}return!(i.key!=="ArrowUp"&&i.key!=="ArrowDown"||!H||(H.querySelectorAll(".vditor-ir__node").forEach(function(X){X.contains(d)||X.classList.add("vditor-ir__node--hidden")}),!fn(i,H,a)))||(Yt(a,i.key),!(!H||!_e(H,r,i,a))&&(i.preventDefault(),!0))}(e,n))return;if(e.options.ctrlEnter&&J("\u2318Enter",n))return e.options.ctrlEnter(u(e)),void n.preventDefault();if(J("\u2318Z",n)&&!e.toolbar.elements.undo)return e.undo.undo(e),void n.preventDefault();if(J("\u2318Y",n)&&!e.toolbar.elements.redo)return e.undo.redo(e),void n.preventDefault();if(n.key==="Escape")return e.hint.element.style.display==="block"?e.hint.element.style.display="none":e.options.esc&&!n.isComposing&&e.options.esc(u(e)),void n.preventDefault();if(Object(b.d)(n)&&n.altKey&&!n.shiftKey&&/^Digit[1-6]$/.test(n.code)){if(e.currentMode==="wysiwyg"){var o=n.code.replace("Digit","H");Object(w.f)(getSelection().getRangeAt(0).startContainer,o)?yt(e):st(e,o),he(e)}else e.currentMode==="sv"?Ft(e,"#".repeat(parseInt(n.code.replace("Digit",""),10))+" "):e.currentMode==="ir"&&nt(e,"#".repeat(parseInt(n.code.replace("Digit",""),10))+" ");return n.preventDefault(),!0}if(Object(b.d)(n)&&n.altKey&&!n.shiftKey&&/^Digit[7-9]$/.test(n.code))return n.code==="Digit7"?Be(e,"wysiwyg",n):n.code==="Digit8"?Be(e,"ir",n):n.code==="Digit9"&&Be(e,"sv",n),!0;e.options.toolbar.find(function(r){return!r.hotkey||r.toolbar?!!r.toolbar&&!!r.toolbar.find(function(i){return!!i.hotkey&&(J(i.hotkey,n)?(e.toolbar.elements[i.name].children[0].dispatchEvent(new CustomEvent(Object(b.b)())),n.preventDefault(),!0):void 0)}):J(r.hotkey,n)?(e.toolbar.elements[r.name].children[0].dispatchEvent(new CustomEvent(Object(b.b)())),n.preventDefault(),!0):void 0})}})},Ot=function(e,t){t.addEventListener("selectstart",function(n){t.onmouseup=function(){setTimeout(function(){var o=et(e[e.currentMode].element);o.trim()?(e.currentMode==="wysiwyg"&&e.options.comment.enable&&(Object(w.d)(n.target,"data-type","footnotes-block")||Object(w.d)(n.target,"data-type","link-ref-defs-block")?e.wysiwyg.hideComment():e.wysiwyg.showComment()),e.options.select&&e.options.select(o)):e.currentMode==="wysiwyg"&&e.options.comment.enable&&e.wysiwyg.hideComment()})}})},Vt=function(e,t){var n=Object(k.b)(e);n.extractContents(),n.insertNode(document.createTextNode(Lute.Caret)),n.insertNode(document.createTextNode(t));var o=Object(w.d)(n.startContainer,"data-block","0");o||(o=e.sv.element);var r="<div data-block='0'>"+e.lute.Md2VditorSVDOM(o.textContent).replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>";o.isEqualNode(e.sv.element)?o.innerHTML=r:o.outerHTML=r,Object(k.f)(e.sv.element,n),be(e)},ct=function(e,t,n){n===void 0&&(n=!0);var o=e;for(o.nodeType===3&&(o=o.parentElement);o;){if(o.getAttribute("data-type")===t)return o;o=n?o.previousElementSibling:o.nextElementSibling}return!1},Kt=function(e,t){return te("SpinVditorSVDOM",e,"argument",t.options.debugger),e="<div data-block='0'>"+t.lute.SpinVditorSVDOM(e).replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",te("SpinVditorSVDOM",e,"result",t.options.debugger),e},Mn=function(e){var t=e.getAttribute("data-type"),n=e.previousElementSibling,o=t&&t!=="text"&&t!=="table"&&t!=="heading-marker"&&t!=="newline"&&t!=="yaml-front-matter-open-marker"&&t!=="yaml-front-matter-close-marker"&&t!=="code-block-info"&&t!=="code-block-close-marker"&&t!=="code-block-open-marker"?e.textContent:"",r=!1;for(t==="newline"&&(r=!0);n&&!r;){var i=n.getAttribute("data-type");if(i==="li-marker"||i==="blockquote-marker"||i==="task-marker"||i==="padding"){var a=n.textContent;if(i!=="li-marker"||t!=="code-block-open-marker"&&t!=="code-block-info")if(t==="code-block-close-marker"&&n.nextElementSibling.isSameNode(e)){var d=ct(e,"code-block-open-marker");d&&d.previousElementSibling&&(n=d.previousElementSibling,o=a+o)}else o=a+o;else o=a.replace(/\S/g," ")+o}else i==="newline"&&(r=!0);n=n.previousElementSibling}return o},ye=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),e.preview.render(e);var n=u(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&Object(b.a)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),clearTimeout(e.sv.processTimeoutId),e.sv.processTimeoutId=window.setTimeout(function(){t.enableAddUndoStack&&!e.sv.composingLock&&e.undo.addToUndoStack(e)},e.options.undoDelay)},Ft=function(e,t){var n=Object(k.b)(e),o=Object(Q.b)(n.startContainer,"SPAN");o&&o.textContent.trim()!==""&&(t=`
`+t),n.collapse(!0),document.execCommand("insertHTML",!1,t)},jn=function(e,t,n,o){var r=Object(k.b)(e),i=t.getAttribute("data-type");e.sv.element.childNodes.length===0&&(e.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,Object(k.f)(e.sv.element,r));var a=Object(w.c)(r.startContainer),d=Object(Q.b)(r.startContainer,"SPAN");if(a){if(i==="link"){var h=void 0;return h=r.toString()===""?""+n+Lute.Caret+o:""+n+r.toString()+o.replace(")",Lute.Caret+")"),void document.execCommand("insertHTML",!1,h)}if(i==="italic"||i==="bold"||i==="strike"||i==="inline-code"||i==="code"||i==="table"||i==="line")return h=void 0,h=r.toString()===""?""+n+Lute.Caret+(i==="code"?"":o):""+n+r.toString()+Lute.Caret+(i==="code"?"":o),i==="table"||i==="code"&&d&&d.textContent!==""?h=`

`+h:i==="line"&&(h=`

`+n+`
`+Lute.Caret),void document.execCommand("insertHTML",!1,h);if((i==="check"||i==="list"||i==="ordered-list"||i==="quote")&&d){var m="* ";i==="check"?m="* [ ] ":i==="ordered-list"?m="1. ":i==="quote"&&(m="> ");var y=ct(d,"newline");return y?y.insertAdjacentText("afterend",m):a.insertAdjacentText("afterbegin",m),void ee(e)}Object(k.f)(e.sv.element,r),ye(e)}},Zt=function(e){switch(e.currentMode){case"ir":return e.ir.element;case"wysiwyg":return e.wysiwyg.element;case"sv":return e.sv.element}},Gt=function(e,t){e.options.upload.setHeaders&&(e.options.upload.headers=e.options.upload.setHeaders()),e.options.upload.headers&&Object.keys(e.options.upload.headers).forEach(function(n){t.setRequestHeader(n,e.options.upload.headers[n])})},An=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(m){try{h(o.next(m))}catch(y){i(y)}}function d(m){try{h(o.throw(m))}catch(y){i(y)}}function h(m){var y;m.done?r(m.value):(y=m.value,y instanceof n?y:new n(function(T){T(y)})).then(a,d)}h((o=o.apply(e,t||[])).next())})},Hn=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function d(h){return function(m){return function(y){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&y[0]?o.return:y[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,y[1])).done)return r;switch(o=0,r&&(y=[2&y[0],r.value]),y[0]){case 0:case 1:r=y;break;case 4:return a.label++,{value:y[1],done:!1};case 5:a.label++,o=y[1],y=[0];continue;case 7:y=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!((r=r.length>0&&r[r.length-1])||y[0]!==6&&y[0]!==2)){a=0;continue}if(y[0]===3&&(!r||y[1]>r[0]&&y[1]<r[3])){a.label=y[1];break}if(y[0]===6&&a.label<r[1]){a.label=r[1],r=y;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(y);break}r[2]&&a.ops.pop(),a.trys.pop();continue}y=t.call(e,a)}catch(T){y=[6,T],o=0}finally{n=r=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([h,m])}}},Nn=function(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"},Tt=function(e,t,n){return An(void 0,void 0,void 0,function(){var o,r,i,a,d,h,m,y,T,A,R,O,j,W;return Hn(this,function(q){switch(q.label){case 0:for(o=[],r=e.options.upload.multiple===!0?t.length:1,O=0;O<r;O++)(i=t[O])instanceof DataTransferItem&&(i=i.getAsFile()),o.push(i);return e.options.upload.handler?typeof(a=e.options.upload.handler(o))=="string"?(e.tip.show(a),[2]):[2]:e.options.upload.url&&e.upload?e.options.upload.file?[4,e.options.upload.file(o)]:[3,2]:(n&&(n.value=""),e.tip.show("please config: options.upload.url"),[2]);case 1:o=q.sent(),q.label=2;case 2:if(e.options.upload.validate&&typeof(a=e.options.upload.validate(o))=="string")return e.tip.show(a),[2];if(d=Zt(e),e.upload.range=Object(k.b)(e),(h=function(D,P){D.tip.hide();for(var M=[],H="",Y="",$=D.options.lang,X=function(oe,xe){var ce=P[xe],Ae=!0;ce.name||(H+="<li>"+G.a[$].nameEmpty+"</li>",Ae=!1),ce.size>D.options.upload.max&&(H+="<li>"+ce.name+" "+G.a[$].over+" "+D.options.upload.max/1024/1024+"M</li>",Ae=!1);var Se=ce.name.lastIndexOf("."),Te=ce.name.substr(Se),ke=D.options.upload.filename(ce.name.substr(0,Se))+Te;D.options.upload.accept&&(D.options.upload.accept.split(",").some(function(Ke){var Ce=Ke.trim();if(Ce.indexOf(".")===0){if(Te.toLowerCase()===Ce.toLowerCase())return!0}else if(ce.type.split("/")[0]===Ce.split("/")[0])return!0;return!1})||(H+="<li>"+ce.name+" "+G.a[$].fileTypeError+"</li>",Ae=!1)),Ae&&(M.push(ce),Y+="<li>"+ke+" "+G.a[$].uploading+"</li>")},ne=P.length,V=0;V<ne;V++)X(0,V);return D.tip.show("<ul>"+H+Y+"</ul>"),M}(e,o)).length===0)return n&&(n.value=""),[2];for(m=new FormData,y=e.options.upload.extraData,T=0,A=Object.keys(y);T<A.length;T++)R=A[T],m.append(R,y[R]);for(O=0,j=h.length;O<j;O++)m.append(e.options.upload.fieldName,h[O]);return(W=new XMLHttpRequest).open("POST",e.options.upload.url),e.options.upload.token&&W.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(W.withCredentials=!0),Gt(e,W),e.upload.isUploading=!0,d.setAttribute("contenteditable","false"),W.onreadystatechange=function(){if(W.readyState===XMLHttpRequest.DONE){if(e.upload.isUploading=!1,d.setAttribute("contenteditable","true"),W.status>=200&&W.status<300)if(e.options.upload.success)e.options.upload.success(d,W.responseText);else{var D=W.responseText;e.options.upload.format&&(D=e.options.upload.format(t,W.responseText)),function(P,M){Zt(M).focus();var H=JSON.parse(P),Y="";H.code===1&&(Y=""+H.msg),H.data.errFiles&&H.data.errFiles.length>0&&(Y="<ul><li>"+Y+"</li>",H.data.errFiles.forEach(function(X){var ne=X.lastIndexOf("."),V=M.options.upload.filename(X.substr(0,ne))+X.substr(ne);Y+="<li>"+V+" "+G.a[M.options.lang].uploadError+"</li>"}),Y+="</ul>"),Y?M.tip.show(Y):M.tip.hide();var $="";Object.keys(H.data.succMap).forEach(function(X){var ne=H.data.succMap[X],V=X.lastIndexOf("."),oe=X.substr(V),xe=M.options.upload.filename(X.substr(0,V))+oe;(oe=oe.toLowerCase()).indexOf(".wav")===0||oe.indexOf(".mp3")===0||oe.indexOf(".ogg")===0?M.currentMode==="wysiwyg"?$+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`+ne+'"&gt;&lt;/audio&gt;</code></pre>':M.currentMode==="ir"?$+='<audio controls="controls" src="'+ne+`"></audio>
`:$+="["+xe+"]("+ne+`)
`:oe.indexOf(".apng")===0||oe.indexOf(".bmp")===0||oe.indexOf(".gif")===0||oe.indexOf(".ico")===0||oe.indexOf(".cur")===0||oe.indexOf(".jpg")===0||oe.indexOf(".jpeg")===0||oe.indexOf(".jfif")===0||oe.indexOf(".pjp")===0||oe.indexOf(".pjpeg")===0||oe.indexOf(".png")===0||oe.indexOf(".svg")===0||oe.indexOf(".webp")===0?M.currentMode==="wysiwyg"?$+='<img alt="'+xe+'" src="'+ne+'">':$+="!["+xe+"]("+ne+`)
`:M.currentMode==="wysiwyg"?$+='<a href="'+ne+'">'+xe+"</a>":$+="["+xe+"]("+ne+`)
`}),Object(k.h)(M.upload.range),document.execCommand("insertHTML",!1,$),M.upload.range=getSelection().getRangeAt(0).cloneRange()}(D,e)}else e.options.upload.error?e.options.upload.error(W.responseText):e.tip.show(W.responseText);n&&(n.value=""),e.upload.element.style.display="none"}},W.upload.onprogress=function(D){if(D.lengthComputable){var P=D.loaded/D.total*100;e.upload.element.style.display="block",e.upload.element.style.width=P+"%"}},W.send(m),[2]}})})},dt=function(e,t,n){var o,r=Object(w.c)(t.startContainer);if(r||(r=e.wysiwyg.element),n&&n.inputType!=="formatItalic"&&n.inputType!=="deleteByDrag"&&n.inputType!=="insertFromDrop"&&n.inputType!=="formatBold"&&n.inputType!=="formatRemove"&&n.inputType!=="formatStrikeThrough"&&n.inputType!=="insertUnorderedList"&&n.inputType!=="insertOrderedList"&&n.inputType!=="formatOutdent"&&n.inputType!=="formatIndent"&&n.inputType!==""||!n){var i=function(P){for(var M=P.previousSibling;M;){if(M.nodeType!==3&&M.tagName==="A"&&!M.previousSibling&&M.innerHTML.replace(c.a.ZWSP,"")===""&&M.nextSibling)return M;M=M.previousSibling}return!1}(t.startContainer);i&&i.remove(),e.wysiwyg.element.querySelectorAll("wbr").forEach(function(P){P.remove()}),t.insertNode(document.createElement("wbr")),r.querySelectorAll("[style]").forEach(function(P){P.removeAttribute("style")}),r.querySelectorAll(".vditor-comment").forEach(function(P){P.textContent.trim()===""&&(P.classList.remove("vditor-comment","vditor-comment--focus"),P.removeAttribute("data-cmtids"))}),(o=r.previousElementSibling)===null||o===void 0||o.querySelectorAll(".vditor-comment").forEach(function(P){P.textContent.trim()===""&&(P.classList.remove("vditor-comment","vditor-comment--focus"),P.removeAttribute("data-cmtids"))});var a="";r.getAttribute("data-type")==="link-ref-defs-block"&&(r=e.wysiwyg.element);var d,h=r.isEqualNode(e.wysiwyg.element),m=Object(w.d)(r,"data-type","footnotes-block");if(h)a=r.innerHTML;else{var y=Object(w.b)(t.startContainer);if(y&&!m){var T=Object(Q.b)(t.startContainer,"BLOCKQUOTE");r=T?Object(w.c)(t.startContainer)||r:y}if(m&&(r=m),a=r.outerHTML,r.tagName==="UL"||r.tagName==="OL"){var A=r.previousElementSibling,R=r.nextElementSibling;!A||A.tagName!=="UL"&&A.tagName!=="OL"||(a=A.outerHTML+a,A.remove()),!R||R.tagName!=="UL"&&R.tagName!=="OL"||(a+=R.outerHTML,R.remove()),a=a.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(P){P&&!r.isEqualNode(P)&&(a+=P.outerHTML,P.remove())}),e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(P){P&&!r.isEqualNode(P)&&(a+=P.outerHTML,P.remove())})}if((a=a.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""))==='<p data-block="0">```<wbr></p>'&&e.hint.recentLanguage&&(a='<p data-block="0">```<wbr></p>'.replace("```","```"+e.hint.recentLanguage)),te("SpinVditorDOM",a,"argument",e.options.debugger),a=e.lute.SpinVditorDOM(a),te("SpinVditorDOM",a,"result",e.options.debugger),h)r.innerHTML=a;else if(r.outerHTML=a,m){var O=Object(w.h)(e.wysiwyg.element.querySelector("wbr"),"LI");if(O){var j=e.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+O.getAttribute("data-marker")+'"]');j&&j.setAttribute("aria-label",O.textContent.trim().substr(0,24))}}var W,q=e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");q.forEach(function(P,M){M===0?d=P:(d.insertAdjacentHTML("beforeend",P.innerHTML),P.remove())}),q.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",q[0]);var D=e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");D.forEach(function(P,M){M===0?W=P:(W.insertAdjacentHTML("beforeend",P.innerHTML),P.remove())}),D.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",D[0]),Object(k.f)(e.wysiwyg.element,t),e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(P){ae(P,e)}),n&&(n.inputType==="deleteContentBackward"||n.inputType==="deleteContentForward")&&e.options.comment.enable&&(e.wysiwyg.triggerRemoveComment(e),e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)))}z(e),he(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},Dn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Rn=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(m){try{h(o.next(m))}catch(y){i(y)}}function d(m){try{h(o.throw(m))}catch(y){i(y)}}function h(m){var y;m.done?r(m.value):(y=m.value,y instanceof n?y:new n(function(T){T(y)})).then(a,d)}h((o=o.apply(e,t||[])).next())})},In=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function d(h){return function(m){return function(y){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&y[0]?o.return:y[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,y[1])).done)return r;switch(o=0,r&&(y=[2&y[0],r.value]),y[0]){case 0:case 1:r=y;break;case 4:return a.label++,{value:y[1],done:!1};case 5:a.label++,o=y[1],y=[0];continue;case 7:y=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!((r=r.length>0&&r[r.length-1])||y[0]!==6&&y[0]!==2)){a=0;continue}if(y[0]===3&&(!r||y[1]>r[0]&&y[1]<r[3])){a.label=y[1];break}if(y[0]===6&&a.label<r[1]){a.label=r[1],r=y;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(y);break}r[2]&&a.ops.pop(),a.trys.pop();continue}y=t.call(e,a)}catch(T){y=[6,T],o=0}finally{n=r=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([h,m])}}},Xt=function(e,t,n){if(e.keyCode===229&&e.code===""&&e.key==="Unidentified"&&t.currentMode!=="sv"){var o=Object(w.c)(n);if(o&&o.textContent.trim()==="")return t[t.currentMode].composingLock=!0,!1}return!0},Jt=function(e,t,n){if(!(n.key==="Enter"||n.key==="Tab"||n.key==="Backspace"||n.key.indexOf("Arrow")>-1||Object(b.d)(n)||n.key==="Escape"||n.shiftKey||n.altKey)){var o=Object(w.f)(e.startContainer,"P")||Object(w.f)(e.startContainer,"LI");if(o&&Object(k.c)(o,t[t.currentMode].element,e).start===0){var r=document.createTextNode(c.a.ZWSP);e.insertNode(r),e.setStartAfter(r)}}},Yt=function(e,t){if(t==="ArrowDown"||t==="ArrowUp"){var n=Object(w.d)(e.startContainer,"data-type","math-inline")||Object(w.d)(e.startContainer,"data-type","html-entity")||Object(w.d)(e.startContainer,"data-type","html-inline");n&&(t==="ArrowDown"&&e.setStartAfter(n.parentElement),t==="ArrowUp"&&e.setStartBefore(n.parentElement))}},pt=function(e,t){var n=Object(k.b)(e),o=Object(w.c)(n.startContainer);o&&(o.insertAdjacentHTML(t,'<p data-block="0">'+c.a.ZWSP+`<wbr>
</p>`),Object(k.f)(e[e.currentMode].element,n),We(e),ie(e))},Pn=function(e){var t=Object(w.f)(e,"TABLE");return!(!t||!t.rows[0].cells[0].isSameNode(e))&&t},Bn=function(e){var t=Object(w.f)(e,"TABLE");return!(!t||!t.lastElementChild.lastElementChild.lastElementChild.isSameNode(e))&&t},$t=function(e,t,n){n===void 0&&(n=!0);var o=e.previousElementSibling;return o||(o=e.parentElement.previousElementSibling?e.parentElement.previousElementSibling.lastElementChild:e.parentElement.parentElement.tagName==="TBODY"&&e.parentElement.parentElement.previousElementSibling?e.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:null),o&&(t.selectNodeContents(o),n||t.collapse(!1),Object(k.h)(t)),o},tt=function(e,t,n,o,r){var i=Object(k.c)(o,e[e.currentMode].element,n);if(t.key==="ArrowDown"&&o.textContent.trimRight().substr(i.start).indexOf(`
`)===-1||t.key==="ArrowRight"&&i.start>=o.textContent.trimRight().length){var a=r.nextElementSibling;return!a||a&&(a.tagName==="TABLE"||a.getAttribute("data-type"))?(r.insertAdjacentHTML("afterend",'<p data-block="0">'+c.a.ZWSP+"<wbr></p>"),Object(k.f)(e[e.currentMode].element,n)):(n.selectNodeContents(a),n.collapse(!0),Object(k.h)(n)),t.preventDefault(),!0}return!1},Ve=function(e,t,n,o,r){var i=Object(k.c)(o,e[e.currentMode].element,n);if(t.key==="ArrowUp"&&o.textContent.substr(0,i.start).indexOf(`
`)===-1||(t.key==="ArrowLeft"||t.key==="Backspace"&&n.toString()==="")&&i.start===0){var a=r.previousElementSibling;return!a||a&&(a.tagName==="TABLE"||a.getAttribute("data-type"))?(r.insertAdjacentHTML("beforebegin",'<p data-block="0">'+c.a.ZWSP+"<wbr></p>"),Object(k.f)(e[e.currentMode].element,n)):(n.selectNodeContents(a),n.collapse(!1),Object(k.h)(n)),t.preventDefault(),!0}return!1},ut=function(e,t,n,o){o===void 0&&(o=!0);var r=Object(w.f)(t.startContainer,"LI");if(e[e.currentMode].element.querySelectorAll("wbr").forEach(function(y){y.remove()}),t.insertNode(document.createElement("wbr")),o&&r){for(var i="",a=0;a<r.parentElement.childElementCount;a++){var d=r.parentElement.children[a].querySelector("input");d&&d.remove(),i+='<p data-block="0">'+r.parentElement.children[a].innerHTML.trimLeft()+"</p>"}r.parentElement.insertAdjacentHTML("beforebegin",i),r.parentElement.remove()}else if(r)if(n==="check")r.parentElement.querySelectorAll("li").forEach(function(y){y.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'+(y.textContent.indexOf(" ")===0?"":" ")),y.classList.add("vditor-task")});else{r.querySelector("input")&&r.parentElement.querySelectorAll("li").forEach(function(y){y.querySelector("input").remove(),y.classList.remove("vditor-task")});var h=void 0;(h=n==="list"?document.createElement("ul"):document.createElement("ol")).innerHTML=r.parentElement.innerHTML,r.parentElement.parentNode.replaceChild(h,r.parentElement)}else{var m=Object(w.d)(t.startContainer,"data-block","0");m||(e[e.currentMode].element.querySelector("wbr").remove(),(m=e[e.currentMode].element.querySelector("p")).innerHTML="<wbr>"),n==="check"?(m.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '+m.innerHTML+"</li></ul>"),m.remove()):n==="list"?(m.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'+m.innerHTML+"</li></ul>"),m.remove()):n==="ordered-list"&&(m.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'+m.innerHTML+"</li></ol>"),m.remove())}},Qt=function(e,t,n){var o=t.previousElementSibling;if(t&&o){var r=[t];Array.from(n.cloneContents().children).forEach(function(h,m){h.nodeType!==3&&t&&h.textContent.trim()!==""&&t.getAttribute("data-node-id")===h.getAttribute("data-node-id")&&(m!==0&&r.push(t),t=t.nextElementSibling)}),e[e.currentMode].element.querySelectorAll("wbr").forEach(function(h){h.remove()}),n.insertNode(document.createElement("wbr"));var i=o.parentElement,a="";r.forEach(function(h){var m=h.getAttribute("data-marker");m.length!==1&&(m="1"+m.slice(-1)),a+='<li data-node-id="'+h.getAttribute("data-node-id")+'" data-marker="'+m+'">'+h.innerHTML+"</li>",h.remove()}),o.insertAdjacentHTML("beforeend","<"+i.tagName+' data-block="0">'+a+"</"+i.tagName+">"),e.currentMode==="wysiwyg"?i.outerHTML=e.lute.SpinVditorDOM(i.outerHTML):i.outerHTML=e.lute.SpinVditorIRDOM(i.outerHTML),Object(k.f)(e[e.currentMode].element,n);var d=Object(w.b)(n.startContainer);d&&d.querySelectorAll(".vditor-"+e.currentMode+"__preview[data-render='2']").forEach(function(h){ae(h,e),e.currentMode==="wysiwyg"&&h.previousElementSibling.setAttribute("style","display:none")}),ie(e),We(e)}else e[e.currentMode].element.focus()},Lt=function(e,t,n,o){var r=Object(w.f)(t.parentElement,"LI");if(r){e[e.currentMode].element.querySelectorAll("wbr").forEach(function(T){T.remove()}),n.insertNode(document.createElement("wbr"));var i=t.parentElement,a=i.cloneNode(),d=[t];Array.from(n.cloneContents().children).forEach(function(T,A){T.nodeType!==3&&t&&T.textContent.trim()!==""&&t.getAttribute("data-node-id")===T.getAttribute("data-node-id")&&(A!==0&&d.push(t),t=t.nextElementSibling)});var h=!1,m="";i.querySelectorAll("li").forEach(function(T){h&&(m+=T.outerHTML,T.nextElementSibling||T.previousElementSibling?T.remove():T.parentElement.remove()),T.isSameNode(d[d.length-1])&&(h=!0)}),d.reverse().forEach(function(T){r.insertAdjacentElement("afterend",T)}),m&&(a.innerHTML=m,d[0].insertAdjacentElement("beforeend",a)),e.currentMode==="wysiwyg"?o.outerHTML=e.lute.SpinVditorDOM(o.outerHTML):o.outerHTML=e.lute.SpinVditorIRDOM(o.outerHTML),Object(k.f)(e[e.currentMode].element,n);var y=Object(w.b)(n.startContainer);y&&y.querySelectorAll(".vditor-"+e.currentMode+"__preview[data-render='2']").forEach(function(T){ae(T,e),e.currentMode==="wysiwyg"&&T.previousElementSibling.setAttribute("style","display:none")}),ie(e),We(e)}else e[e.currentMode].element.focus()},ft=function(e,t){for(var n=getSelection().getRangeAt(0).startContainer.parentElement,o=e.rows[0].cells.length,r=e.rows.length,i=0,a=0;a<r;a++)for(var d=0;d<o;d++)if(e.rows[a].cells[d].isSameNode(n)){i=d;break}for(var h=0;h<r;h++)e.rows[h].cells[i].setAttribute("align",t)},Mt=function(e){var t=e.trimRight().split(`
`).pop();return t!==""&&(t.replace(/ |-/g,"")===""||t.replace(/ |_/g,"")===""||t.replace(/ |\*/g,"")==="")&&t.replace(/ /g,"").length>2&&!(t.indexOf("-")>-1&&t.trimLeft().indexOf(" ")===-1&&e.trimRight().split(`
`).length>1)&&t.indexOf("    ")!==0&&t.indexOf("	")!==0},jt=function(e){var t=e.trimRight().split(`
`);return(e=t.pop()).indexOf("    ")!==0&&e.indexOf("	")!==0&&(e=e.trimLeft())!==""&&t.length!==0&&(e.replace(/-/g,"")===""||e.replace(/=/g,"")==="")},ie=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),e.currentMode==="wysiwyg"?he(e,t):e.currentMode==="ir"?Re(e,t):e.currentMode==="sv"&&ye(e,t)},en=function(e,t,n,o){var r,i=e.startContainer,a=Object(w.f)(i,"LI");if(a){if(!Object(b.d)(o)&&!o.altKey&&o.key==="Enter"&&!o.shiftKey&&n&&a.contains(n)&&n.nextElementSibling)return a&&!a.textContent.endsWith(`
`)&&a.insertAdjacentText("beforeend",`
`),e.insertNode(document.createTextNode(`

`)),e.collapse(!1),ie(t),o.preventDefault(),!0;if(!(Object(b.d)(o)||o.shiftKey||o.altKey||o.key!=="Backspace"||a.previousElementSibling||e.toString()!==""||Object(k.c)(a,t[t.currentMode].element,e).start!==0))return a.nextElementSibling?(a.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+a.innerHTML+"</p>"),a.remove()):a.parentElement.outerHTML='<p data-block="0"><wbr>'+a.innerHTML+"</p>",Object(k.f)(t[t.currentMode].element,e),ie(t),o.preventDefault(),!0;if(!Object(b.d)(o)&&!o.shiftKey&&!o.altKey&&o.key==="Backspace"&&a.textContent.trim().replace(c.a.ZWSP,"")===""&&e.toString()===""&&((r=a.previousElementSibling)===null||r===void 0?void 0:r.tagName)==="LI")return a.previousElementSibling.insertAdjacentText("beforeend",`

`),e.selectNodeContents(a.previousElementSibling),e.collapse(!1),a.remove(),Object(k.f)(t[t.currentMode].element,e),ie(t),o.preventDefault(),!0;if(!Object(b.d)(o)&&!o.altKey&&o.key==="Tab"){var d=!1;if((e.startOffset===0&&(i.nodeType===3&&!i.previousSibling||i.nodeType!==3&&i.nodeName==="LI")||a.classList.contains("vditor-task")&&e.startOffset===1&&i.previousSibling.nodeType!==3&&i.previousSibling.tagName==="INPUT")&&(d=!0),d||e.toString()!=="")return o.shiftKey?Lt(t,a,e,a.parentElement):Qt(t,a,e),o.preventDefault(),!0}}return!1},At=function(e,t,n){if(e.options.tab&&n.key==="Tab")return n.shiftKey||(t.toString()===""?(t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1)):(t.extractContents(),t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1))),Object(k.h)(t),ie(e),n.preventDefault(),!0},tn=function(e,t,n,o){if(n){if(!Object(b.d)(e)&&!e.altKey&&e.key==="Enter"){var r=String.raw(f||(f=Dn(["",""],["",""])),n.textContent).replace(/\\\|/g,"").trim(),i=r.split("|");if(r.startsWith("|")&&r.endsWith("|")&&i.length>3){var a=i.map(function(){return"---"}).join("|");return a=n.textContent+`
`+a.substring(3,a.length-3)+`
|<wbr>`,n.outerHTML=t.lute.SpinVditorDOM(a),Object(k.f)(t[t.currentMode].element,o),ie(t),be(t),e.preventDefault(),!0}if(Mt(n.innerHTML)&&n.previousElementSibling){var d="",h=n.innerHTML.trimRight().split(`
`);return h.length>1&&(h.pop(),d='<p data-block="0">'+h.join(`
`)+"</p>"),n.insertAdjacentHTML("afterend",d+`<hr data-block="0"><p data-block="0"><wbr>
</p>`),n.remove(),Object(k.f)(t[t.currentMode].element,o),ie(t),be(t),e.preventDefault(),!0}if(jt(n.innerHTML))return t.currentMode==="wysiwyg"?n.outerHTML=t.lute.SpinVditorDOM(n.innerHTML+`<p data-block="0"><wbr>
</p>`):n.outerHTML=t.lute.SpinVditorIRDOM(n.innerHTML+`<p data-block="0"><wbr>
</p>`),Object(k.f)(t[t.currentMode].element,o),ie(t),be(t),e.preventDefault(),!0}if(o.collapsed&&n.previousElementSibling&&e.key==="Backspace"&&!Object(b.d)(e)&&!e.altKey&&!e.shiftKey&&n.textContent.trimRight().split(`
`).length>1&&Object(k.c)(n,t[t.currentMode].element,o).start===0){var m=Object(w.a)(n.previousElementSibling);return m.textContent.endsWith(`
`)||(m.textContent=m.textContent+`
`),m.parentElement.insertAdjacentHTML("beforeend","<wbr>"+n.innerHTML),n.remove(),Object(k.f)(t[t.currentMode].element,o),!1}return!1}},nn=function(e,t,n){for(var o="",r=0;r<n.parentElement.childElementCount;r++)o+='<td align="'+n.parentElement.children[r].getAttribute("align")+'"> </td>';n.tagName==="TH"?n.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>"+o+"</tr></tbody>"):n.parentElement.insertAdjacentHTML("afterend","<tr>"+o+"</tr>"),ie(e)},rn=function(e,t,n){for(var o="",r=0;r<n.parentElement.childElementCount;r++)n.tagName==="TH"?o+='<th align="'+n.parentElement.children[r].getAttribute("align")+'"> </th>':o+='<td align="'+n.parentElement.children[r].getAttribute("align")+'"> </td>';if(n.tagName==="TH"){n.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>"+o+"</tr></thead>"),t.insertNode(document.createElement("wbr"));var i=n.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");n.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",i),n.parentElement.parentElement.remove(),Object(k.f)(e.ir.element,t)}else n.parentElement.insertAdjacentHTML("beforebegin","<tr>"+o+"</tr>");ie(e)},mt=function(e,t,n,o){o===void 0&&(o="afterend");for(var r=0,i=n.previousElementSibling;i;)r++,i=i.previousElementSibling;for(var a=0;a<t.rows.length;a++)a===0?t.rows[a].cells[r].insertAdjacentHTML(o,"<th> </th>"):t.rows[a].cells[r].insertAdjacentHTML(o,"<td> </td>");ie(e)},on=function(e,t,n){if(n.tagName==="TD"){var o=n.parentElement.parentElement;n.parentElement.previousElementSibling?t.selectNodeContents(n.parentElement.previousElementSibling.lastElementChild):t.selectNodeContents(o.previousElementSibling.lastElementChild.lastElementChild),o.childElementCount===1?o.remove():n.parentElement.remove(),t.collapse(!1),Object(k.h)(t),ie(e)}},an=function(e,t,n,o){for(var r=0,i=o.previousElementSibling;i;)r++,i=i.previousElementSibling;(o.previousElementSibling||o.nextElementSibling)&&(t.selectNodeContents(o.previousElementSibling||o.nextElementSibling),t.collapse(!0));for(var a=0;a<n.rows.length;a++){var d=n.rows[a].cells;if(d.length===1){n.remove(),We(e);break}d[r].remove()}Object(k.h)(t),ie(e)},ln=function(e,t,n){var o=n.startContainer,r=Object(w.f)(o,"TD")||Object(w.f)(o,"TH");if(r){if(!Object(b.d)(t)&&!t.altKey&&t.key==="Enter"){r.lastElementChild&&(!r.lastElementChild||r.lastElementChild.isSameNode(r.lastChild)&&r.lastElementChild.tagName==="BR")||r.insertAdjacentHTML("beforeend","<br>");var i=document.createElement("br");return n.insertNode(i),n.setStartAfter(i),ie(e),be(e),t.preventDefault(),!0}if(t.key==="Tab")return t.shiftKey?($t(r,n),t.preventDefault(),!0):((y=r.nextElementSibling)||(y=r.parentElement.nextElementSibling?r.parentElement.nextElementSibling.firstElementChild:r.parentElement.parentElement.tagName==="THEAD"&&r.parentElement.parentElement.nextElementSibling?r.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:null),y&&(n.selectNodeContents(y),Object(k.h)(n)),t.preventDefault(),!0);var a=r.parentElement.parentElement.parentElement;if(t.key==="ArrowUp"){if(t.preventDefault(),r.tagName==="TH")return a.previousElementSibling?(n.selectNodeContents(a.previousElementSibling),n.collapse(!1),Object(k.h)(n)):pt(e,"beforebegin"),!0;for(var d=0,h=r.parentElement;d<h.cells.length&&!h.cells[d].isSameNode(r);d++);var m=h.previousElementSibling;return m||(m=h.parentElement.previousElementSibling.firstChild),n.selectNodeContents(m.cells[d]),n.collapse(!1),Object(k.h)(n),!0}if(t.key==="ArrowDown"){var y;if(t.preventDefault(),!(h=r.parentElement).nextElementSibling&&r.tagName==="TD")return a.nextElementSibling?(n.selectNodeContents(a.nextElementSibling),n.collapse(!0),Object(k.h)(n)):pt(e,"afterend"),!0;for(d=0;d<h.cells.length&&!h.cells[d].isSameNode(r);d++);return(y=h.nextElementSibling)||(y=h.parentElement.nextElementSibling.firstChild),n.selectNodeContents(y.cells[d]),n.collapse(!0),Object(k.h)(n),!0}if(e.currentMode==="wysiwyg"&&!Object(b.d)(t)&&t.key==="Enter"&&!t.shiftKey&&t.altKey){var T=e.wysiwyg.popover.querySelector(".vditor-input");return T.focus(),T.select(),t.preventDefault(),!0}if(!Object(b.d)(t)&&!t.shiftKey&&!t.altKey&&t.key==="Backspace"&&n.startOffset===0&&n.toString()==="")return!$t(r,n,!1)&&a&&(a.textContent.trim()===""?(a.outerHTML=`<p data-block="0"><wbr>
</p>`,Object(k.f)(e[e.currentMode].element,n)):(n.setStartBefore(a),n.collapse(!0)),ie(e)),t.preventDefault(),!0;if(J("\u21E7\u2318F",t))return rn(e,n,r),t.preventDefault(),!0;if(J("\u2318=",t))return nn(e,n,r),t.preventDefault(),!0;if(J("\u21E7\u2318G",t))return mt(e,a,r,"beforebegin"),t.preventDefault(),!0;if(J("\u21E7\u2318=",t))return mt(e,a,r),t.preventDefault(),!0;if(J("\u2318-",t))return on(e,n,r),t.preventDefault(),!0;if(J("\u21E7\u2318-",t))return an(e,n,a,r),t.preventDefault(),!0;if(J("\u21E7\u2318L",t)){if(e.currentMode==="ir")return ft(a,"left"),ie(e),t.preventDefault(),!0;if(A=e.wysiwyg.popover.querySelector('[data-type="left"]'))return A.click(),t.preventDefault(),!0}if(J("\u21E7\u2318C",t)){if(e.currentMode==="ir")return ft(a,"center"),ie(e),t.preventDefault(),!0;if(A=e.wysiwyg.popover.querySelector('[data-type="center"]'))return A.click(),t.preventDefault(),!0}if(J("\u21E7\u2318R",t)){if(e.currentMode==="ir")return ft(a,"right"),ie(e),t.preventDefault(),!0;var A;if(A=e.wysiwyg.popover.querySelector('[data-type="right"]'))return A.click(),t.preventDefault(),!0}}return!1},sn=function(e,t,n,o){if(n.tagName==="PRE"&&J("\u2318A",t))return o.selectNodeContents(n.firstElementChild),t.preventDefault(),!0;if(e.options.tab&&t.key==="Tab"&&!t.shiftKey&&o.toString()==="")return o.insertNode(document.createTextNode(e.options.tab)),o.collapse(!1),ie(e),t.preventDefault(),!0;if(t.key==="Backspace"&&!Object(b.d)(t)&&!t.shiftKey&&!t.altKey){var r=Object(k.c)(n,e[e.currentMode].element,o);if((r.start===0||r.start===1&&n.innerText===`
`)&&o.toString()==="")return n.parentElement.outerHTML='<p data-block="0"><wbr>'+n.firstElementChild.innerHTML+"</p>",Object(k.f)(e[e.currentMode].element,o),ie(e),t.preventDefault(),!0}return!Object(b.d)(t)&&!t.altKey&&t.key==="Enter"&&(n.firstElementChild.textContent.endsWith(`
`)||n.firstElementChild.insertAdjacentText("beforeend",`
`),o.extractContents(),o.insertNode(document.createTextNode(`
`)),o.collapse(!1),Object(k.h)(o),Object(b.e)()||(e.currentMode==="wysiwyg"?dt(e,o):le(e,o)),be(e),t.preventDefault(),!0)},cn=function(e,t,n,o){var r=t.startContainer,i=Object(w.f)(r,"BLOCKQUOTE");if(i&&t.toString()===""){if(n.key==="Backspace"&&!Object(b.d)(n)&&!n.shiftKey&&!n.altKey&&Object(k.c)(i,e[e.currentMode].element,t).start===0)return t.insertNode(document.createElement("wbr")),i.outerHTML=i.innerHTML,Object(k.f)(e[e.currentMode].element,t),ie(e),n.preventDefault(),!0;if(o&&n.key==="Enter"&&!Object(b.d)(n)&&!n.shiftKey&&!n.altKey&&o.parentElement.tagName==="BLOCKQUOTE"){var a=!1;if(o.innerHTML.replace(c.a.ZWSP,"")===`
`||o.innerHTML.replace(c.a.ZWSP,"")===""?(a=!0,o.remove()):o.innerHTML.endsWith(`

`)&&Object(k.c)(o,e[e.currentMode].element,t).start===o.textContent.length-1&&(o.innerHTML=o.innerHTML.substr(0,o.innerHTML.length-2),a=!0),a)return i.insertAdjacentHTML("afterend",'<p data-block="0">'+c.a.ZWSP+`<wbr>
</p>`),Object(k.f)(e[e.currentMode].element,t),ie(e),n.preventDefault(),!0}var d=Object(w.c)(r);if(e.currentMode==="wysiwyg"&&d&&J("\u21E7\u2318;",n))return t.insertNode(document.createElement("wbr")),d.outerHTML='<blockquote data-block="0">'+d.outerHTML+"</blockquote>",Object(k.f)(e.wysiwyg.element,t),he(e),n.preventDefault(),!0;if(tt(e,n,t,i,i)||Ve(e,n,t,i,i))return!0}return!1},dn=function(e,t,n){var o=t.startContainer,r=Object(w.e)(o,"vditor-task");if(r){if(J("\u21E7\u2318J",n)){var i=r.firstElementChild;return i.checked?i.removeAttribute("checked"):i.setAttribute("checked","checked"),ie(e),n.preventDefault(),!0}if(n.key==="Backspace"&&!Object(b.d)(n)&&!n.shiftKey&&!n.altKey&&t.toString()===""&&t.startOffset===1&&(o.nodeType===3&&o.previousSibling&&o.previousSibling.tagName==="INPUT"||o.nodeType!==3)){var a=r.previousElementSibling;return r.querySelector("input").remove(),a?(Object(w.a)(a).parentElement.insertAdjacentHTML("beforeend","<wbr>"+r.innerHTML.trim()),r.remove()):(r.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+(r.innerHTML.trim()||`
`)+"</p>"),r.nextElementSibling?r.remove():r.parentElement.remove()),Object(k.f)(e[e.currentMode].element,t),ie(e),n.preventDefault(),!0}if(n.key==="Enter"&&!Object(b.d)(n)&&!n.shiftKey&&!n.altKey){if(r.textContent.trim()==="")if(Object(w.e)(r.parentElement,"vditor-task")){var d=Object(w.b)(o);d&&Lt(e,r,t,d)}else if(r.nextElementSibling){var h="",m="",y=!1;Array.from(r.parentElement.children).forEach(function(O){r.isSameNode(O)?y=!0:y?h+=O.outerHTML:m+=O.outerHTML});var T=r.parentElement.tagName,A=r.parentElement.tagName==="OL"?"":' data-marker="'+r.parentElement.getAttribute("data-marker")+'"',R="";m&&(R=r.parentElement.tagName==="UL"?"":' start="1"',m="<"+T+' data-tight="true"'+A+' data-block="0">'+m+"</"+T+">"),r.parentElement.outerHTML=m+`<p data-block="0"><wbr>
</p><`+T+`
 data-tight="true"`+A+' data-block="0"'+R+">"+h+"</"+T+">"}else r.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),r.parentElement.querySelectorAll("li").length===1?r.parentElement.remove():r.remove();else o.nodeType!==3&&t.startOffset===0&&o.firstChild.tagName==="INPUT"?t.setStart(o.childNodes[1],1):(t.setEndAfter(r.lastChild),r.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'+r.getAttribute("data-marker")+'"><input type="checkbox"> <wbr></li>'),document.querySelector("wbr").after(t.extractContents()));return Object(k.f)(e[e.currentMode].element,t),ie(e),be(e),n.preventDefault(),!0}}return!1},pn=function(e,t,n,o){if(t.startContainer.nodeType!==3){var r=t.startContainer.children[t.startOffset];if(r&&r.tagName==="HR")return t.selectNodeContents(r.previousElementSibling),t.collapse(!1),n.preventDefault(),!0}if(o){var i=o.previousElementSibling;if(i&&Object(k.c)(o,e[e.currentMode].element,t).start===0&&(Object(b.e)()&&i.tagName==="HR"||i.tagName==="TABLE")){if(i.tagName==="TABLE"){var a=i.lastElementChild.lastElementChild.lastElementChild;a.innerHTML=a.innerHTML.trimLeft()+"<wbr>"+o.textContent.trim(),o.remove()}else i.remove();return Object(k.f)(e[e.currentMode].element,t),ie(e),n.preventDefault(),!0}}return!1},un=function(e){Object(b.e)()&&e.startContainer.nodeType!==3&&e.startContainer.tagName==="HR"&&e.setStartBefore(e.startContainer)},fn=function(e,t,n){var o,r;if(!Object(b.e)())return!1;if(e.key==="ArrowUp"&&t&&((o=t.previousElementSibling)===null||o===void 0?void 0:o.tagName)==="TABLE"){var i=t.previousElementSibling;return n.selectNodeContents(i.rows[i.rows.length-1].lastElementChild),n.collapse(!1),e.preventDefault(),!0}return!(e.key!=="ArrowDown"||!t||((r=t.nextElementSibling)===null||r===void 0?void 0:r.tagName)!=="TABLE")&&(n.selectNodeContents(t.nextElementSibling.rows[0].cells[0]),n.collapse(!0),e.preventDefault(),!0)},vt=function(e,t,n){return Rn(void 0,void 0,void 0,function(){var o,r,i,a,d,h,m,y,T,A,R,O,j,W;return In(this,function(q){switch(q.label){case 0:return t.stopPropagation(),t.preventDefault(),"clipboardData"in t?(o=t.clipboardData.getData("text/html"),r=t.clipboardData.getData("text/plain"),i=t.clipboardData.files):(o=t.dataTransfer.getData("text/html"),r=t.dataTransfer.getData("text/plain"),t.dataTransfer.types[0]==="Files"&&(i=t.dataTransfer.items)),a={},d=function(D,P){if(!P)return["",Lute.WalkContinue];var M=D.TokensStr();if(D.__internal_object__.Parent.Type===34&&M&&M.indexOf("file://")===-1&&e.options.upload.linkToImgUrl){var H=new XMLHttpRequest;H.open("POST",e.options.upload.linkToImgUrl),e.options.upload.token&&H.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(H.withCredentials=!0),Gt(e,H),H.setRequestHeader("Content-Type","application/json; charset=utf-8"),H.onreadystatechange=function(){if(H.readyState===XMLHttpRequest.DONE){if(H.status===200){var Y=H.responseText;e.options.upload.linkToImgFormat&&(Y=e.options.upload.linkToImgFormat(H.responseText));var $=JSON.parse(Y);if($.code!==0)return void e.tip.show($.msg);var X=$.data.originalURL;if(e.currentMode==="sv")e.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(V){V.textContent===X&&(V.textContent=$.data.url)});else{var ne=e[e.currentMode].element.querySelector('img[src="'+X+'"]');ne.src=$.data.url,e.currentMode==="ir"&&(ne.previousElementSibling.previousElementSibling.innerHTML=$.data.url)}ie(e)}else e.tip.show(H.responseText);e.options.upload.linkToImgCallback&&e.options.upload.linkToImgCallback(H.responseText)}},H.send(JSON.stringify({url:M}))}return e.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'+M+"</span>",Lute.WalkContinue]:e.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'+M+"</span>",Lute.WalkContinue]},o.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<a href="'+r+'">'+r+"</a>"&&o.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<!--StartFragment--><a href="'+r+'">'+r+"</a><!--EndFragment-->"||(o=""),(h=new DOMParser().parseFromString(o,"text/html")).body&&(o=h.body.innerHTML),e.wysiwyg.getComments(e),m=e[e.currentMode].element.scrollHeight,y=function(D,P,M){M===void 0&&(M="sv");var H=document.createElement("div");H.innerHTML=D;var Y=!1;H.childElementCount===1&&H.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(Y=!0);var $=H.querySelectorAll("pre");if(H.childElementCount===1&&$.length===1&&$[0].className!=="vditor-wysiwyg"&&$[0].className!=="vditor-sv"&&(Y=!0),D.indexOf(`
<p class="p1">`)===0&&(Y=!0),H.childElementCount===1&&H.firstElementChild.tagName==="TABLE"&&H.querySelector(".line-number")&&H.querySelector(".line-content")&&(Y=!0),Y){var X=P||D;return/\n/.test(X)||$.length===1?M==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'+X.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"<wbr></code></pre></div>":"\n```\n"+X.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":M==="wysiwyg"?"<code>"+X.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</code><wbr>":"`"+X+"`"}return!1}(o,r,e.currentMode),(T=e.currentMode==="sv"?Object(w.d)(t.target,"data-type","code-block"):Object(w.f)(t.target,"CODE"))?(e.currentMode==="sv"?document.execCommand("insertHTML",!1,r.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(A=Object(k.c)(t.target,e[e.currentMode].element),T.parentElement.tagName!=="PRE"&&(r+=c.a.ZWSP),T.textContent=T.textContent.substring(0,A.start)+r+T.textContent.substring(A.end),Object(k.g)(A.start+r.length,A.start+r.length,T.parentElement),((W=T.parentElement)===null||W===void 0?void 0:W.nextElementSibling.classList.contains("vditor-"+e.currentMode+"__preview"))&&(T.parentElement.nextElementSibling.innerHTML=T.outerHTML,ae(T.parentElement.nextElementSibling,e))),[3,6]):[3,1];case 1:return y?(n.pasteCode(y),[3,6]):[3,2];case 2:return o.trim()===""?[3,3]:((R=document.createElement("div")).innerHTML=o,R.querySelectorAll("[style]").forEach(function(D){D.removeAttribute("style")}),R.querySelectorAll(".vditor-copy").forEach(function(D){D.remove()}),e.currentMode==="ir"?(a.HTML2VditorIRDOM={renderLinkDest:d},e.lute.SetJSRenderers({renderers:a}),Object(k.d)(e.lute.HTML2VditorIRDOM(R.innerHTML),e)):e.currentMode==="wysiwyg"?(a.HTML2VditorDOM={renderLinkDest:d},e.lute.SetJSRenderers({renderers:a}),Object(k.d)(e.lute.HTML2VditorDOM(R.innerHTML),e)):(a.Md2VditorSVDOM={renderLinkDest:d},e.lute.SetJSRenderers({renderers:a}),Vt(e,e.lute.HTML2Md(R.innerHTML).trimRight())),e.outline.render(e),[3,6]);case 3:return i.length>0&&e.options.upload.url?[4,Tt(e,i)]:[3,5];case 4:return q.sent(),[3,6];case 5:r.trim()!==""&&i.length===0&&(e.currentMode==="ir"?(a.Md2VditorIRDOM={renderLinkDest:d},e.lute.SetJSRenderers({renderers:a}),Object(k.d)(e.lute.Md2VditorIRDOM(r),e)):e.currentMode==="wysiwyg"?(a.Md2VditorDOM={renderLinkDest:d},e.lute.SetJSRenderers({renderers:a}),Object(k.d)(e.lute.Md2VditorDOM(r),e)):(a.Md2VditorSVDOM={renderLinkDest:d},e.lute.SetJSRenderers({renderers:a}),Vt(e,r)),e.outline.render(e)),q.label=6;case 6:return e.currentMode!=="sv"&&((O=Object(w.c)(Object(k.b)(e).startContainer))&&(j=Object(k.b)(e),e[e.currentMode].element.querySelectorAll("wbr").forEach(function(D){D.remove()}),j.insertNode(document.createElement("wbr")),e.currentMode==="wysiwyg"?O.outerHTML=e.lute.SpinVditorDOM(O.outerHTML):O.outerHTML=e.lute.SpinVditorIRDOM(O.outerHTML),Object(k.f)(e[e.currentMode].element,j)),e[e.currentMode].element.querySelectorAll(".vditor-"+e.currentMode+"__preview[data-render='2']").forEach(function(D){ae(D,e)})),e.wysiwyg.triggerRemoveComment(e),ie(e),e[e.currentMode].element.scrollHeight-m>Math.min(e[e.currentMode].element.clientHeight,window.innerHeight)/2&&be(e),[2]}})})},mn=function(e){e.hint.render(e);var t=Object(k.b)(e).startContainer,n=Object(w.d)(t,"data-type","code-block-info");if(n)if(n.textContent.replace(c.a.ZWSP,"")===""&&e.hint.recentLanguage)n.textContent=c.a.ZWSP+e.hint.recentLanguage,Object(k.b)(e).selectNodeContents(n);else{var o=[],r=n.textContent.substring(0,Object(k.c)(n,e.ir.element).start).replace(c.a.ZWSP,"");c.a.CODE_LANGUAGES.forEach(function(i){i.indexOf(r.toLowerCase())>-1&&o.push({html:i,value:i})}),e.hint.genHTML(o,r,e)}},Re=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&mn(e),clearTimeout(e.ir.processTimeoutId),e.ir.processTimeoutId=window.setTimeout(function(){if(!e.ir.composingLock){var n=u(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&Object(b.a)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}},e.options.undoDelay)},nt=function(e,t){var n=Object(k.b)(e),o=Object(w.c)(n.startContainer)||n.startContainer;if(o){var r=o.querySelector(".vditor-ir__marker--heading");r?r.innerHTML=t:(o.insertAdjacentText("afterbegin",t),n.selectNodeContents(o),n.collapse(!1)),le(e,n.cloneRange()),Ye(e)}},ht=function(e,t,n){var o=Object(w.d)(e.startContainer,"data-type",n);if(o){o.firstElementChild.remove(),o.lastElementChild.remove(),e.insertNode(document.createElement("wbr"));var r=document.createElement("div");r.innerHTML=t.lute.SpinVditorIRDOM(o.outerHTML),o.outerHTML=r.firstElementChild.innerHTML.trim()}},qn=function(e,t,n,o){var r=Object(k.b)(e),i=t.getAttribute("data-type"),a=r.startContainer;a.nodeType===3&&(a=a.parentElement);var d=!0;if(t.classList.contains("vditor-menu--current"))if(i==="quote"){var h=Object(w.f)(a,"BLOCKQUOTE");h&&(r.insertNode(document.createElement("wbr")),h.outerHTML=h.innerHTML.trim()===""?'<p data-block="0">'+h.innerHTML+"</p>":h.innerHTML)}else if(i==="link"){var m=Object(w.d)(r.startContainer,"data-type","a");if(m){var y=Object(w.e)(r.startContainer,"vditor-ir__link");y?(r.insertNode(document.createElement("wbr")),m.outerHTML=y.innerHTML):m.outerHTML=m.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else i==="italic"?ht(r,e,"em"):i==="bold"?ht(r,e,"strong"):i==="strike"?ht(r,e,"s"):i==="inline-code"?ht(r,e,"code"):i!=="check"&&i!=="list"&&i!=="ordered-list"||(ut(e,r,i),d=!1,t.classList.remove("vditor-menu--current"));else{e.ir.element.childNodes.length===0&&(e.ir.element.innerHTML='<p data-block="0"><wbr></p>',Object(k.f)(e.ir.element,r));var T=Object(w.c)(r.startContainer);if(i==="line"){if(T){var A=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;T.innerHTML.trim()===""?T.outerHTML=A:T.insertAdjacentHTML("afterend",A)}}else if(i==="quote")T&&(r.insertNode(document.createElement("wbr")),T.outerHTML='<blockquote data-block="0">'+T.outerHTML+"</blockquote>",d=!1,t.classList.add("vditor-menu--current"));else if(i==="link"){var R=void 0;R=r.toString()===""?n+"<wbr>"+o:""+n+r.toString()+o.replace(")","<wbr>)"),document.execCommand("insertHTML",!1,R),d=!1,t.classList.add("vditor-menu--current")}else if(i==="italic"||i==="bold"||i==="strike"||i==="inline-code"||i==="code"||i==="table"){R=void 0,r.toString()===""?R=n+"<wbr>"+o:(R=i==="code"||i==="table"?""+n+r.toString()+"<wbr>"+o:""+n+r.toString()+o+"<wbr>",r.deleteContents()),i!=="table"&&i!=="code"||(R=`
`+R+`

`);var O=document.createElement("span");O.innerHTML=R,r.insertNode(O),le(e,r),i==="table"&&(r.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),Object(k.h)(r))}else i!=="check"&&i!=="list"&&i!=="ordered-list"||(ut(e,r,i,!1),d=!1,C(e.toolbar.elements,["check","list","ordered-list"]),t.classList.add("vditor-menu--current"))}Object(k.f)(e.ir.element,r),Re(e),d&&Ye(e)},Un=function(){function e(t){var n=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(o,r){n.element.style.display="none";var i=decodeURIComponent(o.getAttribute("data-value")),a=window.getSelection().getRangeAt(0);if(r.currentMode==="ir"){var d=Object(w.d)(a.startContainer,"data-type","code-block-info");if(d)return d.textContent=c.a.ZWSP+i.trimRight(),a.selectNodeContents(d),a.collapse(!1),Re(r),d.parentElement.querySelectorAll("code").forEach(function(y){y.className="language-"+i.trimRight()}),ae(d.parentElement.querySelector(".vditor-ir__preview"),r),void(n.recentLanguage=i.trimRight())}if(r.currentMode==="wysiwyg"&&a.startContainer.nodeType!==3&&a.startContainer.firstElementChild.classList.contains("vditor-input")){var h=a.startContainer.firstElementChild;return h.value=i.trimRight(),a.selectNodeContents(h),a.collapse(!1),h.dispatchEvent(new CustomEvent("input")),void(n.recentLanguage=i.trimRight())}if(a.setStart(a.startContainer,n.lastIndex),a.deleteContents(),n.splitChar===":"&&i.indexOf(":")>-1&&r.currentMode!=="sv"?(Object(k.d)(r.lute.SpinVditorDOM(i),r),a.insertNode(document.createTextNode(" "))):Object(k.d)(r.lute.SpinVditorDOM(i),r),a.collapse(!1),Object(k.h)(a),r.currentMode==="wysiwyg")(m=Object(w.e)(a.startContainer,"vditor-wysiwyg__block"))&&m.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(m.lastElementChild.innerHTML=m.firstElementChild.innerHTML,ae(m.lastElementChild,r));else if(r.currentMode==="ir"){var m;(m=Object(w.e)(a.startContainer,"vditor-ir__marker--pre"))&&m.nextElementSibling.classList.contains("vditor-ir__preview")&&(m.nextElementSibling.innerHTML=m.innerHTML,ae(m.nextElementSibling,r))}ie(r)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",t.push({key:":"})}return e.prototype.render=function(t){var n=this;if(window.getSelection().focusNode){var o,r=getSelection().getRangeAt(0);o=r.startContainer.textContent.substring(0,r.startOffset)||"";var i=this.getKey(o,t.options.hint.extend);if(i===void 0)this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var a=i===""?t.options.hint.emoji:t.lute.GetEmojis(),d=[];Object.keys(a).forEach(function(h){h.indexOf(i.toLowerCase())===0&&(a[h].indexOf(".")>-1?d.push({html:'<img src="'+a[h]+'" title=":'+h+':"/> :'+h+":",value:":"+h+":"}):d.push({html:'<span class="vditor-hint__emoji">'+a[h]+"</span>"+h,value:a[h]}))}),this.genHTML(d,i,t)}else t.options.hint.extend.forEach(function(h){h.key===n.splitChar&&(clearTimeout(n.timeId),n.timeId=window.setTimeout(function(){n.genHTML(h.hint(i),i,t)},t.options.hint.delay))})}},e.prototype.genHTML=function(t,n,o){var r=this;if(t.length!==0){var i=o[o.currentMode].element,a=Object(k.a)(i),d=a.left+(o.options.outline.position==="left"?o.outline.element.offsetWidth:0),h=a.top,m="";t.forEach(function(T,A){if(!(A>7)){var R=T.html;if(n!==""){var O=R.lastIndexOf(">")+1,j=R.substr(O),W=j.toLowerCase().indexOf(n.toLowerCase());W>-1&&(j=j.substring(0,W)+"<b>"+j.substring(W,W+n.length)+"</b>"+j.substring(W+n.length),R=R.substr(0,O)+j)}m+='<button data-value="'+encodeURIComponent(T.value)+` "
`+(A===0?"class='vditor-hint--current'":"")+"> "+R+"</button>"}}),this.element.innerHTML=m;var y=parseInt(document.defaultView.getComputedStyle(i,null).getPropertyValue("line-height"),10);this.element.style.top=h+(y||22)+"px",this.element.style.left=d+"px",this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(T){T.addEventListener("click",function(A){r.fillEmoji(T,o),A.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top=h-this.element.offsetHeight+"px"),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")}else this.element.style.display="none"},e.prototype.select=function(t,n){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var o=this.element.querySelector(".vditor-hint--current");if(t.key==="ArrowDown")return t.preventDefault(),t.stopPropagation(),o.removeAttribute("class"),o.nextElementSibling?o.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(t.key==="ArrowUp"){if(t.preventDefault(),t.stopPropagation(),o.removeAttribute("class"),o.previousElementSibling)o.previousElementSibling.className="vditor-hint--current";else{var r=this.element.children.length;this.element.children[r-1].className="vditor-hint--current"}return!0}return!(Object(b.d)(t)||t.shiftKey||t.altKey||t.key!=="Enter"||t.isComposing)&&(t.preventDefault(),t.stopPropagation(),this.fillEmoji(o,n),!0)},e.prototype.getKey=function(t,n){var o,r=this;if(this.lastIndex=-1,this.splitChar="",n.forEach(function(h){var m=t.lastIndexOf(h.key);r.lastIndex<m&&(r.splitChar=h.key,r.lastIndex=m)}),this.lastIndex===-1)return o;var i=t.split(this.splitChar),a=i[i.length-1];if(i.length>1&&a.trim()===a)if(i.length===2&&i[0]===""&&i[1].length<32)o=i[1];else{var d=i[i.length-2].slice(-1);Object(v.a)(d)===" "&&a.length<32&&(o=a)}return o},e}(),zn=function(){function e(t){this.composingLock=!1;var n=document.createElement("div");n.className="vditor-ir",n.innerHTML='<pre class="vditor-reset" placeholder="'+t.options.placeholder+`"
 contenteditable="true" spellcheck="false"></pre>`,this.element=n.firstElementChild,this.bindEvent(t),kt(t,this.element),Wt(t,this.element),Et(t,this.element),Ct(t,this.element),Ot(t,this.element),xt(t,this.element),_t(t,this.element,this.copy),St(t,this.element,this.copy)}return e.prototype.copy=function(t,n){var o=getSelection().getRangeAt(0);if(o.toString()!==""){t.stopPropagation(),t.preventDefault();var r=document.createElement("div");r.appendChild(o.cloneContents()),t.clipboardData.setData("text/plain",n.lute.VditorIRDOM2Md(r.innerHTML).trim()),t.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("paste",function(o){vt(t,o,{pasteCode:function(r){document.execCommand("insertHTML",!1,r)}})}),this.element.addEventListener("compositionstart",function(o){n.composingLock=!0}),this.element.addEventListener("compositionend",function(o){Object(b.e)()||le(t,getSelection().getRangeAt(0).cloneRange()),n.composingLock=!1}),this.element.addEventListener("input",function(o){o.inputType!=="deleteByDrag"&&o.inputType!=="insertFromDrop"&&(n.preventInput?n.preventInput=!1:n.composingLock||o.data==="\u2018"||o.data==="\u201C"||o.data==="\u300A"||le(t,getSelection().getRangeAt(0).cloneRange(),!1,o))}),this.element.addEventListener("click",function(o){if(o.target.tagName==="INPUT")return o.target.checked?o.target.setAttribute("checked","checked"):o.target.removeAttribute("checked"),n.preventInput=!0,void Re(t);var r=Object(k.b)(t),i=Object(w.e)(o.target,"vditor-ir__preview");if(i||(i=Object(w.e)(r.startContainer,"vditor-ir__preview")),i&&(i.previousElementSibling.firstElementChild?r.selectNodeContents(i.previousElementSibling.firstElementChild):r.selectNodeContents(i.previousElementSibling),r.collapse(!0),Object(k.h)(r),be(t)),o.target.tagName==="IMG"){var a=o.target.parentElement.querySelector(".vditor-ir__marker--link");a&&(r.selectNode(a),Object(k.h)(r))}var d=Object(w.d)(o.target,"data-type","a");if(!d||d.classList.contains("vditor-ir__node--expand")){if(o.target.isEqualNode(n.element)&&n.element.lastElementChild&&r.collapsed){var h=n.element.lastElementChild.getBoundingClientRect();o.y>h.top+h.height&&(n.element.lastElementChild.tagName==="P"&&n.element.lastElementChild.textContent.trim().replace(c.a.ZWSP,"")===""?(r.selectNodeContents(n.element.lastElementChild),r.collapse(!1)):(n.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+c.a.ZWSP+"<wbr></p>"),Object(k.f)(n.element,r)))}r.toString()===""?ve(r,t):setTimeout(function(){ve(Object(k.b)(t),t)}),K(o,t),Ye(t)}else window.open(d.querySelector(":scope > .vditor-ir__marker--link").textContent)}),this.element.addEventListener("keyup",function(o){if(!o.isComposing&&!Object(b.d)(o))if(o.key==="Enter"&&be(t),Ye(t),o.key!=="Backspace"&&o.key!=="Delete"||t.ir.element.innerHTML===""||t.ir.element.childNodes.length!==1||!t.ir.element.firstElementChild||t.ir.element.firstElementChild.tagName!=="P"||t.ir.element.firstElementChild.childElementCount!==0||t.ir.element.textContent!==""&&t.ir.element.textContent!==`
`){var r=Object(k.b)(t);o.key==="Backspace"?(Object(b.e)()&&r.startContainer.textContent===`
`&&r.startOffset===1&&(r.startContainer.textContent="",ve(r,t)),n.element.querySelectorAll(".language-math").forEach(function(a){var d=a.querySelector("br");d&&d.remove()})):o.key.indexOf("Arrow")>-1?(o.key!=="ArrowLeft"&&o.key!=="ArrowRight"||mn(t),ve(r,t)):o.keyCode===229&&o.code===""&&o.key==="Unidentified"&&ve(r,t);var i=Object(w.e)(r.startContainer,"vditor-ir__preview");if(i){if(o.key==="ArrowUp"||o.key==="ArrowLeft")return i.previousElementSibling.firstElementChild?r.selectNodeContents(i.previousElementSibling.firstElementChild):r.selectNodeContents(i.previousElementSibling),r.collapse(!1),o.preventDefault(),!0;if(i.tagName==="SPAN"&&(o.key==="ArrowDown"||o.key==="ArrowRight"))return i.parentElement.getAttribute("data-type")==="html-entity"?(i.parentElement.insertAdjacentText("afterend",c.a.ZWSP),r.setStart(i.parentElement.nextSibling,1)):r.selectNodeContents(i.parentElement.lastElementChild),r.collapse(!1),o.preventDefault(),!0}}else t.ir.element.innerHTML=""})},e}(),vn=function(e){return e.currentMode==="sv"?e.lute.Md2HTML(u(e)):e.currentMode==="wysiwyg"?e.lute.VditorDOM2HTML(e.wysiwyg.element.innerHTML):e.currentMode==="ir"?e.lute.VditorIRDOM2HTML(e.ir.element.innerHTML):void 0},Wn=g(25),hn=g(23),Vn=function(){function e(t){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'+t+`</div>
<div class="vditor-outline__content"></div>`}return e.prototype.render=function(t){return t.preview.element.style.display==="block"?Object(hn.a)(t.preview.element.lastElementChild,this.element.lastElementChild,t):Object(hn.a)(t[t.currentMode].element,this.element.lastElementChild,t)},e.prototype.toggle=function(t,n){var o;n===void 0&&(n=!0);var r=(o=t.toolbar.elements.outline)===null||o===void 0?void 0:o.firstElementChild;if(n&&window.innerWidth>=c.a.MOBILE_WIDTH?(this.element.style.display="block",this.render(t),r==null||r.classList.add("vditor-menu--current")):(this.element.style.display="none",r==null||r.classList.remove("vditor-menu--current")),getSelection().rangeCount>0){var i=getSelection().getRangeAt(0);t[t.currentMode].element.contains(i.startContainer)?Object(k.h)(i):t[t.currentMode].element.focus()}He(t)},e}(),Kn=g(20),Fn=function(){function e(t){var n=this;this.element=document.createElement("div"),this.element.className="vditor-preview";var o=document.createElement("div");o.className="vditor-reset",t.options.classes.preview&&o.classList.add(t.options.classes.preview),o.style.maxWidth=t.options.preview.maxWidth+"px",o.addEventListener("copy",function(m){if(m.target.tagName!=="TEXTAREA"){var y=document.createElement("div");y.className="vditor-reset",y.appendChild(getSelection().getRangeAt(0).cloneContents()),n.copyToX(t,y),m.preventDefault()}}),o.addEventListener("click",function(m){var y=Object(w.f)(m.target,"SPAN");if(y&&Object(w.e)(y,"vditor-toc")){var T=o.querySelector("#"+y.getAttribute("data-target-id"));T&&(n.element.scrollTop=T.offsetTop)}else m.target.tagName==="IMG"&&Object(me.a)(m.target,t.options.lang,t.options.theme)});var r=t.options.preview.actions,i=document.createElement("div");i.className="vditor-preview__action";for(var a=[],d=0;d<r.length;d++){var h=r[d];if(typeof h!="object")switch(h){case"desktop":a.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":a.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":a.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":a.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="\u590D\u5236\u5230\u516C\u4F17\u53F7"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":a.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="\u590D\u5236\u5230\u77E5\u4E4E"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>')}else a.push('<button type="button" data-type="'+h.key+'" class="'+h.className+'"'+(h.tooltip?' aria-label="'+h.tooltip+'"':"")+'">'+h.text+"</button>")}i.innerHTML=a.join(""),r.length===0&&(i.style.display="none"),this.element.appendChild(i),this.element.appendChild(o),i.addEventListener(Object(b.b)(),function(m){var y=Object(Q.b)(m.target,"BUTTON");if(y){var T=y.getAttribute("data-type"),A=r.find(function(R){return(R==null?void 0:R.key)===T});A?A.click(T):T!=="mp-wechat"&&T!=="zhihu"?(o.style.width=T==="desktop"?"auto":T==="tablet"?"780px":"360px",o.scrollWidth>o.parentElement.clientWidth&&(o.style.width="auto"),n.render(t),i.querySelectorAll("button").forEach(function(R){R.classList.remove("vditor-preview__action--current")}),y.classList.add("vditor-preview__action--current")):n.copyToX(t,n.element.lastElementChild.cloneNode(!0),T)}})}return e.prototype.render=function(t,n){var o=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display!=="none")if(n)this.element.lastElementChild.innerHTML=n;else if(u(t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")!==""){var r=new Date().getTime(),i=u(t);this.mdTimeoutId=window.setTimeout(function(){if(t.options.preview.url){var a=new XMLHttpRequest;a.open("POST",t.options.preview.url),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE)if(a.status===200){var h=JSON.parse(a.responseText);if(h.code!==0)return void t.tip.show(h.msg);t.options.preview.transform&&(h.data=t.options.preview.transform(h.data)),o.element.lastElementChild.innerHTML=h.data,o.afterRender(t,r)}else{var m=t.lute.Md2HTML(i);t.options.preview.transform&&(m=t.options.preview.transform(m)),o.element.lastElementChild.innerHTML=m,o.afterRender(t,r)}},a.send(JSON.stringify({markdownText:i}))}else{var d=t.lute.Md2HTML(i);t.options.preview.transform&&(d=t.options.preview.transform(d)),o.element.lastElementChild.innerHTML=d,o.afterRender(t,r)}},t.options.preview.delay)}else this.element.lastElementChild.innerHTML="";else this.element.getAttribute("data-type")==="renderPerformance"&&t.tip.hide()},e.prototype.afterRender=function(t,n){t.options.preview.parse&&t.options.preview.parse(this.element);var o=new Date().getTime()-n;new Date().getTime()-n>2600?(t.tip.show(G.a[t.options.lang].performanceTip.replace("${x}",o.toString())),t.preview.element.setAttribute("data-type","renderPerformance")):t.preview.element.getAttribute("data-type")==="renderPerformance"&&(t.tip.hide(),t.preview.element.removeAttribute("data-type"));var r=t.preview.element.querySelector(".vditor-comment--focus");r&&r.classList.remove("vditor-comment--focus"),Object(ue.a)(t.preview.element.lastElementChild,t.options.lang),Object(Ee.a)(t.options.preview.hljs,t.preview.element.lastElementChild,t.options.cdn),Object(it.a)(t.preview.element.lastElementChild,t.options.cdn,t.options.theme),Object(fe.a)(t.preview.element.lastElementChild,t.options.cdn),Object(we.a)(t.preview.element.lastElementChild,t.options.cdn),Object(se.a)(t.preview.element.lastElementChild,t.options.cdn,t.options.theme),Object(at.a)(t.preview.element.lastElementChild,t.options.cdn,t.options.theme),Object(F.a)(t.preview.element.lastElementChild,t.options.cdn),Object(pe.a)(t.preview.element.lastElementChild,t.options.cdn),Object(Kn.a)(t.preview.element.lastElementChild);var i=t.preview.element,a=t.outline.render(t);a===""&&(a="[ToC]"),i.querySelectorAll('[data-type="toc-block"]').forEach(function(d){d.innerHTML=a,Object(De.a)(d,{cdn:t.options.cdn,math:t.options.preview.math})}),Object(De.a)(t.preview.element.lastElementChild,{cdn:t.options.cdn,math:t.options.preview.math})},e.prototype.copyToX=function(t,n,o){o===void 0&&(o="mp-wechat"),o!=="zhihu"?n.querySelectorAll(".katex-html .base").forEach(function(i){i.style.display="initial"}):n.querySelectorAll(".language-math").forEach(function(i){i.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'+i.getAttribute("data-math")+'\\" style="display: block; margin: 0 auto; max-width: 100%;">'}),n.style.backgroundColor="#fff",n.querySelectorAll("code").forEach(function(i){i.style.backgroundImage="none"}),this.element.append(n);var r=n.ownerDocument.createRange();r.selectNode(n),Object(k.h)(r),document.execCommand("copy"),this.element.lastElementChild.remove(),t.tip.show("\u5DF2\u590D\u5236\uFF0C\u53EF\u5230"+(o==="zhihu"?"\u77E5\u4E4E":"\u5FAE\u4FE1\u516C\u4F17\u53F7\u5E73\u53F0")+"\u8FDB\u884C\u7C98\u8D34")},e}(),Zn=function(){function e(t){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--"+t.options.resize.position,this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(t)}return e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("mousedown",function(o){var r=document,i=o.clientY,a=t.element.offsetHeight,d=63+t.element.querySelector(".vditor-toolbar").clientHeight;r.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),n.element.classList.add("vditor-resize--selected"),r.onmousemove=function(h){t.options.resize.position==="top"?t.element.style.height=Math.max(d,a+(i-h.clientY))+"px":t.element.style.height=Math.max(d,a+(h.clientY-i))+"px",t.options.typewriterMode&&(t.sv.element.style.paddingBottom=t.sv.element.parentElement.offsetHeight/2+"px")},r.onmouseup=function(){t.options.resize.after&&t.options.resize.after(t.element.offsetHeight-a),window.captureEvents&&window.captureEvents(),r.onmousemove=null,r.onmouseup=null,r.ondragstart=null,r.onselectstart=null,r.onselect=null,n.element.classList.remove("vditor-resize--selected")}})},e}(),Gn=function(){function e(t){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",t.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(t),kt(t,this.element),Et(t,this.element),Ct(t,this.element),Ot(t,this.element),xt(t,this.element),_t(t,this.element,this.copy),St(t,this.element,this.copy)}return e.prototype.copy=function(t,n){t.stopPropagation(),t.preventDefault(),t.clipboardData.setData("text/plain",et(n[n.currentMode].element))},e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("paste",function(o){vt(t,o,{pasteCode:function(r){document.execCommand("insertHTML",!1,r)}})}),this.element.addEventListener("scroll",function(){if(t.preview.element.style.display==="block"){var o=n.element.scrollTop,r=n.element.clientHeight,i=n.element.scrollHeight-parseFloat(n.element.style.paddingBottom||"0"),a=t.preview.element;a.scrollTop=o/r>.5?(o+r)*a.scrollHeight/i-r:o*a.scrollHeight/i}}),this.element.addEventListener("compositionstart",function(o){n.composingLock=!0}),this.element.addEventListener("compositionend",function(o){Object(b.e)()||ee(t,o),n.composingLock=!1}),this.element.addEventListener("input",function(o){o.inputType!=="deleteByDrag"&&o.inputType!=="insertFromDrop"&&(n.composingLock||o.data==="\u2018"||o.data==="\u201C"||o.data==="\u300A"||(n.preventInput?n.preventInput=!1:ee(t,o)))}),this.element.addEventListener("keyup",function(o){o.isComposing||Object(b.d)(o)||(o.key!=="Backspace"&&o.key!=="Delete"||t.sv.element.innerHTML===""||t.sv.element.childNodes.length!==1||!t.sv.element.firstElementChild||t.sv.element.firstElementChild.tagName!=="DIV"||t.sv.element.firstElementChild.childElementCount!==2||t.sv.element.firstElementChild.textContent!==""&&t.sv.element.textContent!==`
`?o.key==="Enter"&&be(t):t.sv.element.innerHTML="")})},e}(),Xn=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return e.prototype.show=function(t,n){var o=this;if(n===void 0&&(n=6e3),this.element.className="vditor-tip vditor-tip--show",n===0)return this.element.innerHTML='<div class="vditor-tip__content">'+t+`
<div class="vditor-tip__close">X</div></div>`,void this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){o.hide()});this.element.innerHTML='<div class="vditor-tip__content">'+t+"</div>",setTimeout(function(){o.hide()},n)},e.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},e}(),Ht=function(e,t){if(t.options.preview.mode!==e){switch(t.options.preview.mode=e,e){case"both":t.sv.element.style.display="block",t.preview.element.style.display="block",t.preview.render(t),_(t.toolbar.elements,["both"]);break;case"editor":t.sv.element.style.display="block",t.preview.element.style.display="none",C(t.toolbar.elements,["both"])}t.devtools&&t.devtools.renderEchart(t)}},Jn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yn=function(e){function t(n,o){var r=e.call(this,n,o)||this;return n.options.preview.mode==="both"&&r.element.children[0].classList.add("vditor-menu--current"),r.element.children[0].addEventListener(Object(b.b)(),function(i){r.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED)||(i.preventDefault(),n.currentMode==="sv"&&(n.options.preview.mode==="both"?Ht("editor",n):Ht("both",n)))}),r}return Jn(t,e),t}(ge),$n=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"},gn=g(22),Qn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),er=function(e){function t(n,o){var r=e.call(this,n,o)||this,i=r.element.children[0],a=document.createElement("div");a.className="vditor-hint"+(o.level===2?"":" vditor-panel--arrow");var d="";return c.a.CODE_THEME.forEach(function(h){d+="<button>"+h+"</button>"}),a.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+d+"</div>",a.addEventListener(Object(b.b)(),function(h){h.target.tagName==="BUTTON"&&(U(n,["subToolbar"]),n.options.preview.hljs.style=h.target.textContent,Object(gn.a)(h.target.textContent,n.options.cdn),h.preventDefault(),h.stopPropagation())}),r.element.appendChild(a),Z(n,a,i,o.level),r}return Qn(t,e),t}(ge),tr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),nr=function(e){function t(n,o){var r=e.call(this,n,o)||this,i=r.element.children[0],a=document.createElement("div");a.className="vditor-hint"+(o.level===2?"":" vditor-panel--arrow");var d="";return Object.keys(n.options.preview.theme.list).forEach(function(h){d+='<button data-type="'+h+'">'+n.options.preview.theme.list[h]+"</button>"}),a.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+d+"</div>",a.addEventListener(Object(b.b)(),function(h){h.target.tagName==="BUTTON"&&(U(n,["subToolbar"]),n.options.preview.theme.current=h.target.getAttribute("data-type"),Object(bt.a)(n.options.preview.theme.current,n.options.preview.theme.path),h.preventDefault(),h.stopPropagation())}),r.element.appendChild(a),Z(n,a,i,o.level),r}return tr(t,e),t}(ge),rr=function(){function e(t){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(t,"")}return e.prototype.render=function(t,n){var o=n.endsWith(`
`)?n.length-1:n.length;if(t.options.counter.type==="text"&&t[t.currentMode]){var r=t[t.currentMode].element.cloneNode(!0);r.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(i){i.remove()}),o=r.textContent.length}typeof t.options.counter.max=="number"?(o>t.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML=o+"/"+t.options.counter.max):this.element.innerHTML=""+o,this.element.setAttribute("aria-label",t.options.counter.type),t.options.counter.after&&t.options.counter.after(o,{enable:t.options.counter.enable,max:t.options.counter.max,type:t.options.counter.type})},e}(),or=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ir=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r.element.children[0].innerHTML=o.icon,r.element.children[0].addEventListener(Object(b.b)(),function(i){i.preventDefault(),i.currentTarget.classList.contains(c.a.CLASS_MENU_DISABLED)||o.click(i,n)}),r}return or(t,e),t}(ge),ar=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),lr=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r.element.firstElementChild.addEventListener(Object(b.b)(),function(i){var a=r.element.firstElementChild;a.classList.contains(c.a.CLASS_MENU_DISABLED)||(i.preventDefault(),a.classList.contains("vditor-menu--current")?(a.classList.remove("vditor-menu--current"),n.devtools.element.style.display="none",He(n)):(a.classList.add("vditor-menu--current"),n.devtools.element.style.display="block",He(n),n.devtools.renderEchart(n)))}),r}return ar(t,e),t}(ge),sr=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"},cr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),dr=function(e){function t(n,o){var r=e.call(this,n,o)||this,i=document.createElement("div");i.className="vditor-panel vditor-panel--arrow";var a="";Object.keys(n.options.hint.emoji).forEach(function(h){var m=n.options.hint.emoji[h];m.indexOf(".")>-1?a+='<button data-value=":'+h+': " data-key=":'+h+`:"><img
data-value=":`+h+': " data-key=":'+h+':" class="vditor-emojis__icon" src="'+m+'"/></button>':a+='<button data-value="'+m+` "
 data-key="`+h+'"><span class="vditor-emojis__icon">'+m+"</span></button>"});var d=`<div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`+(n.options.hint.emojiTail||"")+`</span>
</div>`;return i.innerHTML='<div class="vditor-emojis" style="max-height: '+(n.options.height==="auto"?"auto":n.options.height-80)+'px">'+a+"</div>"+d,r.element.appendChild(i),Z(n,i,r.element.children[0],o.level),r._bindEvent(n,i),r}return cr(t,e),t.prototype._bindEvent=function(n,o){o.querySelectorAll(".vditor-emojis button").forEach(function(r){r.addEventListener(Object(b.b)(),function(i){i.preventDefault();var a=r.getAttribute("data-value"),d=Object(k.b)(n),h=a;if(n.currentMode==="wysiwyg"?h=n.lute.SpinVditorDOM(a):n.currentMode==="ir"&&(h=n.lute.SpinVditorIRDOM(a)),a.indexOf(":")>-1&&n.currentMode!=="sv"){var m=document.createElement("div");m.innerHTML=h,h=m.firstElementChild.firstElementChild.outerHTML+" ",Object(k.d)(h,n)}else d.extractContents(),d.insertNode(document.createTextNode(a));d.collapse(!1),Object(k.h)(d),o.style.display="none",ie(n)}),r.addEventListener("mouseover",function(i){i.target.tagName==="BUTTON"&&(o.querySelector(".vditor-emojis__tip").innerHTML=i.target.getAttribute("data-key"))})})},t}(ge),bn=function(e,t,n){var o=document.createElement("a");"download"in o?(o.download=n,o.style.display="none",o.href=URL.createObjectURL(new Blob([t])),document.body.appendChild(o),o.click(),o.remove()):e.tip.show(G.a[e.options.lang].downloadTip,0)},pr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ur=function(e){function t(n,o){var r=e.call(this,n,o)||this,i=r.element.children[0],a=document.createElement("div");return a.className="vditor-hint"+(o.level===2?"":" vditor-panel--arrow"),a.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,a.addEventListener(Object(b.b)(),function(d){var h=d.target;if(h.tagName==="BUTTON"){switch(h.getAttribute("data-type")){case"markdown":(function(m){var y=u(m);bn(m,y,y.substr(0,10)+".md")})(n);break;case"pdf":(function(m){m.tip.show(G.a[m.options.lang].generate,3800);var y=document.querySelector("iframe");y.contentDocument.open(),y.contentDocument.write('<link rel="stylesheet" href="'+m.options.cdn+`/dist/index.css"/>
<script src="`+m.options.cdn+`/dist/method.min.js"></script>
<div id="preview"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    markdown: {
      theme: "`+m.options.preview.theme+`"
    },
    hljs: {
      style: "`+m.options.preview.hljs.style+`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
</script>`),y.contentDocument.close(),setTimeout(function(){y.contentWindow.postMessage(u(m),"*")},200)})(n);break;case"html":(function(m){var y=vn(m),T='<html><head><link rel="stylesheet" type="text/css" href="'+m.options.cdn+`/dist/index.css"/>
<script src="`+m.options.cdn+`/dist/method.min.js"></script></head>
<body><div class="vditor-reset" id="preview">`+y+`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`+m.options.preview.theme.current+"', '"+m.options.preview.theme.path+`');
    Vditor.codeRender(previewElement, '`+m.options.lang+`');
    Vditor.highlightRender(`+JSON.stringify(m.options.preview.hljs)+", previewElement, '"+m.options.cdn+`');
    Vditor.mathRender(previewElement, {
        cdn: '`+m.options.cdn+`',
        math: `+JSON.stringify(m.options.preview.math)+`,
    });
    Vditor.mermaidRender(previewElement, '`+m.options.cdn+"', '"+m.options.theme+`');
    Vditor.flowchartRender(previewElement, '`+m.options.cdn+`');
    Vditor.graphvizRender(previewElement, '`+m.options.cdn+`');
    Vditor.chartRender(previewElement, '`+m.options.cdn+"', '"+m.options.theme+`');
    Vditor.mindmapRender(previewElement, '`+m.options.cdn+"', '"+m.options.theme+`');
    Vditor.abcRender(previewElement, '`+m.options.cdn+`');
    Vditor.mediaRender(previewElement);
</script></body></html>`;bn(m,T,y.substr(0,10)+".html")})(n)}U(n,["subToolbar"]),d.preventDefault(),d.stopPropagation()}}),r.element.appendChild(a),Z(n,a,i,o.level),r}return pr(t,e),t}(ge),fr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),mr=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r._bindEvent(n,o),r}return fr(t,e),t.prototype._bindEvent=function(n,o){this.element.children[0].addEventListener(Object(b.b)(),function(r){r.preventDefault(),n.element.className.includes("vditor--fullscreen")?(o.level||(this.innerHTML=o.icon),n.element.style.zIndex="",document.body.style.overflow="",n.element.classList.remove("vditor--fullscreen"),Object.keys(n.toolbar.elements).forEach(function(i){var a=n.toolbar.elements[i].firstChild;a&&(a.className=a.className.replace("__s","__n"))}),n.counter&&(n.counter.element.className=n.counter.element.className.replace("__s","__n"))):(o.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),n.element.style.zIndex=n.options.fullscreen.index.toString(),document.body.style.overflow="hidden",n.element.classList.add("vditor--fullscreen"),Object.keys(n.toolbar.elements).forEach(function(i){var a=n.toolbar.elements[i].firstChild;a&&(a.className=a.className.replace("__n","__s"))}),n.counter&&(n.counter.element.className=n.counter.element.className.replace("__n","__s"))),n.devtools&&n.devtools.renderEchart(n),o.click&&o.click(r,n),He(n),lt(n)})},t}(ge),vr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),hr=function(e){function t(n,o){var r=e.call(this,n,o)||this,i=document.createElement("div");return i.className="vditor-hint vditor-panel--arrow",i.innerHTML='<button data-tag="h1" data-value="# ">Heading 1 '+Object(b.g)("&lt;\u2325\u23181>")+`</button>
<button data-tag="h2" data-value="## ">Heading 2 &lt;`+Object(b.g)("\u2325\u23182")+`></button>
<button data-tag="h3" data-value="### ">Heading 3 &lt;`+Object(b.g)("\u2325\u23183")+`></button>
<button data-tag="h4" data-value="#### ">Heading 4 &lt;`+Object(b.g)("\u2325\u23184")+`></button>
<button data-tag="h5" data-value="##### ">Heading 5 &lt;`+Object(b.g)("\u2325\u23185")+`></button>
<button data-tag="h6" data-value="###### ">Heading 6 &lt;`+Object(b.g)("\u2325\u23186")+"></button>",r.element.appendChild(i),r._bindEvent(n,i),r}return vr(t,e),t.prototype._bindEvent=function(n,o){var r=this.element.children[0];r.addEventListener(Object(b.b)(),function(a){a.preventDefault(),r.classList.contains(c.a.CLASS_MENU_DISABLED)||(r.blur(),r.classList.contains("vditor-menu--current")?(n.currentMode==="wysiwyg"?(yt(n),he(n)):n.currentMode==="ir"&&nt(n,""),r.classList.remove("vditor-menu--current")):(U(n,["subToolbar"]),o.style.display="block"))});for(var i=0;i<6;i++)o.children.item(i).addEventListener(Object(b.b)(),function(a){a.preventDefault(),n.currentMode==="wysiwyg"?(st(n,a.target.getAttribute("data-tag")),he(n),r.classList.add("vditor-menu--current")):n.currentMode==="ir"?(nt(n,a.target.getAttribute("data-value")),r.classList.add("vditor-menu--current")):Ft(n,a.target.getAttribute("data-value")),o.style.display="none"})},t}(ge),gr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),br=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r.element.children[0].addEventListener(Object(b.b)(),function(i){i.preventDefault(),n.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown \u4F7F\u7528\u6307\u5357</div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank">\u8BED\u6CD5\u901F\u67E5\u624B\u518C</a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank">\u57FA\u7840\u8BED\u6CD5</a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank">\u6269\u5C55\u8BED\u6CD5</a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank">\u952E\u76D8\u5FEB\u6377\u952E</a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor \u652F\u6301</div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank">\u5B98\u65B9\u8BA8\u8BBA\u533A</a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank">\u5F00\u53D1\u624B\u518C</a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank">\u6F14\u793A\u5730\u5740</a></li>
    </ul>
</div></div>`,0)}),r}return gr(t,e),t}(ge),yr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),wr=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r.element.children[0].addEventListener(Object(b.b)(),function(i){if(i.preventDefault(),!r.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED)&&n.currentMode!=="sv"){var a=Object(k.b)(n),d=Object(w.f)(a.startContainer,"LI");d&&Qt(n,d,a)}}),r}return yr(t,e),t}(ge),kr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Er=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r.element.children[0].addEventListener(Object(b.b)(),function(i){i.preventDefault(),n.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em>\u4E0B\u4E00\u4EE3\u7684 Markdown \u7F16\u8F91\u5668\uFF0C\u4E3A\u672A\u6765\u800C\u6784\u5EFA</em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://cdn.jsdelivr.net/npm/vditor/src/assets/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor \u662F\u4E00\u6B3E\u6D4F\u89C8\u5668\u7AEF\u7684 Markdown \u7F16\u8F91\u5668\uFF0C\u652F\u6301\u6240\u89C1\u5373\u6240\u5F97\u3001\u5373\u65F6\u6E32\u67D3\uFF08\u7C7B\u4F3C Typora\uFF09\u548C\u5206\u5C4F\u9884\u89C8\u6A21\u5F0F\u3002
        \u5B83\u4F7F\u7528 TypeScript \u5B9E\u73B0\uFF0C\u652F\u6301\u539F\u751F JavaScript\u3001Vue\u3001React\u3001Angular\uFF0C\u63D0\u4F9B<a target="_blank" href="https://b3log.org/siyuan">\u684C\u9762\u7248</a>\u3002
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        \u9879\u76EE\u5730\u5740\uFF1A<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        \u5F00\u6E90\u534F\u8BAE\uFF1AMIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        \u7EC4\u4EF6\u7248\u672C\uFF1AVditor v`+c.b+" / Lute v"+Lute.Version+`
        </li>
        <li>
        \u8D5E\u52A9\u6350\u8D60\uFF1A<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`,0)}),r}return kr(t,e),t}(ge),xr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),_r=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r.element.children[0].addEventListener(Object(b.b)(),function(i){i.preventDefault(),r.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED)||n.currentMode==="sv"||pt(n,"afterend")}),r}return xr(t,e),t}(ge),Sr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cr=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r.element.children[0].addEventListener(Object(b.b)(),function(i){i.preventDefault(),r.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED)||n.currentMode==="sv"||pt(n,"beforebegin")}),r}return Sr(t,e),t}(ge),Or=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tr=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r.element.children[0].addEventListener(Object(b.b)(),function(i){if(i.preventDefault(),!r.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED)&&n.currentMode!=="sv"){var a=Object(k.b)(n),d=Object(w.f)(a.startContainer,"LI");d&&Lt(n,d,a,d.parentElement)}}),r}return Or(t,e),t}(ge),Lr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mr=function(e){function t(n,o){var r=e.call(this,n,o)||this;return n.options.outline&&r.element.firstElementChild.classList.add("vditor-menu--current"),r.element.children[0].addEventListener(Object(b.b)(),function(i){i.preventDefault(),n.toolbar.elements.outline.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED)||(n.options.outline.enable=!r.element.firstElementChild.classList.contains("vditor-menu--current"),n.outline.toggle(n,n.options.outline.enable))}),r}return Lr(t,e),t}(ge),jr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ar=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r._bindEvent(n),r}return jr(t,e),t.prototype._bindEvent=function(n){var o=this;this.element.children[0].addEventListener(Object(b.b)(),function(r){r.preventDefault();var i=o.element.firstElementChild;if(!i.classList.contains(c.a.CLASS_MENU_DISABLED)){var a=c.a.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);i.classList.contains("vditor-menu--current")?(i.classList.remove("vditor-menu--current"),n.currentMode==="sv"?(n.sv.element.style.display="block",n.options.preview.mode==="both"?n.preview.element.style.display="block":n.preview.element.style.display="none"):(n[n.currentMode].element.parentElement.style.display="block",n.preview.element.style.display="none"),S(n.toolbar.elements,a),n.outline.render(n)):(x(n.toolbar.elements,a),n.preview.element.style.display="block",n.currentMode==="sv"?n.sv.element.style.display="none":n[n.currentMode].element.parentElement.style.display="none",n.preview.render(n),i.classList.add("vditor-menu--current"),U(n,["subToolbar","hint","popover"]),setTimeout(function(){n.outline.render(n)},n.options.preview.delay+10)),He(n)}})},t}(ge),Hr=function(){function e(t){var n;if(this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0,typeof AudioContext!="undefined")n=new AudioContext;else{if(!webkitAudioContext)return;n=new webkitAudioContext}this.DEFAULT_SAMPLE_RATE=n.sampleRate;var o=n.createGain();n.createMediaStreamSource(t).connect(o),this.recorder=n.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,o.connect(this.recorder),this.recorder.connect(n.destination),this.readyFlag=!0}return e.prototype.cloneChannelData=function(t,n){this.leftChannel.push(new Float32Array(t)),this.rightChannel.push(new Float32Array(n)),this.recordingLength+=2048},e.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},e.prototype.stopRecording=function(){this.isRecording=!1},e.prototype.buildWavFileBlob=function(){for(var t=this.mergeBuffers(this.leftChannel),n=this.mergeBuffers(this.rightChannel),o=new Float32Array(t.length),r=0;r<t.length;++r)o[r]=.5*(t[r]+n[r]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(o=this.downSampleBuffer(o,this.SAMPLE_RATE));var i=44+2*o.length,a=new ArrayBuffer(i),d=new DataView(a);this.writeUTFBytes(d,0,"RIFF"),d.setUint32(4,i,!0),this.writeUTFBytes(d,8,"WAVE"),this.writeUTFBytes(d,12,"fmt "),d.setUint32(16,16,!0),d.setUint16(20,1,!0),d.setUint16(22,1,!0),d.setUint32(24,this.SAMPLE_RATE,!0),d.setUint32(28,2*this.SAMPLE_RATE,!0),d.setUint16(32,2,!0),d.setUint16(34,16,!0);var h=2*o.length;this.writeUTFBytes(d,36,"data"),d.setUint32(40,h,!0);for(var m=o.length,y=44,T=0;T<m;T++)d.setInt16(y,32767*o[T],!0),y+=2;return new Blob([d],{type:"audio/wav"})},e.prototype.downSampleBuffer=function(t,n){if(n===this.DEFAULT_SAMPLE_RATE||n>this.DEFAULT_SAMPLE_RATE)return t;for(var o=this.DEFAULT_SAMPLE_RATE/n,r=Math.round(t.length/o),i=new Float32Array(r),a=0,d=0;a<i.length;){for(var h=Math.round((a+1)*o),m=0,y=0,T=d;T<h&&T<t.length;T++)m+=t[T],y++;i[a]=m/y,a++,d=h}return i},e.prototype.mergeBuffers=function(t){for(var n=new Float32Array(this.recordingLength),o=0,r=t.length,i=0;i<r;++i){var a=t[i];n.set(a,o),o+=a.length}return n},e.prototype.writeUTFBytes=function(t,n,o){for(var r=o.length,i=0;i<r;i++)t.setUint8(n+i,o.charCodeAt(i))},e}(),Nr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dr=function(e){function t(n,o){var r=e.call(this,n,o)||this;return r._bindEvent(n),r}return Nr(t,e),t.prototype._bindEvent=function(n){var o,r=this;this.element.children[0].addEventListener(Object(b.b)(),function(i){if(i.preventDefault(),!r.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED)){var a=n[n.currentMode].element;if(o)if(o.isRecording){o.stopRecording(),n.tip.hide();var d=new File([o.buildWavFileBlob()],"record"+new Date().getTime()+".wav",{type:"video/webm"});Tt(n,[d]),r.element.children[0].classList.remove("vditor-menu--current")}else n.tip.show(G.a[n.options.lang].recording),a.setAttribute("contenteditable","false"),o.startRecordingNewWavFile(),r.element.children[0].classList.add("vditor-menu--current");else navigator.mediaDevices.getUserMedia({audio:!0}).then(function(h){(o=new Hr(h)).recorder.onaudioprocess=function(m){if(o.isRecording){var y=m.inputBuffer.getChannelData(0),T=m.inputBuffer.getChannelData(1);o.cloneChannelData(y,T)}},o.startRecordingNewWavFile(),n.tip.show(G.a[n.options.lang].recording),a.setAttribute("contenteditable","false"),r.element.children[0].classList.add("vditor-menu--current")}).catch(function(){n.tip.show(G.a[n.options.lang]["record-tip"])})}})},t}(ge),Rr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ir=function(e){function t(n,o){var r=e.call(this,n,o)||this;return x({redo:r.element},["redo"]),r.element.children[0].addEventListener(Object(b.b)(),function(i){i.preventDefault(),r.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED)||n.undo.redo(n)}),r}return Rr(t,e),t}(ge),Pr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Br=function(e){function t(n,o){var r=e.call(this,n,o)||this;return x({undo:r.element},["undo"]),r.element.children[0].addEventListener(Object(b.b)(),function(i){i.preventDefault(),r.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED)||n.undo.undo(n)}),r}return Pr(t,e),t}(ge),qr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ur=function(e){function t(n,o){var r=e.call(this,n,o)||this,i='<input type="file"';return n.options.upload.multiple&&(i+=' multiple="multiple"'),n.options.upload.accept&&(i+=' accept="'+n.options.upload.accept+'"'),r.element.children[0].innerHTML=""+(o.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>')+i+">",r._bindEvent(n),r}return qr(t,e),t.prototype._bindEvent=function(n){var o=this;this.element.children[0].addEventListener(Object(b.b)(),function(r){if(o.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED))return r.stopPropagation(),void r.preventDefault()}),this.element.querySelector("input").addEventListener("change",function(r){if(o.element.firstElementChild.classList.contains(c.a.CLASS_MENU_DISABLED))return r.stopPropagation(),void r.preventDefault();r.target.files.length!==0&&Tt(n,r.target.files,r.target)})},t}(ge),zr=function(){function e(t){var n=this,o=t.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",o.toolbar.forEach(function(r,i){var a=n.genItem(t,r,i);if(n.element.appendChild(a),r.toolbar){var d=document.createElement("div");d.className="vditor-hint vditor-panel--arrow",d.addEventListener(Object(b.b)(),function(h){d.style.display="none"}),r.toolbar.forEach(function(h,m){h.level=2,d.appendChild(n.genItem(t,h,i+m))}),a.appendChild(d),Z(t,d,a.children[0])}}),t.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),t.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),t.options.counter.enable&&(t.counter=new rr(t),this.element.appendChild(t.counter.element))}return e.prototype.genItem=function(t,n,o){var r;switch(n.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":r=new ge(t,n);break;case"emoji":r=new dr(t,n);break;case"headings":r=new hr(t,n);break;case"|":r=new sr;break;case"br":r=new $n;break;case"undo":r=new Br(t,n);break;case"redo":r=new Ir(t,n);break;case"help":r=new br(t,n);break;case"both":r=new Yn(t,n);break;case"preview":r=new Ar(t,n);break;case"fullscreen":r=new mr(t,n);break;case"upload":r=new Ur(t,n);break;case"record":r=new Dr(t,n);break;case"info":r=new Er(t,n);break;case"edit-mode":r=new Ln(t,n);break;case"devtools":r=new lr(t,n);break;case"outdent":r=new Tr(t,n);break;case"indent":r=new wr(t,n);break;case"outline":r=new Mr(t,n);break;case"insert-after":r=new _r(t,n);break;case"insert-before":r=new Cr(t,n);break;case"code-theme":r=new er(t,n);break;case"content-theme":r=new nr(t,n);break;case"export":r=new ur(t,n);break;default:r=new ir(t,n)}if(r){var i=n.name;return i!=="br"&&i!=="|"||(i+=o),this.elements[i]=r.element,r.element}},e}(),Wr=g(27),Vr=g.n(Wr),Kr=function(){function e(){this.stackSize=50,this.resetStack(),this.dmp=new Vr.a}return e.prototype.clearStack=function(t){this.resetStack(),this.resetIcon(t)},e.prototype.resetIcon=function(t){t.toolbar&&(this[t.currentMode].undoStack.length>1?S(t.toolbar.elements,["undo"]):x(t.toolbar.elements,["undo"]),this[t.currentMode].redoStack.length!==0?S(t.toolbar.elements,["redo"]):x(t.toolbar.elements,["redo"]))},e.prototype.undo=function(t){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[t.currentMode].undoStack.length<2)){var n=this[t.currentMode].undoStack.pop();n&&(this[t.currentMode].redoStack.push(n),this.renderDiff(n,t),this[t.currentMode].hasUndo=!0,U(t,["hint"]))}},e.prototype.redo=function(t){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"){var n=this[t.currentMode].redoStack.pop();n&&(this[t.currentMode].undoStack.push(n),this.renderDiff(n,t,!0))}},e.prototype.recordFirstPosition=function(t,n){if(getSelection().rangeCount!==0&&!(this[t.currentMode].undoStack.length!==1||this[t.currentMode].undoStack[0].length===0||this[t.currentMode].redoStack.length>0||Object(b.e)()&&n.key==="Backspace"||Object(b.f)())){var o=this.addCaret(t);o.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[t.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[t.currentMode].undoStack[0][0].diffs[0][1]=o,this[t.currentMode].lastText=o)}},e.prototype.addToUndoStack=function(t){var n=this.addCaret(t,!0),o=this.dmp.diff_main(n,this[t.currentMode].lastText,!0),r=this.dmp.patch_make(n,this[t.currentMode].lastText,o);r.length===0&&this[t.currentMode].undoStack.length>0||(this[t.currentMode].lastText=n,this[t.currentMode].undoStack.push(r),this[t.currentMode].undoStack.length>this.stackSize&&this[t.currentMode].undoStack.shift(),this[t.currentMode].hasUndo&&(this[t.currentMode].redoStack=[],this[t.currentMode].hasUndo=!1,x(t.toolbar.elements,["redo"])),this[t.currentMode].undoStack.length>1&&S(t.toolbar.elements,["undo"]))},e.prototype.renderDiff=function(t,n,o){var r;if(o===void 0&&(o=!1),o){var i=this.dmp.patch_deepCopy(t).reverse();i.forEach(function(d){d.diffs.forEach(function(h){h[0]=-h[0]})}),r=this.dmp.patch_apply(i,this[n.currentMode].lastText)[0]}else r=this.dmp.patch_apply(t,this[n.currentMode].lastText)[0];if(this[n.currentMode].lastText=r,n[n.currentMode].element.innerHTML=r,n.currentMode!=="sv"&&n[n.currentMode].element.querySelectorAll(".vditor-"+n.currentMode+"__preview[data-render='2']").forEach(function(d){ae(d,n)}),n[n.currentMode].element.querySelector("wbr"))Object(k.f)(n[n.currentMode].element,n[n.currentMode].element.ownerDocument.createRange()),be(n);else{var a=getSelection().getRangeAt(0);a.setEndBefore(n[n.currentMode].element),a.collapse(!1)}ie(n,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),We(n),n[n.currentMode].element.querySelectorAll(".vditor-"+n.currentMode+"__preview[data-render='2']").forEach(function(d){ae(d,n)}),this[n.currentMode].undoStack.length>1?S(n.toolbar.elements,["undo"]):x(n.toolbar.elements,["undo"]),this[n.currentMode].redoStack.length!==0?S(n.toolbar.elements,["redo"]):x(n.toolbar.elements,["redo"])},e.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},e.prototype.addCaret=function(t,n){var o;if(n===void 0&&(n=!1),getSelection().rangeCount!==0&&!t[t.currentMode].element.querySelector("wbr")){var r=getSelection().getRangeAt(0);if(t[t.currentMode].element.contains(r.startContainer)){o=r.cloneRange();var i=document.createElement("span");i.className="vditor-wbr",r.insertNode(i)}}t.ir.element.cloneNode(!0).querySelectorAll(".vditor-"+t.currentMode+"__preview[data-render='1']").forEach(function(d){(d.firstElementChild.classList.contains("language-echarts")||d.firstElementChild.classList.contains("language-plantuml")||d.firstElementChild.classList.contains("language-mindmap"))&&(d.firstElementChild.removeAttribute("_echarts_instance_"),d.firstElementChild.removeAttribute("data-processed"),d.firstElementChild.innerHTML=d.previousElementSibling.firstElementChild.innerHTML,d.setAttribute("data-render","2")),d.firstElementChild.classList.contains("language-math")&&(d.setAttribute("data-render","2"),d.firstElementChild.textContent=d.firstElementChild.getAttribute("data-math"),d.firstElementChild.removeAttribute("data-math"))});var a=t[t.currentMode].element.innerHTML;return t[t.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(d){d.remove()}),n&&o&&Object(k.h)(o),a.replace('<span class="vditor-wbr"></span>',"<wbr>")},e}(),Fr=g(24),Zr=function(){function e(t){this.defaultOptions={after:void 0,cache:{enable:!0},cdn:c.a.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"\u{1F44D}","-1":"\u{1F44E}",confused:"\u{1F615}",eyes:"\u{1F440}\uFE0F",heart:"\u2764\uFE0F",rocket:"\u{1F680}\uFE0F",smile:"\u{1F604}",tada:"\u{1F389}\uFE0F"},emojiPath:c.a.CDN+"/dist/images/emoji",extend:[]},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:c.a.HLJS_OPTIONS,markdown:c.a.MARKDOWN_OPTIONS,math:c.a.MATH_OPTIONS,maxWidth:800,mode:"both",theme:c.a.THEME_OPTIONS},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(n){return n.replace(/\W/g,"")},linkToImgUrl:"",max:10485760,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=t}return e.prototype.merge=function(){var t,n,o;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),((n=(t=this.options.preview)===null||t===void 0?void 0:t.theme)===null||n===void 0?void 0:n.list)&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),((o=this.options.hint)===null||o===void 0?void 0:o.emoji)&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment));var r=Object(Fr.a)(this.defaultOptions,this.options);if(r.cache.enable&&!r.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return r},e.prototype.mergeToolbar=function(t){var n=this,o=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"\u2318E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"\u2318H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"\u2318B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"\u2318I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"\u2318D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"\u2318K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"\u2318L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"\u2318O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"\u2318J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"\u21E7\u2318I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"\u21E7\u2318O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"\u2318;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"\u21E7\u2318H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"\u2318U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"\u2318G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"\u21E7\u2318B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"\u21E7\u2318E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"\u2318M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"\u2318Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"\u2318Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"\u2318'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"\u2318P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],r=[];return t.forEach(function(i){var a=i;o.forEach(function(d){typeof i=="string"&&d.name===i&&(a=d),typeof i=="object"&&d.name===i.name&&(a=Object.assign({},d,i))}),i.toolbar&&(a.toolbar=n.mergeToolbar(i.toolbar)),r.push(a)}),r},e}(),Gr=function(){function e(t){var n=this;this.composingLock=!1,this.commentIds=[];var o=document.createElement("div");o.className="vditor-wysiwyg",o.innerHTML='<pre class="vditor-reset" placeholder="'+t.options.placeholder+`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`+G.a[t.options.lang].comment+`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`,this.element=o.firstElementChild,this.popover=o.firstElementChild.nextElementSibling,this.selectPopover=o.lastElementChild,this.bindEvent(t),kt(t,this.element),Wt(t,this.element),Et(t,this.element),Ct(t,this.element),Ot(t,this.element),xt(t,this.element),_t(t,this.element,this.copy),St(t,this.element,this.copy),t.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var r,i,a=Lute.NewNodeID(),d=getSelection().getRangeAt(0),h=d.cloneRange(),m=d.extractContents(),y=!1,T=!1;m.childNodes.forEach(function(O,j){var W=!1;if(O.nodeType===3?W=!0:O.classList.contains("vditor-comment")?O.classList.contains("vditor-comment")&&O.setAttribute("data-cmtids",O.getAttribute("data-cmtids")+" "+a):W=!0,W)if(O.nodeType!==3&&O.getAttribute("data-block")==="0"&&j===0&&h.startOffset>0)O.innerHTML='<span class="vditor-comment" data-cmtids="'+a+'">'+O.innerHTML+"</span>",r=O;else if(O.nodeType!==3&&O.getAttribute("data-block")==="0"&&j===m.childNodes.length-1&&h.endOffset<h.endContainer.textContent.length)O.innerHTML='<span class="vditor-comment" data-cmtids="'+a+'">'+O.innerHTML+"</span>",i=O;else if(O.nodeType!==3&&O.getAttribute("data-block")==="0")j===0?y=!0:j===m.childNodes.length-1&&(T=!0),O.innerHTML='<span class="vditor-comment" data-cmtids="'+a+'">'+O.innerHTML+"</span>";else{var q=document.createElement("span");q.classList.add("vditor-comment"),q.setAttribute("data-cmtids",a),O.parentNode.insertBefore(q,O),q.appendChild(O)}});var A=Object(w.c)(h.startContainer);A&&(r?(A.insertAdjacentHTML("beforeend",r.innerHTML),r.remove()):A.textContent.trim().replace(c.a.ZWSP,"")===""&&y&&A.remove());var R=Object(w.c)(h.endContainer);R&&(i?(R.insertAdjacentHTML("afterbegin",i.innerHTML),i.remove()):R.textContent.trim().replace(c.a.ZWSP,"")===""&&T&&R.remove()),d.insertNode(m),t.options.comment.add(a,d.toString(),n.getComments(t,!0)),he(t,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),n.hideComment()})}return e.prototype.getComments=function(t,n){var o=this;if(n===void 0&&(n=!1),t.currentMode!=="wysiwyg"||!t.options.comment.enable)return[];this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(i){o.commentIds=o.commentIds.concat(i.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var r=[];return n?(this.commentIds.forEach(function(i){r.push({id:i,top:o.element.querySelector('.vditor-comment[data-cmtids="'+i+'"]').offsetTop})}),r):void 0},e.prototype.triggerRemoveComment=function(t){var n,o,r;if(t.currentMode==="wysiwyg"&&t.options.comment.enable&&t.wysiwyg.commentIds.length>0){var i=JSON.parse(JSON.stringify(this.commentIds));this.getComments(t);var a=(n=i,o=this.commentIds,r=new Set(o),n.filter(function(d){return!r.has(d)}));a.length>0&&t.options.comment.remove(a)}},e.prototype.showComment=function(){var t=Object(k.a)(this.element);this.selectPopover.setAttribute("style","left:"+t.left+"px;display:block;top:"+Math.max(-8,t.top-21)+"px")},e.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},e.prototype.copy=function(t,n){var o=getSelection().getRangeAt(0);if(o.toString()!==""){t.stopPropagation(),t.preventDefault();var r=Object(w.f)(o.startContainer,"CODE"),i=Object(w.f)(o.endContainer,"CODE");if(r&&i&&i.isSameNode(r)){var a="";return a=r.parentElement.tagName==="PRE"?o.toString():"`"+o.toString()+"`",t.clipboardData.setData("text/plain",a),void t.clipboardData.setData("text/html","")}var d=Object(w.f)(o.startContainer,"A"),h=Object(w.f)(o.endContainer,"A");if(d&&h&&h.isSameNode(d)){var m=d.getAttribute("title")||"";return m&&(m=' "'+m+'"'),t.clipboardData.setData("text/plain","["+o.toString()+"]("+d.getAttribute("href")+m+")"),void t.clipboardData.setData("text/html","")}var y=document.createElement("div");y.appendChild(o.cloneContents()),t.clipboardData.setData("text/plain",n.lute.VditorDOM2Md(y.innerHTML).trim()),t.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(t){var n=this;window.addEventListener("scroll",function(){if(U(t,["hint"]),n.popover.style.display==="block"&&n.selectPopover.style.display==="block"){var o=parseInt(n.popover.getAttribute("data-top"),10);if(t.options.height==="auto"){if(t.options.toolbarConfig.pin){var r=Math.max(o,window.scrollY-t.element.offsetTop-8)+"px";n.popover.style.display==="block"&&(n.popover.style.top=r),n.selectPopover.style.display==="block"&&(n.selectPopover.style.top=r)}}else if(t.options.toolbarConfig.pin&&t.toolbar.element.getBoundingClientRect().top===0){var i=Math.max(window.scrollY-t.element.offsetTop-8,Math.min(o-t.wysiwyg.element.scrollTop,n.element.clientHeight-21))+"px";n.popover.style.display==="block"&&(n.popover.style.top=i),n.selectPopover.style.display==="block"&&(n.selectPopover.style.top=i)}}}),this.element.addEventListener("scroll",function(){if(U(t,["hint"]),t.options.comment&&t.options.comment.enable&&t.options.comment.scroll&&t.options.comment.scroll(t.wysiwyg.element.scrollTop),n.popover.style.display==="block"){var o=parseInt(n.popover.getAttribute("data-top"),10)-t.wysiwyg.element.scrollTop,r=-8;t.options.toolbarConfig.pin&&t.toolbar.element.getBoundingClientRect().top===0&&(r=window.scrollY-t.element.offsetTop+r);var i=Math.max(r,Math.min(o,n.element.clientHeight-21))+"px";n.popover.style.top=i,n.selectPopover.style.top=i}}),this.element.addEventListener("paste",function(o){vt(t,o,{pasteCode:function(r){var i=Object(k.b)(t),a=document.createElement("template");a.innerHTML=r,i.insertNode(a.content.cloneNode(!0));var d=Object(w.d)(i.startContainer,"data-block","0");d?d.outerHTML=t.lute.SpinVditorDOM(d.outerHTML):t.wysiwyg.element.innerHTML=t.lute.SpinVditorDOM(t.wysiwyg.element.innerHTML),Object(k.f)(t.wysiwyg.element,i)}})}),this.element.addEventListener("compositionstart",function(){n.composingLock=!0}),this.element.addEventListener("compositionend",function(o){var r=Object(Q.a)(getSelection().getRangeAt(0).startContainer);r&&r.textContent===""?z(t):(Object(b.e)()||dt(t,getSelection().getRangeAt(0).cloneRange(),o),n.composingLock=!1)}),this.element.addEventListener("input",function(o){if(o.inputType!=="deleteByDrag"&&o.inputType!=="insertFromDrop"){if(n.preventInput)n.preventInput=!1;else if(!n.composingLock&&o.data!=="\u2018"&&o.data!=="\u201C"&&o.data!=="\u300A"){var r=getSelection().getRangeAt(0),i=Object(w.c)(r.startContainer);if(i||(qt(t,r),i=Object(w.c)(r.startContainer)),i){for(var a=Object(k.c)(i,t.wysiwyg.element,r).start,d=!0,h=a-1;h>i.textContent.substr(0,a).lastIndexOf(`
`);h--)if(i.textContent.charAt(h)!==" "&&i.textContent.charAt(h)!=="	"){d=!1;break}a===0&&(d=!1);var m=!0;for(h=a-1;h<i.textContent.length;h++)if(i.textContent.charAt(h)!==" "&&i.textContent.charAt(h)!==`
`){m=!1;break}var y=Object(Q.a)(getSelection().getRangeAt(0).startContainer);y&&y.textContent===""&&(z(t),y.remove()),d&&i.getAttribute("data-type")!=="code-block"||m||jt(i.innerHTML)||Mt(i.innerHTML)&&i.previousElementSibling||dt(t,r,o)}}}}),this.element.addEventListener("click",function(o){if(o.target.tagName==="INPUT"){var r=o.target;return r.checked?r.setAttribute("checked","checked"):r.removeAttribute("checked"),n.preventInput=!0,void he(t)}if(o.target.tagName!=="IMG"||o.target.parentElement.classList.contains("vditor-wysiwyg__preview")){o.target.tagName==="A"&&window.open(o.target.getAttribute("href"));var i=Object(k.b)(t);if(o.target.isEqualNode(n.element)&&n.element.lastElementChild&&i.collapsed){var a=n.element.lastElementChild.getBoundingClientRect();o.y>a.top+a.height&&(n.element.lastElementChild.tagName==="P"&&n.element.lastElementChild.textContent.trim().replace(c.a.ZWSP,"")===""?(i.selectNodeContents(n.element.lastElementChild),i.collapse(!1)):(n.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+c.a.ZWSP+"<wbr></p>"),Object(k.f)(n.element,i)))}Pe(t);var d=Object(w.e)(o.target,"vditor-wysiwyg__preview");d||(d=Object(w.e)(Object(k.b)(t).startContainer,"vditor-wysiwyg__preview")),d&&$e(d,t),K(o,t)}else o.target.getAttribute("data-type")==="link-ref"?Ut(t,o.target):function(h,m){var y=h.target;m.wysiwyg.popover.innerHTML="";var T=function(){y.setAttribute("src",R.value),y.setAttribute("alt",j.value),y.setAttribute("title",q.value)},A=document.createElement("span");A.setAttribute("aria-label",G.a[m.options.lang].imageURL),A.className="vditor-tooltipped vditor-tooltipped__n";var R=document.createElement("input");A.appendChild(R),R.className="vditor-input",R.setAttribute("placeholder",G.a[m.options.lang].imageURL),R.value=y.getAttribute("src")||"",R.oninput=function(){T()},R.onkeydown=function(D){Oe(m,D)};var O=document.createElement("span");O.setAttribute("aria-label",G.a[m.options.lang].alternateText),O.className="vditor-tooltipped vditor-tooltipped__n";var j=document.createElement("input");O.appendChild(j),j.className="vditor-input",j.setAttribute("placeholder",G.a[m.options.lang].alternateText),j.style.width="52px",j.value=y.getAttribute("alt")||"",j.oninput=function(){T()},j.onkeydown=function(D){Oe(m,D)};var W=document.createElement("span");W.setAttribute("aria-label",G.a[m.options.lang].title),W.className="vditor-tooltipped vditor-tooltipped__n";var q=document.createElement("input");W.appendChild(q),q.className="vditor-input",q.setAttribute("placeholder",G.a[m.options.lang].title),q.value=y.getAttribute("title")||"",q.oninput=function(){T()},q.onkeydown=function(D){Oe(m,D)},Me(y,m),m.wysiwyg.popover.insertAdjacentElement("beforeend",A),m.wysiwyg.popover.insertAdjacentElement("beforeend",O),m.wysiwyg.popover.insertAdjacentElement("beforeend",W),Le(m,y)}(o,t)}),this.element.addEventListener("keyup",function(o){if(!o.isComposing&&!Object(b.d)(o)){o.key==="Enter"&&be(t),o.key!=="Backspace"&&o.key!=="Delete"||t.wysiwyg.element.innerHTML===""||t.wysiwyg.element.childNodes.length!==1||!t.wysiwyg.element.firstElementChild||t.wysiwyg.element.firstElementChild.tagName!=="P"||t.wysiwyg.element.firstElementChild.childElementCount!==0||t.wysiwyg.element.textContent!==""&&t.wysiwyg.element.textContent!==`
`||(t.wysiwyg.element.innerHTML="");var r=Object(k.b)(t);if(o.key==="Backspace"&&Object(b.e)()&&r.startContainer.textContent===`
`&&r.startOffset===1&&(r.startContainer.textContent=""),qt(t,r),Pe(t),o.key==="ArrowDown"||o.key==="ArrowRight"||o.key==="Backspace"||o.key==="ArrowLeft"||o.key==="ArrowUp"){o.key!=="ArrowLeft"&&o.key!=="ArrowRight"||t.hint.render(t);var i=Object(w.e)(r.startContainer,"vditor-wysiwyg__preview");if(!i&&r.startContainer.nodeType!==3&&r.startOffset>0&&(d=r.startContainer).classList.contains("vditor-wysiwyg__block")&&(i=d.lastElementChild),i)if(i.previousElementSibling.style.display!=="none"){var a=i.previousElementSibling;if(a.tagName==="PRE"&&(a=a.firstElementChild),o.key==="ArrowDown"||o.key==="ArrowRight"){var d,h=function(y){for(var T=y;T&&!T.nextSibling;)T=T.parentElement;return T.nextSibling}(d=i.parentElement);if(h&&h.nodeType!==3){var m=h.querySelector(".vditor-wysiwyg__preview");if(m)return void $e(m,t)}if(h.nodeType===3){for(;h.textContent.length===0&&h.nextSibling;)h=h.nextSibling;r.setStart(h,1)}else r.setStart(h.firstChild,0)}else r.selectNodeContents(a),r.collapse(!1)}else o.key==="ArrowDown"||o.key==="ArrowRight"?$e(i,t):$e(i,t,!1)}}})},e}(),Xr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jr=function(e){function t(n,o){var r=e.call(this)||this;r.version=c.b,typeof n=="string"&&(o?o.cache?o.cache.id||(o.cache.id="vditor"+n):o.cache={id:"vditor"+n}:o={cache:{id:"vditor"+n}},n=document.getElementById(n));var i=new Zr(o).merge();if(!["en_US","ja_JP","ko_KR","zh_CN"].includes(i.lang))throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");return r.vditor={currentMode:i.mode,element:n,hint:new Un(i.hint.extend),lute:void 0,options:i,originalInnerHTML:n.innerHTML,outline:new Vn(G.a[i.lang].outline),tip:new Xn},r.vditor.sv=new Gn(r.vditor),r.vditor.undo=new Kr,r.vditor.wysiwyg=new Gr(r.vditor),r.vditor.ir=new zn(r.vditor),r.vditor.toolbar=new zr(r.vditor),i.resize.enable&&(r.vditor.resize=new Zn(r.vditor)),r.vditor.toolbar.elements.devtools&&(r.vditor.devtools=new E),(i.upload.url||i.upload.handler)&&(r.vditor.upload=new Nn),Object(p.a)(o._lutePath||i.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then(function(){r.vditor.lute=Object(Wn.a)({autoSpace:r.vditor.options.preview.markdown.autoSpace,codeBlockPreview:r.vditor.options.preview.markdown.codeBlockPreview,emojiSite:r.vditor.options.hint.emojiPath,emojis:r.vditor.options.hint.emoji,fixTermTypo:r.vditor.options.preview.markdown.fixTermTypo,footnotes:r.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:r.vditor.options.preview.math.inlineDigit,linkBase:r.vditor.options.preview.markdown.linkBase,linkPrefix:r.vditor.options.preview.markdown.linkPrefix,listStyle:r.vditor.options.preview.markdown.listStyle,mark:r.vditor.options.preview.markdown.mark,mathBlockPreview:r.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:r.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:r.vditor.options.preview.markdown.sanitize,toc:r.vditor.options.preview.markdown.toc}),r.vditor.preview=new Fn(r.vditor),function(a){a.element.innerHTML="",a.element.classList.add("vditor"),It(a),Object(bt.a)(a.options.preview.theme.current,a.options.preview.theme.path),typeof a.options.height=="number"&&(a.element.style.height=a.options.height+"px"),typeof a.options.minHeight=="number"&&(a.element.style.minHeight=a.options.minHeight+"px"),typeof a.options.width=="number"?a.element.style.width=a.options.width+"px":a.element.style.width=a.options.width,a.element.appendChild(a.toolbar.element);var d=document.createElement("div");if(d.className="vditor-content",a.options.outline.position==="left"&&d.appendChild(a.outline.element),d.appendChild(a.wysiwyg.element.parentElement),d.appendChild(a.sv.element),d.appendChild(a.ir.element.parentElement),d.appendChild(a.preview.element),a.toolbar.elements.devtools&&d.appendChild(a.devtools.element),a.options.outline.position==="right"&&(a.outline.element.classList.add("vditor-outline--right"),d.appendChild(a.outline.element)),a.upload&&d.appendChild(a.upload.element),a.options.resize.enable&&d.appendChild(a.resize.element),d.appendChild(a.hint.element),d.appendChild(a.tip.element),a.element.appendChild(d),a.toolbar.elements.export&&a.element.insertAdjacentHTML("beforeend",'<iframe style="width: 100%;height: 0;border: 0"></iframe>'),Be(a,a.options.mode,Cn(a)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&window.visualViewport!==void 0){var h=!1,m=function(y){h||(h=!0,requestAnimationFrame(function(){h=!1;var T=a.toolbar.element;T.style.transform="none",T.getBoundingClientRect().top<0&&(T.style.transform="translate(0, "+-T.getBoundingClientRect().top+"px)")}))};window.visualViewport.addEventListener("scroll",m),window.visualViewport.addEventListener("resize",m)}}(r.vditor),i.after&&i.after(),i.icon&&Object(p.b)(i.cdn+"/dist/js/icons/"+i.icon+".js","vditorIconScript")}),r}return Xr(t,e),t.prototype.setTheme=function(n,o,r,i){this.vditor.options.theme=n,It(this.vditor),o&&(this.vditor.options.preview.theme.current=o,Object(bt.a)(o,i||this.vditor.options.preview.theme.path)),r&&(this.vditor.options.preview.hljs.style=r,Object(gn.a)(r,this.vditor.options.cdn))},t.prototype.getValue=function(){return u(this.vditor)},t.prototype.getCurrentMode=function(){return this.vditor.currentMode},t.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},t.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},t.prototype.disabled=function(){U(this.vditor,["subToolbar","hint","popover"]),x(this.vditor.toolbar.elements,c.a.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},t.prototype.enable=function(){S(this.vditor.toolbar.elements,c.a.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},t.prototype.getSelection=function(){return this.vditor.currentMode==="wysiwyg"?et(this.vditor.wysiwyg.element):this.vditor.currentMode==="sv"?et(this.vditor.sv.element):this.vditor.currentMode==="ir"?et(this.vditor.ir.element):void 0},t.prototype.renderPreview=function(n){this.vditor.preview.render(this.vditor,n)},t.prototype.getCursorPosition=function(){return Object(k.a)(this.vditor[this.vditor.currentMode].element)},t.prototype.isUploading=function(){return this.vditor.upload.isUploading},t.prototype.clearCache=function(){localStorage.removeItem(this.vditor.options.cache.id)},t.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},t.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},t.prototype.html2md=function(n){return this.vditor.lute.HTML2Md(n)},t.prototype.getHTML=function(){return vn(this.vditor)},t.prototype.tip=function(n,o){this.vditor.tip.show(n,o)},t.prototype.setPreviewMode=function(n){Ht(n,this.vditor)},t.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},t.prototype.updateValue=function(n){document.execCommand("insertHTML",!1,n)},t.prototype.insertValue=function(n,o){o===void 0&&(o=!0);var r=Object(k.b)(this.vditor);r.collapse(!0);var i=document.createElement("template");i.innerHTML=n,r.insertNode(i.content.cloneNode(!0)),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,o&&ee(this.vditor)):this.vditor.currentMode==="wysiwyg"?(this.vditor.wysiwyg.preventInput=!0,o&&dt(this.vditor,getSelection().getRangeAt(0))):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,o&&le(this.vditor,getSelection().getRangeAt(0),!0))},t.prototype.setValue=function(n,o){var r=this;o===void 0&&(o=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML=this.vditor.lute.SpinVditorSVDOM(n),ye(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?zt(this.vditor,n,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(n),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(i){ae(i,r.vditor)}),Re(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),n||(U(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),o&&this.clearStack()},t.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},t.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style"),document.getElementById("vditorIconScript").remove(),this.clearCache()},t.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},t.prototype.hlCommentIds=function(n){if(this.vditor.currentMode==="wysiwyg"){var o=function(r){r.classList.remove("vditor-comment--hover"),n.forEach(function(i){r.getAttribute("data-cmtids").indexOf(i)>-1&&r.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(r){o(r)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(r){o(r)})}},t.prototype.unHlCommentIds=function(n){if(this.vditor.currentMode==="wysiwyg"){var o=function(r){n.forEach(function(i){r.getAttribute("data-cmtids").indexOf(i)>-1&&r.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(r){o(r)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(r){o(r)})}},t.prototype.removeCommentIds=function(n){var o=this;if(this.vditor.currentMode==="wysiwyg"){var r=function(i,a){var d=i.getAttribute("data-cmtids").split(" ");d.find(function(h,m){if(h===a)return d.splice(m,1),!0}),d.length===0?(i.outerHTML=i.innerHTML,Object(k.b)(o.vditor).collapse(!0)):i.setAttribute("data-cmtids",d.join(" "))};n.forEach(function(i){o.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(a){r(a,i)}),o.vditor.preview.element.style.display!=="none"&&o.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(a){r(a,i)})}),he(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},t}(s.default);N.default=Jr}]).default})}),uo=Qr(po),ko=`/*!
 * Vditor v3.8.3 - A markdown editor written in TypeScript.
 *   
 * MIT License
 * 
 * Copyright (c) 2018-present B3log \u5F00\u6E90, b3log.org
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */.vditor{--border-color:#d1d5da;--second-color:rgba(88,96,105,0.36);--panel-background-color:#fff;--panel-shadow:0 1px 2px rgba(0,0,0,0.2);--toolbar-background-color:#f6f8fa;--toolbar-icon-color:#586069;--toolbar-icon-hover-color:#4285f4;--toolbar-height:35px;--toolbar-divider-margin-top:8px;--textarea-background-color:#fafbfc;--textarea-text-color:#24292e;--resize-icon-color:var(--toolbar-icon-color);--resize-background-color:var(--toolbar-background-color);--resize-hover-icon-color:var(--panel-background-color);--resize-hover-background-color:var(--toolbar-icon-hover-color);--count-background-color:rgba(27,31,35,0.05);--heading-border-color:#eaecef;--blockquote-color:#6a737d;--ir-heading-color:#660e7a;--ir-title-color:grey;--ir-bi-color:#0033b3;--ir-link-color:green;--ir-bracket-color:#00f;--ir-paren-color:green}.vditor--dark{--border-color:#141414;--second-color:hsla(0,0%,72.5%,0.36);--panel-background-color:#24292e;--panel-shadow:0 1px 2px hsla(0,0%,100%,0.2);--toolbar-background-color:#1d2125;--toolbar-icon-color:#b9b9b9;--toolbar-icon-hover-color:#fff;--textarea-background-color:#2f363d;--textarea-text-color:#d1d5da;--resize-icon-color:var(--border-color);--resize-background-color:var(--second-color);--resize-hover-icon-color:var(--toolbar-icon-hover-color);--resize-hover-background-color:hsla(0,0%,72.5%,0.86);--count-background-color:rgba(66,133,244,0.36);--heading-border-color:var(--textarea-text-color);--blockquote-color:var(--toolbar-icon-color);--ir-heading-color:#9876aa;--ir-title-color:grey;--ir-bi-color:#cc7832;--ir-link-color:#ffc66d;--ir-bracket-color:#287bde;--ir-paren-color:#6a8759}@-webkit-keyframes tooltip-appear{0%{opacity:0}to{opacity:1}}@keyframes tooltip-appear{0%{opacity:0}to{opacity:1}}.vditor-tooltipped{position:relative;cursor:pointer}.vditor-tooltipped:after{z-index:1000000;padding:5px 8px;font-size:11px;font-weight:400;-webkit-font-smoothing:subpixel-antialiased;color:#fff;text-align:center;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;content:attr(aria-label);background:#3b3e43;border-radius:3px;line-height:16px}.vditor-tooltipped:after,.vditor-tooltipped:before{position:absolute;display:none;pointer-events:none;opacity:0}.vditor-tooltipped:before{z-index:1000001;width:0;height:0;color:#3b3e43;content:"";border:5px solid transparent}.vditor-tooltipped--hover:after,.vditor-tooltipped--hover:before,.vditor-tooltipped:active:after,.vditor-tooltipped:active:before,.vditor-tooltipped:focus:after,.vditor-tooltipped:focus:before,.vditor-tooltipped:hover:after,.vditor-tooltipped:hover:before{display:inline-block;text-decoration:none;-webkit-animation-name:tooltip-appear;animation-name:tooltip-appear;-webkit-animation-duration:.15s;animation-duration:.15s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}.vditor-tooltipped__s:after,.vditor-tooltipped__se:after,.vditor-tooltipped__sw:after{top:100%;right:50%;margin-top:5px}.vditor-tooltipped__s:before,.vditor-tooltipped__se:before,.vditor-tooltipped__sw:before{top:auto;right:50%;bottom:-5px;margin-right:-5px;border-bottom-color:#3b3e43}.vditor-tooltipped__se:after{right:auto;left:50%;margin-left:-15px}.vditor-tooltipped__sw:after{margin-right:-15px}.vditor-tooltipped__n:after,.vditor-tooltipped__ne:after,.vditor-tooltipped__nw:after{right:50%;bottom:100%;margin-bottom:5px}.vditor-tooltipped__n:before,.vditor-tooltipped__ne:before,.vditor-tooltipped__nw:before{top:-5px;right:50%;bottom:auto;margin-right:-5px;border-top-color:#3b3e43}.vditor-tooltipped__ne:after{right:auto;left:50%;margin-left:-15px}.vditor-tooltipped__nw:after{margin-right:-15px}.vditor-tooltipped__n:after,.vditor-tooltipped__s:after{transform:translateX(50%)}.vditor-tooltipped__w:after{right:100%;bottom:50%;margin-right:5px;transform:translateY(50%)}.vditor-tooltipped__w:before{top:50%;bottom:50%;left:-5px;margin-top:-5px;border-left-color:#3b3e43}.vditor-tooltipped__e:after{bottom:50%;left:100%;margin-left:5px;transform:translateY(50%)}.vditor-tooltipped__e:before{top:50%;right:-5px;bottom:50%;margin-top:-5px;border-right-color:#3b3e43}@media screen and (max-width:520px){.vditor-tooltipped:after,.vditor-tooltipped:before{content:none}}@-webkit-keyframes scale-in{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes scale-in{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.vditor-panel{background-color:var(--panel-background-color);position:absolute;box-shadow:var(--panel-shadow);border-radius:3px;padding:5px;z-index:3;font-size:14px;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;max-width:320px;min-width:80px;-webkit-animation-duration:.15s;animation-duration:.15s;-webkit-animation-name:scale-in;animation-name:scale-in;-webkit-animation-timing-function:cubic-bezier(.2,0,.13,1.5);animation-timing-function:cubic-bezier(.2,0,.13,1.5);color:var(--toolbar-icon-color)}.vditor-panel--none{padding:0;-webkit-animation:none;animation:none;min-width:auto;max-width:none;white-space:nowrap;opacity:.86}.vditor-panel--arrow:before{position:absolute;width:0;height:0;pointer-events:none;content:" ";top:-14px;left:5px;border:7px solid transparent;border-bottom:7px solid var(--panel-background-color)}.vditor-panel--left{right:0}.vditor-panel--left.vditor-panel--arrow:before{right:5px;left:auto}.vditor-input{border:0;padding:3px 5px;background-color:var(--panel-background-color);font-size:12px;color:var(--textarea-text-color)}.vditor-input:focus{background-color:var(--toolbar-background-color);outline:none}.vditor-icon{color:var(--toolbar-icon-color);cursor:pointer;float:left;padding:4px 5px;height:21px;width:23px;background-color:transparent;border:0;box-sizing:border-box}.vditor-icon--current,.vditor-icon:hover{color:var(--toolbar-icon-hover-color);background-color:transparent}.vditor-icon:focus{outline:none}.vditor-icon svg{height:13px!important;width:13px!important;float:left;fill:currentColor;pointer-events:none}.vditor-toolbar{background-color:var(--toolbar-background-color);border-bottom:1px solid var(--border-color);padding:0 5px;line-height:1}.vditor-toolbar--pin{position:-webkit-sticky;position:sticky;top:0;z-index:1}.vditor-toolbar--hide{transition:all .15s ease-in-out;height:5px;overflow:hidden}.vditor-toolbar--hide:hover{background-color:var(--toolbar-background-color);height:auto;overflow:visible}.vditor-toolbar__item{float:left;position:relative}.vditor-toolbar__item .vditor-tooltipped{color:var(--toolbar-icon-color);border:0;padding:10px 5px;background-color:transparent;height:var(--toolbar-height);width:25px;box-sizing:border-box;font-size:0}.vditor-toolbar__item .vditor-tooltipped:focus{outline:none;cursor:pointer;color:var(--toolbar-icon-hover-color)}.vditor-toolbar__item svg{fill:currentColor;display:inline-block;stroke-width:0;stroke:currentColor;width:15px;height:15px}.vditor-toolbar__item input{position:absolute;width:25px;height:var(--toolbar-height);top:0;left:0;cursor:pointer;opacity:.001;overflow:hidden}.vditor-toolbar__divider{float:left;height:calc(var(--toolbar-height) - var(--toolbar-divider-margin-top)*2);border-left:1px solid var(--second-color);margin:var(--toolbar-divider-margin-top) 8px}.vditor-toolbar__br{width:100%;padding:0!important;height:0!important}.vditor-menu--current{color:var(--toolbar-icon-hover-color)!important}.vditor-menu--disabled{color:var(--second-color)!important;cursor:not-allowed!important}.vditor-emojis{display:inline-block;overflow:auto}.vditor-emojis::-webkit-scrollbar{display:none}.vditor-emojis__tip{flex:1;min-width:1px;width:200px;margin-right:10px;color:var(--toolbar-icon-color);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.vditor-emojis__tail{margin-top:5px;font-size:12px;color:var(--toolbar-icon-color);display:flex}.vditor-emojis__tail a{text-decoration:none;color:var(--toolbar-icon-color)}.vditor-emojis__tail a:hover{color:var(--toolbar-icon-hover-color)}.vditor-emojis button{cursor:pointer;border-radius:3px;float:left;height:30px;width:30px;text-align:center;line-height:26px;padding:3px;box-sizing:border-box;font-size:16px;transition:all .15s ease-in-out;border:0;margin:0;background-color:transparent;overflow:hidden}.vditor-emojis button:focus{outline:none}.vditor-emojis button:hover .vditor-emojis__icon{display:inline-block;transform:scale(1.2)}.vditor-emojis img{height:20px;width:20px;float:left;margin:3px 0 0 3px}@media screen and (max-width:520px){.vditor-toolbar__item{padding:0 12px}.vditor-panel--left.vditor-panel--arrow:before{right:17px}}@media (hover:hover) and (pointer:fine){.vditor-toolbar__item .vditor-tooltipped:hover{color:var(--toolbar-icon-hover-color)}}@-webkit-keyframes slideInDown{0%{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes slideInDown{0%{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translateZ(0)}}.vditor{display:flex;flex-direction:column;border:1px solid var(--border-color);border-radius:3px;box-sizing:border-box;font-family:Helvetica Neue,Luxi Sans,DejaVu Sans,Hiragino Sans GB,Microsoft Yahei,sans-serif,Apple Color Emoji,Segoe UI Emoji,Noto Color Emoji,Segoe UI Symbol,Android Emoji,EmojiSymbols}.vditor .vditor-copy{z-index:auto}.vditor--fullscreen{position:fixed;top:0;width:100%!important;left:0;height:100vh!important;z-index:90;border-radius:0}.vditor-content{display:flex;min-height:60px;flex:1;min-width:1px;position:relative}.vditor-preview{flex:1;min-width:1px;overflow:auto;margin-left:-1px;border-left:1px solid var(--border-color);box-sizing:border-box;border-radius:0 0 3px 0;background-color:var(--textarea-background-color)}.vditor-preview::-webkit-scrollbar{display:none}.vditor-preview__action{text-align:center;padding:10px;background-color:var(--toolbar-background-color)}.vditor-preview__action button{background-color:var(--toolbar-background-color);color:var(--toolbar-icon-color);line-height:20px;border:0;margin:0 10px;cursor:pointer;padding:0 7px;font-size:12px}.vditor-preview__action button.vditor-preview__action--current,.vditor-preview__action button:hover{color:var(--toolbar-icon-hover-color);background-color:var(--toolbar-background-color)}.vditor-preview__action button:focus{outline:none}.vditor-preview__action button svg{fill:currentColor;height:15px;width:15px;vertical-align:middle}.vditor-preview>.vditor-reset{padding:10px;margin:0 auto}.vditor-devtools{display:none;background-color:var(--textarea-background-color);overflow:auto;flex:1;min-width:1px;box-shadow:inset 1px 0 var(--border-color);box-sizing:border-box;border-radius:0 0 3px 0;padding:10px}.vditor-counter{padding:3px;color:var(--toolbar-icon-color);background-color:var(--count-background-color);border-radius:3px;font-size:12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;float:right;margin:8px 3px 0 0}.vditor-counter--error{color:#d23f31;background-color:rgba(210,63,49,.1)}.vditor-resize{padding:3px 0;cursor:row-resize;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;width:100%}.vditor-resize--top{top:-3px}.vditor-resize--bottom{bottom:-3px}.vditor-resize>div{height:3px;background-color:var(--resize-background-color);transition:all .15s ease-in-out}.vditor-resize--selected>div,.vditor-resize:hover>div{background-color:var(--resize-hover-background-color)}.vditor-resize--selected svg,.vditor-resize:hover svg{color:var(--resize-hover-icon-color)}.vditor-resize svg{fill:currentColor;stroke-width:0;stroke:currentColor;width:13px;height:3px;display:block;margin:0 auto;color:var(--resize-icon-color)}.vditor-upload{position:absolute;height:3px;left:0;top:-2px;transition:all .15s ease-in-out;background-color:#4285f4}.vditor-tip{position:absolute;font-size:12px;top:10px;-webkit-animation-duration:.15s;animation-duration:.15s;-webkit-animation-fill-mode:both;animation-fill-mode:both;left:50%;z-index:5}.vditor-tip--show{display:block;-webkit-animation-name:slideInDown;animation-name:slideInDown}.vditor-tip__content{text-align:left;display:inline-block;line-height:16px;padding:3px 10px;border-radius:3px;background:var(--toolbar-background-color);position:relative;margin-left:-50%;color:var(--toolbar-icon-color);max-width:100%;box-shadow:var(--panel-shadow)}.vditor-tip__content ul{margin:2px 0;padding:0 0 0 18px}.vditor-tip__content a{color:#4285f4}.vditor-tip__close{position:absolute;color:var(--toolbar-icon-color);top:-7px;right:-15px;font-weight:700;cursor:pointer}.vditor-tip__close:hover{color:var(--toolbar-icon-hover-color)}.vditor-img{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;z-index:3}.vditor-img__bar{border-bottom:1px solid var(--border-color);background-color:var(--toolbar-background-color);text-align:center;height:36px;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.vditor-img__btn{display:flex;align-items:center;cursor:pointer;margin-left:24px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:var(--toolbar-icon-color)}.vditor-img__btn:hover{color:var(--toolbar-icon-hover-color)}.vditor-img__btn svg{height:14px;width:14px;margin-right:8px;fill:currentColor}.vditor-img__img{flex:1;background-color:var(--textarea-background-color);overflow:auto;cursor:zoom-out}.vditor-img__img img{max-width:none}.vditor-hint{background-color:var(--panel-background-color);position:absolute;box-shadow:var(--panel-shadow);border-radius:3px;padding:5px 0;z-index:4;line-height:20px;list-style:none;font-size:12px;margin:0;max-width:250px;min-width:80px;display:none}.vditor-hint .vditor-hint{margin-top:-31px;left:100%;right:auto}.vditor-hint .vditor-hint.vditor-panel--left{right:100%;left:auto}.vditor-hint button{color:var(--toolbar-icon-color);display:block;padding:3px 10px;border:0;border-radius:0;line-height:20px;width:100%;box-sizing:border-box;text-align:left;margin:0;background-color:transparent;cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.vditor-hint button:focus{outline:none}.vditor-hint--current,.vditor-hint button:not(.vditor-menu--disabled):hover{background-color:var(--toolbar-background-color)!important;color:var(--toolbar-icon-hover-color)!important}.vditor-hint__emoji{font-size:16px;float:left;margin-right:3px}.vditor-hint img{height:20px;width:20px;float:left;margin-right:3px}.vditor-reset{color:#24292e;font-variant-ligatures:no-common-ligatures;font-family:Helvetica Neue,Luxi Sans,DejaVu Sans,Hiragino Sans GB,Microsoft Yahei,sans-serif,Apple Color Emoji,Segoe UI Emoji,Noto Color Emoji,Segoe UI Symbol,Android Emoji,EmojiSymbols;word-wrap:break-word;overflow:auto;line-height:1.5;font-size:16px;word-break:break-word}.vditor-reset--anchor{padding-left:20px}.vditor-reset--error{color:#d23f31;font-size:12px;display:block;line-height:16px}.vditor-reset ul ul ul{list-style-type:square}.vditor-reset ul ul{list-style-type:circle}.vditor-reset ul{list-style-type:disc}.vditor-reset ol,.vditor-reset ul{padding-left:2em;margin-top:0;margin-bottom:16px}.vditor-reset li+li{margin-top:.25em}.vditor-reset audio{max-width:100%}.vditor-reset audio:focus{outline:none}.vditor-reset video{max-height:90vh;max-width:100%}.vditor-reset img{max-width:100%}.vditor-reset img.emoji{cursor:auto;max-width:20px;vertical-align:sub}.vditor-reset h1,.vditor-reset h2,.vditor-reset h3,.vditor-reset h4,.vditor-reset h5,.vditor-reset h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.vditor-reset h1:hover .vditor-anchor svg,.vditor-reset h2:hover .vditor-anchor svg,.vditor-reset h3:hover .vditor-anchor svg,.vditor-reset h4:hover .vditor-anchor svg,.vditor-reset h5:hover .vditor-anchor svg,.vditor-reset h6:hover .vditor-anchor svg{visibility:visible}.vditor-reset h1{font-size:1.75em}.vditor-reset h2{font-size:1.55em}.vditor-reset h3{font-size:1.38em}.vditor-reset h4{font-size:1.25em}.vditor-reset h5{font-size:1.13em}.vditor-reset h6{font-size:1em}.vditor-reset hr{height:2px;padding:0;margin:24px 0;background-color:#eaecef;border:0}.vditor-reset p{margin-top:0;margin-bottom:16px}.vditor-reset blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #eaecef;margin:0 0 16px}.vditor-reset blockquote>:first-child{margin-top:0}.vditor-reset blockquote>:last-child{margin-bottom:0}.vditor-reset ins>iframe{border:0}.vditor-reset iframe{border:1px solid #d1d5da;max-width:100%;box-sizing:border-box}.vditor-reset iframe.iframe__video{min-width:80%;min-height:36vh}.vditor-reset table{border-collapse:collapse;empty-cells:show;margin-bottom:16px;overflow:auto;border-spacing:0}.vditor-reset table tr{background-color:#fafbfc;border-top:1px solid #c6cbd1}.vditor-reset table td,.vditor-reset table th{padding:6px 13px;border:1px solid #dfe2e5;word-break:normal}.vditor-reset table th{font-weight:600}.vditor-reset table tbody tr:nth-child(2n){background-color:#fff}.vditor-reset code:not(.hljs):not(.highlight-chroma){padding:.2em .4em;margin:0;font-size:85%;border-radius:3px;font-family:mononoki,Consolas,Liberation Mono,Menlo,Courier,monospace,Apple Color Emoji,Segoe UI Emoji,Noto Color Emoji,Segoe UI Symbol,Android Emoji,EmojiSymbols;word-break:break-word;background-size:20px 20px;white-space:pre-wrap}.vditor-reset pre{margin:1em 0}.vditor-reset pre>code{margin:0;font-size:85%;padding:.5em;border-radius:5px;display:block;overflow:auto;white-space:pre;font-family:mononoki,Consolas,Liberation Mono,Menlo,Courier,monospace,Apple Color Emoji,Segoe UI Emoji,Noto Color Emoji,Segoe UI Symbol,Android Emoji,EmojiSymbols;background-size:20px 20px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AgMAAABHkjHhAAAACVBMVEWAgIBaWlo+Pj7rTFvWAAAAA3RSTlMHCAw+VhR4AAAA+klEQVQoz4WSMW7EQAhFPxKWNh2FCx+HkaZI6RRb5DYbyVfIJXLKDCFoMbaTKSw/8ZnPAPjaH2xgZcUNUDADD7D9LtDBCLZ45fbkvo/30K8yeI64pPwl6znd/3n/Oe93P3ho9qeh72btTFzqkz0rsJle8Zr81OLEwZ1dv/713uWqvu2pl+k0fy7MWtj9r/tN5q/02z89qa/L4Dc2LvM93kezPfXlME/O86EbY/V9GB9ePX8G1/6W+/9h1dq/HGfTfzT3j/xNo7522Bfnqe5jO/fvhVthlfk434v3iO9zG/UOphyPeinPl1J8Gtaa7xPTa/Dk+RIs4deMvwGvcGsmsCvJ0AAAAABJRU5ErkJggg==);word-break:normal;word-wrap:normal}.vditor-reset pre:hover div.vditor-copy{display:block}.vditor-reset .language-abc,.vditor-reset .language-echarts,.vditor-reset .language-flowchart,.vditor-reset .language-graphviz,.vditor-reset .language-math,.vditor-reset .language-mermaid,.vditor-reset .language-mindmap,.vditor-reset .language-plantuml{margin-bottom:16px}.vditor-reset .language-math mjx-container:focus{outline:none;cursor:context-menu}.vditor-reset .language-echarts,.vditor-reset .language-mindmap{overflow:hidden;height:420px}.vditor-reset .language-flowchart,.vditor-reset .language-graphviz,.vditor-reset .language-mermaid{text-align:center}.vditor-reset .language-graphviz parsererror{overflow:auto}.vditor-reset kbd{display:inline-block;padding:3px 5px;font:11px Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:10px;color:#24292e;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}.vditor-reset summary{cursor:pointer}.vditor-reset summary:focus{outline:none}.vditor-reset svg{height:auto;width:auto;stroke-width:initial}.vditor-reset blockquote:last-child,.vditor-reset hr:last-child,.vditor-reset ol:last-child,.vditor-reset p:last-child,.vditor-reset pre:last-child,.vditor-reset ul:last-child{margin-bottom:0}.vditor-comment{border-bottom:2px solid #f8e6ab}.vditor-comment--focus,.vditor-comment--hover{background-color:#faf1d1;border-bottom:2px solid #ffc60a}.vditor-comment--focus .vditor-comment,.vditor-comment--hover .vditor-comment{border-bottom:2px solid #ffc60a}.vditor-task{list-style:none!important;word-break:break-all}.vditor-task input{margin:0 .2em .25em -1.6em;font-size:12px;vertical-align:middle}.vditor-copy{position:relative;display:none;z-index:1}.vditor-copy textarea{position:absolute;left:-100000px;height:10px}.vditor-copy span{cursor:pointer;position:absolute;right:15px;top:.5em}.vditor-copy svg{color:#586069;height:14px;width:14px!important;display:block;fill:currentColor}.vditor-linenumber{padding-left:4em!important;position:relative}.vditor-linenumber__rows{position:absolute;pointer-events:none;top:.5em;left:0;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;counter-reset:linenumber}.vditor-linenumber__rows>span{pointer-events:none;display:block}.vditor-linenumber__rows>span:before{counter-increment:linenumber;content:counter(linenumber);color:hsla(0,4%,60.4%,.38);display:block;padding-right:1em;text-align:right}.vditor-speech{position:absolute;display:none;background-color:#f6f8fa;border:1px solid #d1d5da;border-radius:3px;padding:3px;cursor:pointer;color:#586069}.vditor-speech--current,.vditor-speech:hover{color:#4285f4}.vditor-speech svg{height:14px;width:14px;fill:currentColor;display:block;stroke-width:0;stroke:currentColor}.vditor-anchor{margin-left:5px}.vditor-anchor--left{float:left;padding-right:4px;margin-left:-20px}.vditor-anchor svg{visibility:hidden}.vditor-anchor:hover svg{visibility:visible}.vditor-anchor:focus{outline:none}.vditor-linkcard{margin:31px auto 16px;transition:all .15s ease-in-out;cursor:pointer;max-width:768px;padding:0 10px}.vditor-linkcard a{border-radius:3px;background-color:#f6f8fa;overflow:hidden;max-height:250px;display:flex;text-decoration:none;flex-wrap:wrap-reverse;box-shadow:0 1px 2px rgba(0,0,0,.2)}.vditor-linkcard a:hover{box-shadow:0 0 3px rgba(0,0,0,.13),0 3px 6px rgba(0,0,0,.26);text-decoration:none}.vditor-linkcard a:visited .vditor-linkcard__abstract{color:rgba(88,96,105,.36)}.vditor-linkcard__info{padding:10px;min-width:200px;box-sizing:border-box;flex:1}.vditor-linkcard__title{font-size:14px;font-weight:400;color:#24292e;display:flex;align-items:center}.vditor-linkcard__title img{cursor:pointer;height:20px;width:20px;border-radius:3px;flex-shrink:0;margin-right:5px}.vditor-linkcard__abstract{word-wrap:break-word;word-break:break-all;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;display:-webkit-box;font-size:13px;color:#586069;margin:5px 0}.vditor-linkcard__site{font-size:12px;color:#4285f4}.vditor-linkcard__image{background-size:cover;background-repeat:no-repeat;background-position:50%;max-width:250px;min-width:126px;cursor:pointer;background-color:rgba(88,96,105,.36)}.vditor-footnotes__goto-ref{text-decoration:none}.vditor-toc{margin-bottom:16px;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;color:#4285f4}.vditor-toc .vditor-outline__action{display:none}.vditor-toc ul{list-style:none!important;padding-left:1em}.vditor-toc>ul{padding-left:0}.vditor-toc span{cursor:pointer}.vditor-toc li>span>svg{width:0;height:0}.vditor-outline{width:250px;border-right:1px solid var(--border-color);background-color:var(--panel-background-color);display:none;overflow:auto}.vditor-outline--right{border-right:0;border-left:1px solid var(--border-color)}.vditor-outline::-webkit-scrollbar{display:none}.vditor-outline ul{list-style:none!important;padding-left:1em;margin:0}.vditor-outline__content>ul{padding-left:0}.vditor-outline li>span{display:flex;align-items:center;padding:5px 10px;cursor:pointer;color:var(--textarea-text-color)}.vditor-outline li>span>svg{height:10px;width:10px}.vditor-outline li>span:hover{color:var(--toolbar-icon-hover-color)}.vditor-outline li>span>span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vditor-outline__title{border-bottom:1px dashed var(--border-color);padding:5px 10px;color:var(--toolbar-icon-color);font-size:12px}.vditor-outline__action{transition:all .15s ease-in-out;fill:currentColor;margin-right:5px;flex-shrink:0}.vditor-outline__action--close{transform:rotate(-90deg)}.vditor-wysiwyg{box-sizing:border-box;flex:1;position:relative;width:100%;min-width:1px}.vditor-wysiwyg pre.vditor-reset{background-color:var(--panel-background-color);margin:0;white-space:pre-wrap;height:100%;box-sizing:border-box}.vditor-wysiwyg pre.vditor-reset[contenteditable=false]{opacity:.3;cursor:not-allowed}.vditor-wysiwyg pre.vditor-reset:empty:before{content:attr(placeholder);color:var(--second-color)}.vditor-wysiwyg pre.vditor-reset:focus{outline:none;background-color:var(--textarea-background-color)}.vditor-wysiwyg pre.vditor-reset:after{content:"";height:var(--editor-bottom);display:block}.vditor-wysiwyg blockquote:empty:before,.vditor-wysiwyg h1:empty:after,.vditor-wysiwyg h2:empty:after,.vditor-wysiwyg h3:empty:after,.vditor-wysiwyg h4:empty:after,.vditor-wysiwyg h5:empty:after,.vditor-wysiwyg h6:empty:after,.vditor-wysiwyg p:empty:before,.vditor-wysiwyg pre>code:empty:before{content:" "}.vditor-wysiwyg code[data-marker="\`"]{padding-left:0!important;padding-right:0!important}.vditor-wysiwyg__block pre:first-child{margin-bottom:-1em}.vditor-wysiwyg__block pre:first-child code{color:var(--textarea-text-color);height:auto;text-align:left}.vditor-wysiwyg__block pre:last-child{margin-bottom:1em}.vditor-wysiwyg__preview{cursor:pointer;white-space:normal;min-height:27px}.vditor-wysiwyg .vditor-toc:before,.vditor-wysiwyg>.vditor-reset>h1:before,.vditor-wysiwyg>.vditor-reset>h2:before,.vditor-wysiwyg>.vditor-reset>h3:before,.vditor-wysiwyg>.vditor-reset>h4:before,.vditor-wysiwyg>.vditor-reset>h5:before,.vditor-wysiwyg>.vditor-reset>h6:before,.vditor-wysiwyg div.vditor-wysiwyg__block:before,.vditor-wysiwyg div[data-type=footnotes-block]:before,.vditor-wysiwyg div[data-type=link-ref-defs-block]:before{float:left;padding-right:4px;margin-left:-29px;content:"H1";font-size:.85rem;font-weight:400;color:var(--second-color)}.vditor-wysiwyg>.vditor-reset>h2:before{content:"H2"}.vditor-wysiwyg>.vditor-reset>h3:before{content:"H3"}.vditor-wysiwyg>.vditor-reset>h4:before{content:"H4"}.vditor-wysiwyg>.vditor-reset>h5:before{content:"H5"}.vditor-wysiwyg>.vditor-reset>h6:before{content:"H6"}.vditor-wysiwyg div[data-type=link-ref-defs-block]:before{content:'"A"'}.vditor-wysiwyg div[data-type=footnotes-block]:before{content:"^F"}.vditor-wysiwyg div.vditor-wysiwyg__block:before{content:"</>"}.vditor-wysiwyg div.vditor-wysiwyg__block[data-type=yaml-front-matter]:before{content:"F"}.vditor-wysiwyg div.vditor-wysiwyg__block[data-type=math-block]:before{content:"$$"}.vditor-wysiwyg .vditor-toc:before{content:"ToC"}.vditor-wysiwyg hr{display:inline-block;margin:12px 0;width:100%}.vditor-wysiwyg details{white-space:normal}.vditor-wysiwyg a{cursor:pointer}.vditor-wysiwyg span[data-type=backslash]>span{display:none;color:var(--second-color)}.vditor-wysiwyg span[data-type=link-ref],.vditor-wysiwyg sup[data-type=footnotes-ref]{color:#4285f4}.vditor-wysiwyg span[data-type=toc-h]{color:#4285f4;text-decoration:underline}.vditor-wysiwyg div[data-type=footnotes-block]{border-top:2px solid var(--heading-border-color);padding-top:24px;margin-top:24px}.vditor-wysiwyg div[data-type=link-ref-defs-block]{color:var(--blockquote-color)}@media screen and (max-width:520px){.vditor-wysiwyg .vditor-toc:before,.vditor-wysiwyg div.vditor-wysiwyg__block:before,.vditor-wysiwyg div[data-type=footnotes-block]:before,.vditor-wysiwyg div[data-type=link-ref-defs-block]:before,.vditor-wysiwyg h1:before,.vditor-wysiwyg h2:before,.vditor-wysiwyg h3:before,.vditor-wysiwyg h4:before,.vditor-wysiwyg h5:before,.vditor-wysiwyg h6:before{content:none}}.vditor-ir{box-sizing:border-box;flex:1;min-width:1px;position:relative;width:100%}.vditor-ir__node[data-type=code-block]:after,.vditor-ir__node[data-type=code-block]:before,.vditor-ir__node[data-type=math-block]:after,.vditor-ir__node[data-type=math-block]:before,.vditor-ir__node[data-type=yaml-front-matter]:after,.vditor-ir__node[data-type=yaml-front-matter]:before{content:" ";color:var(--second-color)}.vditor-ir__node:not(.vditor-ir__node--expand) .vditor-ir__marker{padding:0!important}.vditor-ir__node:not(.vditor-ir__node--expand)[data-type=a]{cursor:pointer}.vditor-ir__node[data-type=footnotes-ref],.vditor-ir__node[data-type=link-ref]{color:#4285f4}.vditor-ir__node[data-type=html-block]{margin-bottom:1em}.vditor-ir__node .vditor-ir__marker{width:0;overflow:hidden;display:inline-block;height:0;transition:all .15s ease-in-out}.vditor-ir__node--hidden .vditor-ir__marker{visibility:hidden}.vditor-ir__node--expand .vditor-ir__marker{color:var(--second-color);display:inline;height:auto;width:auto}.vditor-ir__node--expand .vditor-ir__marker--hide{display:none}.vditor-ir__node--expand .vditor-ir__marker--heading{color:var(--ir-heading-color)}.vditor-ir__node--expand .vditor-ir__marker--bi{color:var(--ir-bi-color)}.vditor-ir__node--expand .vditor-ir__marker--link{color:var(--ir-link-color)}.vditor-ir__node--expand .vditor-ir__marker--title{color:var(--ir-title-color)}.vditor-ir__node--expand .vditor-ir__marker--bracket{color:var(--ir-bracket-color);text-decoration:underline}.vditor-ir__node--expand .vditor-ir__marker--paren{color:var(--ir-paren-color)}.vditor-ir__node--expand .vditor-ir__marker--info{color:var(--ir-heading-color)}.vditor-ir__node--expand .vditor-ir__marker--pre code{color:var(--textarea-text-color);height:auto;text-align:left}.vditor-ir__node--expand[data-type=code-block]:after,.vditor-ir__node--expand[data-type=code-block]:before{content:"\`\`\`"}.vditor-ir__node--expand[data-type=yaml-front-matter]:after,.vditor-ir__node--expand[data-type=yaml-front-matter]:before{content:"---"}.vditor-ir__node--expand[data-type=math-block]:after,.vditor-ir__node--expand[data-type=math-block]:before{content:"$$"}.vditor-ir__node span[data-type=code-block-close-marker],.vditor-ir__node span[data-type=code-block-open-marker],.vditor-ir__node span[data-type=math-block-close-marker],.vditor-ir__node span[data-type=math-block-open-marker],.vditor-ir__node span[data-type=yaml-front-matter-close-marker],.vditor-ir__node span[data-type=yaml-front-matter-open-marker]{display:none}.vditor-ir__preview{cursor:pointer;white-space:normal;min-height:27px}.vditor-ir__link{color:var(--ir-bracket-color);text-decoration:underline}.vditor-ir pre.vditor-reset{background-color:var(--panel-background-color);margin:0;white-space:pre-wrap;height:100%;box-sizing:border-box}.vditor-ir pre.vditor-reset[contenteditable=false]{opacity:.3;cursor:not-allowed}.vditor-ir pre.vditor-reset:empty:before{content:attr(placeholder);color:var(--second-color)}.vditor-ir pre.vditor-reset:focus{outline:none;background-color:var(--textarea-background-color)}.vditor-ir pre.vditor-reset:after{content:"";height:var(--editor-bottom);display:block}.vditor-ir pre.vditor-reset pre{margin:0}.vditor-ir hr{display:inline-block;margin:12px 0;width:100%}.vditor-ir blockquote:empty:before,.vditor-ir h1:empty:after,.vditor-ir h2:empty:after,.vditor-ir h3:empty:after,.vditor-ir h4:empty:after,.vditor-ir h5:empty:after,.vditor-ir h6:empty:after,.vditor-ir p:empty:before,.vditor-ir pre>code:empty:before{content:" "}.vditor-ir .vditor-reset>h1:before,.vditor-ir .vditor-reset>h2:before,.vditor-ir .vditor-reset>h3:before,.vditor-ir .vditor-reset>h4:before,.vditor-ir .vditor-reset>h5:before,.vditor-ir .vditor-reset>h6:before,.vditor-ir .vditor-toc:before,.vditor-ir div[data-type=footnotes-block]:before,.vditor-ir div[data-type=link-ref-defs-block]:before{float:left;padding-right:4px;margin-left:-29px;content:"H1";font-size:.85rem;font-weight:400;color:var(--second-color)}.vditor-ir .vditor-reset>h2:before{content:"H2"}.vditor-ir .vditor-reset>h3:before{content:"H3"}.vditor-ir .vditor-reset>h4:before{content:"H4"}.vditor-ir .vditor-reset>h5:before{content:"H5"}.vditor-ir .vditor-reset>h6:before{content:"H6"}.vditor-ir div[data-type=link-ref-defs-block]{color:var(--blockquote-color)}.vditor-ir div[data-type=link-ref-defs-block]:before{content:'"A"'}.vditor-ir div[data-type=footnotes-block]{border-top:2px solid var(--heading-border-color);padding-top:24px;margin-top:24px}.vditor-ir div[data-type=footnotes-block]:before{content:"^F"}.vditor-ir div[data-type=footnotes-block]>div[data-type=footnotes-def]>blockquote,.vditor-ir div[data-type=footnotes-block]>div[data-type=footnotes-def]>hr,.vditor-ir div[data-type=footnotes-block]>div[data-type=footnotes-def]>ol,.vditor-ir div[data-type=footnotes-block]>div[data-type=footnotes-def]>p,.vditor-ir div[data-type=footnotes-block]>div[data-type=footnotes-def]>pre,.vditor-ir div[data-type=footnotes-block]>div[data-type=footnotes-def]>table,.vditor-ir div[data-type=footnotes-block]>div[data-type=footnotes-def]>ul{margin-left:8px}.vditor-ir .vditor-toc:before{content:"ToC"}.vditor-ir .vditor-toc span[data-type=toc-h]{color:#4285f4;text-decoration:underline}@media screen and (max-width:520px){.vditor-ir .vditor-toc:before,.vditor-ir div[data-type=footnotes-block]:before,.vditor-ir div[data-type=link-ref-defs-block]:before,.vditor-ir h1:before,.vditor-ir h2:before,.vditor-ir h3:before,.vditor-ir h4:before,.vditor-ir h5:before,.vditor-ir h6:before{content:none}}.vditor-sv{font-family:Helvetica Neue,Luxi Sans,DejaVu Sans,Hiragino Sans GB,Microsoft Yahei,sans-serif,Apple Color Emoji,Segoe UI Emoji,Noto Color Emoji,Segoe UI Symbol,Android Emoji,EmojiSymbols;margin:0 1px 0 0;overflow:auto;width:100%;flex:1;min-width:1px;border:0;resize:none;padding:10px 9px 10px 10px;box-sizing:border-box;background-color:var(--panel-background-color);outline:0 none;font-size:16px;line-height:22px;color:var(--textarea-text-color);border-radius:0 0 3px 3px;font-variant-ligatures:no-common-ligatures;white-space:pre-wrap;word-break:break-word;word-wrap:break-word}.vditor-sv[contenteditable=false]{opacity:.3;cursor:not-allowed}.vditor-sv:empty:before{content:attr(placeholder);color:var(--second-color)}.vditor-sv:focus{background-color:var(--textarea-background-color)}.vditor-sv:after{content:"";height:var(--editor-bottom);display:block}.vditor-sv span[data-type=newline]+span[data-type=text]:empty{display:inherit}.vditor-sv .sup{vertical-align:super;font-size:smaller}.vditor-sv .strong{font-weight:700}.vditor-sv .em{font-style:italic}.vditor-sv .s{text-decoration:line-through}.vditor-sv .mark:not(.vditor-sv__marker){background-color:#ff0;color:#000}.vditor-sv .h1{font-size:1.75em;line-height:44px}.vditor-sv .h2{font-size:1.55em;line-height:38px}.vditor-sv .h3{font-size:1.38em;line-height:27px}.vditor-sv .h4{font-size:1.25em;line-height:25px}.vditor-sv .h5{font-size:1.13em}.vditor-sv .h6{font-size:1em}.vditor-sv__marker{color:var(--second-color)}.vditor-sv__marker--heading{color:var(--ir-heading-color)}.vditor-sv__marker--bi{color:var(--ir-bi-color)}.vditor-sv__marker--link{color:var(--ir-link-color)}.vditor-sv__marker--title{color:var(--ir-title-color)}.vditor-sv__marker--bracket{color:var(--ir-bracket-color)}.vditor-sv__marker--paren{color:var(--ir-paren-color)}.vditor-sv__marker--info{color:var(--ir-heading-color)}.vditor-sv__marker--strong{font-weight:700}`,Sn=eo({inheritAttrs:!1,props:{height:_n.number.def(360),value:_n.string.def("")},emits:["change","get"],setup(Je,{attrs:gt,emit:re}){const N=Rt(null),g=Rt(null),l=Rt(!1),f=co(),{getLocale:s}=to();no(()=>{});const c=ro(()=>{let p;switch(ot(s)){case"en":p="en_US";break;case"ja":p="ja_JP";break;case"ko":p="ko_KR";break;default:p="zh_CN"}return p});function v(){const p=ot(N);if(!p)return;const E=Xe(Xe({},gt),Je);g.value=new uo(p,Xe(Xe({lang:ot(c),mode:"sv",preview:{actions:[]},input:b=>{re("change",b)},blur:()=>{var b;(b=ot(g))==null||b.setValue(Je.value)}},E),{cache:{enable:!1}})),l.value=!0}const u={getVditor:()=>g.value};return oo(()=>{io(()=>{v(),setTimeout(()=>{var p;(p=f==null?void 0:f.redoModalHeight)==null||p.call(f)},200)}),re("get",u)}),ao(()=>{var E;const p=ot(g);if(!!p)try{(E=p==null?void 0:p.destroy)==null||E.call(p)}catch(b){}}),Xe({wrapRef:N},u)}});const fo={ref:"wrapRef"};function mo(Je,gt,re,N,g,l){return lo(),so("div",fo,null,512)}Sn.render=mo;export default Sn;
