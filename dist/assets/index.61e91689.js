import{S as v,as as O,bs as A,d as _,k as p,p as d,M as X,_ as b,X as T,w as $,bt as E,bu as U,R as N,ac as Y,bv as K,Z as P,ad as Z,al as H,bb as J,aj as Q,bw as ee,O as te}from"./index.ff8e7350.js";var F=O("normal","exception","active","success"),re=O("line","circle","dashboard"),ne=O("default","small"),I=function(){return{prefixCls:v.string,type:v.oneOf(re),percent:v.number,format:{type:Function},status:v.oneOf(F),showInfo:v.looseBool,strokeWidth:v.number,strokeLinecap:v.oneOf(O("butt","round","square")),strokeColor:{type:[String,Object]},trailColor:v.string,width:v.number,success:{type:Object,default:function(){return{}}},gapDegree:v.number,gapPosition:v.oneOf(O("top","bottom","left","right")),size:v.oneOf(ne),steps:v.number,successPercent:v.number}};function D(i){return!i||i<0?0:i>100?100:i}function z(i){var e=i.success,c=i.successPercent,r=c;return e&&"progress"in e&&(A(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),r=e.progress),e&&"percent"in e&&(r=e.percent),r}var ae=["from","to","direction"],se=b(b({},I()),{},{prefixCls:v.string,direction:{type:String}}),oe=function(e){var c=[];return Object.keys(e).forEach(function(r){var n=parseFloat(r.replace(/%/g,""));isNaN(n)||c.push({key:n,value:e[r]})}),c=c.sort(function(r,n){return r.key-n.key}),c.map(function(r){var n=r.key,l=r.value;return"".concat(l," ").concat(n,"%")}).join(", ")},ie=function(e,c){var r=e.from,n=r===void 0?"#1890ff":r,l=e.to,o=l===void 0?"#1890ff":l,u=e.direction,k=u===void 0?c==="rtl"?"to left":"to right":u,s=T(e,ae);if(Object.keys(s).length!==0){var f=oe(s);return{backgroundImage:"linear-gradient(".concat(k,", ").concat(f,")")}}return{backgroundImage:"linear-gradient(".concat(k,", ").concat(n,", ").concat(o,")")}},ce=_({name:"Line",props:se,setup:function(e,c){var r=c.slots,n=p(function(){var s=e.strokeColor,f=e.direction;return s&&typeof s!="string"?ie(s,f):{background:s}}),l=p(function(){return e.trailColor?{backgroundColor:e.trailColor}:void 0}),o=p(function(){var s=e.percent,f=e.strokeWidth,a=e.strokeLinecap,t=e.size;return b({width:"".concat(D(s),"%"),height:"".concat(f||(t==="small"?6:8),"px"),borderRadius:a==="square"?0:""},n.value)}),u=p(function(){return z(e)}),k=p(function(){var s=e.strokeWidth,f=e.size,a=e.strokeLinecap,t=e.success;return{width:"".concat(D(u.value),"%"),height:"".concat(s||(f==="small"?6:8),"px"),borderRadius:a==="square"?0:"",backgroundColor:t==null?void 0:t.strokeColor}});return function(){var s;return d(X,null,[d("div",{class:"".concat(e.prefixCls,"-outer")},[d("div",{class:"".concat(e.prefixCls,"-inner"),style:l.value},[d("div",{class:"".concat(e.prefixCls,"-bg"),style:o.value},null),u.value!==void 0?d("div",{class:"".concat(e.prefixCls,"-success-bg"),style:k.value},null):null])]),(s=r.default)===null||s===void 0?void 0:s.call(r)])}}}),le=function(){var e=$({}),c=function(n,l){e.value[l]=n};return E(function(){e.value={}}),[c,e]},ue={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},fe=function(e){var c=$(null);return U(function(){var r=Date.now(),n=!1;Object.keys(e.value).forEach(function(l){var o=e.value[l];if(!!o){n=!0;var u=o.style;u.transitionDuration=".3s, .3s, .3s, .06s",c.value&&r-c.value<100&&(u.transitionDuration="0s, 0s")}}),n&&(c.value=Date.now())}),e},ve={gapDegree:v.number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:v.string,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:v.number,trailColor:v.string,trailWidth:v.number,transition:v.string},de=["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"],G=0;function M(i){return+i.replace("%","")}function q(i){return Array.isArray(i)?i:[i]}function B(i,e,c,r){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,l=arguments.length>5?arguments[5]:void 0,o=50-r/2,u=0,k=-o,s=0,f=-2*o;switch(l){case"left":u=-o,k=0,s=2*o,f=0;break;case"right":u=o,k=0,s=-2*o,f=0;break;case"bottom":k=o,f=2*o;break}var a="M 50,50 m ".concat(u,",").concat(k,`
   a `).concat(o,",").concat(o," 0 1 1 ").concat(s,",").concat(-f,`
   a `).concat(o,",").concat(o," 0 1 1 ").concat(-s,",").concat(f),t=Math.PI*2*o,h={stroke:c,strokeDasharray:"".concat(e/100*(t-n),"px ").concat(t,"px"),strokeDashoffset:"-".concat(n/2+i/100*(t-n),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:a,pathStyle:h}}var ge=_({name:"VCCircle",props:N(ve,ue),setup:function(e){G+=1;var c=$(G),r=p(function(){return q(e.percent)}),n=p(function(){return q(e.strokeColor)}),l=le(),o=Y(l,2),u=o[0],k=o[1];fe(k);var s=function(){var a=e.prefixCls,t=e.strokeWidth,h=e.strokeLinecap,y=e.gapDegree,g=e.gapPosition,m=0;return r.value.map(function(C,x){var W=n.value[x]||n.value[n.value.length-1],j=Object.prototype.toString.call(W)==="[object Object]"?"url(#".concat(a,"-gradient-").concat(c.value,")"):"",w=B(m,C,W,t,y,g),R=w.pathString,S=w.pathStyle;m+=C;var L={key:x,d:R,stroke:j,"stroke-linecap":h,"stroke-width":t,opacity:C===0?0:1,"fill-opacity":"0",class:"".concat(a,"-circle-path"),style:S};return d("path",b({ref:function(V){return u(V,x)}},L),null)})};return function(){var f=e.prefixCls,a=e.strokeWidth,t=e.trailWidth,h=e.gapDegree,y=e.gapPosition,g=e.trailColor,m=e.strokeLinecap;e.strokeColor;var C=T(e,de),x=B(0,100,g,a,h,y),W=x.pathString,j=x.pathStyle;delete C.percent;var w=n.value.find(function(S){return Object.prototype.toString.call(S)==="[object Object]"}),R={d:W,stroke:g,"stroke-linecap":m,"stroke-width":t||a,"fill-opacity":"0",class:"".concat(f,"-circle-trail"),style:j};return d("svg",b({class:"".concat(f,"-circle"),viewBox:"0 0 100 100"},C),[w&&d("defs",null,[d("linearGradient",{id:"".concat(f,"-gradient-").concat(c.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(w).sort(function(S,L){return M(S)-M(L)}).map(function(S,L){return d("stop",{key:L,offset:S,"stop-color":w[S]},null)})])]),d("path",R,null),s().reverse()])}}});function pe(i){var e=i.percent,c=i.success,r=i.successPercent,n=D(z({success:c,successPercent:r}));return[n,D(D(e)-n)]}var he=_({inheritAttrs:!1,props:I(),setup:function(e,c){var r=c.slots,n=p(function(){if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),l=p(function(){var t=e.width||120;return{width:typeof t=="number"?"".concat(t,"px"):t,height:typeof t=="number"?"".concat(t,"px"):t,fontSize:"".concat(t*.15+6,"px")}}),o=p(function(){return e.strokeWidth||6}),u=p(function(){return e.gapPosition||e.type==="dashboard"&&"bottom"||"top"}),k=p(function(){return[K.green,e.strokeColor||null]}),s=p(function(){return pe(e)}),f=p(function(){return Object.prototype.toString.call(e.strokeColor)==="[object Object]"}),a=p(function(){var t;return t={},P(t,"".concat(e.prefixCls,"-inner"),!0),P(t,"".concat(e.prefixCls,"-circle-gradient"),f.value),t});return function(){var t;return d("div",{class:a.value,style:l.value},[d(ge,{percent:s.value,strokeWidth:o.value,trailWidth:o.value,strokeColor:k.value,strokeLinecap:e.strokeLinecap,trailColor:e.trailColor,prefixCls:e.prefixCls,gapDegree:n.value,gapPosition:u.value},null),(t=r.default)===null||t===void 0?void 0:t.call(r)])}}}),ke=b(b({},I()),{},{steps:v.number,size:{type:String},strokeColor:v.string,trailColor:v.string}),ye=_({props:ke,setup:function(e,c){var r=c.slots,n=p(function(){return Math.round(e.steps*((e.percent||0)/100))}),l=p(function(){return e.size==="small"?2:14}),o=p(function(){for(var u=e.steps,k=e.strokeWidth,s=k===void 0?8:k,f=e.strokeColor,a=e.trailColor,t=e.prefixCls,h=[],y=0;y<u;y+=1){var g,m=(g={},P(g,"".concat(t,"-steps-item"),!0),P(g,"".concat(t,"-steps-item-active"),y<=n.value-1),g);h.push(d("div",{key:y,class:m,style:{backgroundColor:y<=n.value-1?f:a,width:"".concat(l.value,"px"),height:"".concat(s,"px")}},null))}return h});return function(){var u;return d("div",{class:"".concat(e.prefixCls,"-steps-outer")},[o.value,(u=r.default)===null||u===void 0?void 0:u.call(r)])}}}),Ce=_({name:"AProgress",props:N(I(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:0,strokeLinecap:"round"}),slots:["format"],setup:function(e,c){var r=c.slots,n=Z("progress",e),l=n.prefixCls,o=n.direction;A(e.successPercent==null,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var u=p(function(){var a,t=e.type,h=e.showInfo,y=e.size,g=l.value;return a={},P(a,g,!0),P(a,"".concat(g,"-").concat(t==="dashboard"&&"circle"||t),!0),P(a,"".concat(g,"-show-info"),h),P(a,"".concat(g,"-").concat(y),y),P(a,"".concat(g,"-rtl"),o.value==="rtl"),a}),k=p(function(){var a=e.percent,t=a===void 0?0:a,h=z(e);return parseInt(h!==void 0?h.toString():t.toString(),10)}),s=p(function(){var a=e.status;return F.indexOf(a)<0&&k.value>=100?"success":a||"normal"}),f=function(){var t=e.showInfo,h=e.format,y=e.type,g=e.percent,m=z(e);if(!t)return null;var C,x=h||(r==null?void 0:r.format)||function(j){return"".concat(j,"%")},W=y==="line";return h||r!=null&&r.format||s.value!=="exception"&&s.value!=="success"?C=x(D(g),D(m)):s.value==="exception"?C=W?d(H,null,null):d(J,null,null):s.value==="success"&&(C=W?d(Q,null,null):d(ee,null,null)),d("span",{class:"".concat(l.value,"-text"),title:typeof C=="string"?C:void 0},[C])};return function(){var a=e.type,t=e.steps,h=e.strokeColor,y=f(),g;a==="line"?g=t?d(ye,b(b({},e),{},{strokeColor:typeof h=="string"?h:void 0,prefixCls:l.value,steps:t}),{default:function(){return[y]}}):d(ce,b(b({},e),{},{prefixCls:l.value}),{default:function(){return[y]}}):(a==="circle"||a==="dashboard")&&(g=d(he,b(b({},e),{},{prefixCls:l.value}),{default:function(){return[y]}}));var m=b(b({},u.value),{},P({},"".concat(l.value,"-status-").concat(s.value),!0));return d("div",{class:m},[g])}}}),be=te(Ce);export{be as P};
