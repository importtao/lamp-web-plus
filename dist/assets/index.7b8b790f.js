import{d as I,Q as R,R as Y,S as n,T as F,U as _,V as K,W as A,_ as l,X as M,Y as w,Z as g,p as v,$ as U,a0 as S,a1 as Z,a2 as D,a3 as z,a4 as q,a5 as E}from"./index.ff8e7350.js";var J=["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value"],W=I({name:"Checkbox",mixins:[R],inheritAttrs:!1,props:Y({prefixCls:n.string,name:n.string,id:n.string,type:n.string,defaultChecked:F(n.oneOfType([n.number,n.looseBool])),checked:F(n.oneOfType([n.number,n.looseBool])),disabled:n.looseBool,tabindex:n.oneOfType([n.string,n.number]),readonly:n.looseBool,autofocus:n.looseBool,value:n.any},{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),data:function(){var e=_(this,"checked")?this.checked:this.defaultChecked;return{sChecked:e}},watch:{checked:function(e){this.sChecked=e}},mounted:function(){K(function(){})},methods:{focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},handleChange:function(e){var t=A(this);if(!t.disabled){"checked"in t||(this.sChecked=e.target.checked),e.shiftKey=this.eventShiftKey;var a={target:l(l({},t),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e};"checked"in t&&(this.$refs.input.checked=t.checked),this.__emit("change",a),this.eventShiftKey=!1}},onClick:function(e){this.__emit("click",e),this.eventShiftKey=e.shiftKey}},render:function(){var e,t=A(this),a=t.prefixCls,s=t.name,i=t.id,d=t.type,u=t.disabled,f=t.readonly,p=t.tabindex,h=t.autofocus,r=t.value,b=M(t,J),m=this.$attrs,x=m.class,k=m.onFocus,G=m.onBlur,y=Object.keys(l(l({},b),this.$attrs)).reduce(function(V,c){return(c.substr(0,5)==="aria-"||c.substr(0,5)==="data-"||c==="role")&&(V[c]=b[c]),V},{}),$=this.sChecked,B=w(a,x,(e={},g(e,"".concat(a,"-checked"),$),g(e,"".concat(a,"-disabled"),u),e)),O=l(l({name:s,id:i,type:d,readonly:f,disabled:u,tabindex:p,class:"".concat(a,"-input"),checked:!!$,autofocus:h,value:r},y),{},{onChange:this.handleChange,onClick:this.onClick,onFocus:k,onBlur:G});return v("span",{class:B},[v("input",l({ref:"input"},O),null),v("span",{class:"".concat(a,"-inner")},null)])}}),L=["indeterminate","prefixCls","skipGroup","id"],ee=["onMouseenter","onMouseleave","onInput","class","style"];function X(){}var te=function(){return{prefixCls:n.string,defaultChecked:n.looseBool,checked:n.looseBool,disabled:n.looseBool,isGroup:n.looseBool,value:n.any,name:n.string,id:n.string,indeterminate:n.looseBool,type:n.string.def("checkbox"),autofocus:n.looseBool,onChange:n.func,"onUpdate:checked":n.func,skipGroup:n.looseBool}},C=I({name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:te(),emits:["change","update:checked"],setup:function(){var e=U();return{formItemContext:e,configProvider:S("configProvider",z),checkboxGroupContext:S("checkboxGroupContext",void 0)}},watch:{value:function(e,t){var a=this;this.skipGroup||K(function(){var s=a.checkboxGroupContext,i=s===void 0?{}:s;i.registerValue&&i.cancelValue&&(i.cancelValue(t),i.registerValue(e))})}},mounted:function(){var e=this.value,t=this.checkboxGroupContext,a=t===void 0?{}:t;a.registerValue&&a.registerValue(e),Z(_(this,"checked")||this.checkboxGroupContext||!_(this,"value"),"Checkbox","`value` is not validate prop, do you mean `checked`?")},beforeUnmount:function(){var e=this.value,t=this.checkboxGroupContext,a=t===void 0?{}:t;a.cancelValue&&a.cancelValue(e)},methods:{handleChange:function(e){var t=e.target.checked;this.$emit("update:checked",t),this.$emit("change",e)},focus:function(){this.$refs.vcCheckbox.focus()},blur:function(){this.$refs.vcCheckbox.blur()}},render:function(){var e=this,t,a=A(this),s=this.checkboxGroupContext,i=this.$attrs,d=D(this),u=a.indeterminate,f=a.prefixCls,p=a.skipGroup,h=a.id,r=h===void 0?this.formItemContext.id.value:h,b=M(a,L),m=this.configProvider.getPrefixCls,x=m("checkbox",f),k=i.onMouseenter,G=k===void 0?X:k,y=i.onMouseleave,$=y===void 0?X:y;i.onInput;var B=i.class,O=i.style,V=M(i,ee),c=l(l({},b),{},{id:r,prefixCls:x},V);s&&!p?(c.onChange=function(){for(var N=arguments.length,T=new Array(N),P=0;P<N;P++)T[P]=arguments[P];e.$emit.apply(e,["change"].concat(T)),e.formItemContext.onFieldChange(),s.toggleOption({label:d,value:a.value})},c.name=s.name,c.checked=s.sValue.indexOf(a.value)!==-1,c.disabled=a.disabled||s.disabled,c.indeterminate=u):c.onChange=this.handleChange;var H=w((t={},g(t,"".concat(x,"-wrapper"),!0),g(t,"".concat(x,"-wrapper-checked"),c.checked),g(t,"".concat(x,"-wrapper-disabled"),c.disabled),t),B),Q=w(g({},"".concat(x,"-indeterminate"),u));return v("label",{class:H,style:O,onMouseenter:G,onMouseleave:$},[v(W,l(l({},c),{},{class:Q,ref:"vcCheckbox"}),null),d.length?v("span",null,[d]):null])}});function ne(){}var j=I({name:"ACheckboxGroup",props:{name:n.string,prefixCls:n.string,defaultValue:{type:Array},value:{type:Array},options:{type:Array},disabled:n.looseBool,onChange:n.func,id:n.string},emits:["change","update:value"],setup:function(){var e=U();return{formItemContext:e,configProvider:S("configProvider",z)}},data:function(){var e=this.value,t=this.defaultValue;return{sValue:e||t||[],registeredValues:[]}},watch:{value:function(e){this.sValue=e||[]}},created:function(){q("checkboxGroupContext",this)},methods:{getOptions:function(){var e=this.options,t=e===void 0?[]:e,a=this.$slots;return t.map(function(s){if(typeof s=="string")return{label:s,value:s};var i=s.label;return i===void 0&&a.label&&(i=a.label(s)),l(l({},s),{},{label:i})})},cancelValue:function(e){this.registeredValues=this.registeredValues.filter(function(t){return t!==e})},registerValue:function(e){this.registeredValues=[].concat(E(this.registeredValues),[e])},toggleOption:function(e){var t=this.registeredValues,a=this.sValue.indexOf(e.value),s=E(this.sValue);a===-1?s.push(e.value):s.splice(a,1),_(this,"value")||(this.sValue=s);var i=this.getOptions(),d=s.filter(function(u){return t.indexOf(u)!==-1}).sort(function(u,f){var p=i.findIndex(function(r){return r.value===u}),h=i.findIndex(function(r){return r.value===f});return p-h});this.$emit("update:value",d),this.$emit("change",d),this.formItemContext.onFieldChange()}},render:function(){var e=this.$props,t=this.$data,a=e.prefixCls,s=e.options,i=e.id,d=i===void 0?this.formItemContext.id.value:i,u=this.configProvider.getPrefixCls,f=u("checkbox",a),p=D(this),h="".concat(f,"-group");return s&&s.length>0&&(p=this.getOptions().map(function(r){return v(C,{prefixCls:f,key:r.value.toString(),disabled:"disabled"in r?r.disabled:e.disabled,indeterminate:r.indeterminate,value:r.value,checked:t.sValue.indexOf(r.value)!==-1,onChange:r.onChange||ne,class:"".concat(h,"-item")},{default:function(){return[r.label]}})})),v("div",{class:h,id:d},[p])}});C.Group=j,C.install=function(o){return o.component(C.name,C),o.component(j.name,j),o};export{C,W as a};
