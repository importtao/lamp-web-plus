var t=Object.assign;import{_ as P,a as A}from"./useDrawer.78890a21.js";import{_ as F}from"./BasicForm.71637030.js";import{u as x}from"./useForm.eec49fca.js";import{cu as l,be as o,j as b,h as R,d as Q,w as M,D as w,F as q,r as D,o as B,n as L,J as N,p as $,s as j}from"./index.0523a5a3.js";import{S as s,A as I}from"./commonEnum.da040d67.js";import{g as Y}from"./formValidateService.5ed66daa.js";const i={Page:{url:s.MATERIALS+"/claimOrderItem/page",method:l.POST},Save:{url:s.MATERIALS+"/claimOrderItem",method:l.POST},Update:{url:s.MATERIALS+"/claimOrderItem",method:l.PUT},Delete:{url:s.MATERIALS+"/claimOrderItem",method:l.DELETE},Query:{url:s.MATERIALS+"/claimOrderItem/query",method:l.POST}},C=a=>o.request(t(t({},i.Page),{params:a})),V=a=>o.request(t(t({},i.Save),{params:a})),U=a=>o.request(t(t({},i.Update),{params:a})),H=a=>o.request(t(t({},i.Delete),{params:a})),{t:e}=b(),z=[{title:e("lamp.materials.claimOrderItem.orderId"),dataIndex:"orderId"},{title:e("lamp.materials.claimOrderItem.materialsId"),dataIndex:"materialsId"},{title:e("lamp.materials.claimOrderItem.materialsName"),dataIndex:"materialsName"},{title:e("lamp.materials.claimOrderItem.skuId"),dataIndex:"skuId"},{title:e("lamp.materials.claimOrderItem.skuName"),dataIndex:"skuName"},{title:e("lamp.materials.claimOrderItem.unitPrice"),dataIndex:"unitPrice"},{title:e("lamp.materials.claimOrderItem.totalQuantity"),dataIndex:"totalQuantity"},{title:e("lamp.materials.claimOrderItem.deliveredQuantity"),dataIndex:"deliveredQuantity"},{title:e("lamp.materials.claimOrderItem.todoQuantity"),dataIndex:"todoQuantity"},{title:e("lamp.materials.claimOrderItem.unit"),dataIndex:"unit"},{title:e("lamp.materials.claimOrderItem.auditType"),dataIndex:"auditType"},{title:e("lamp.materials.claimOrderItem.requireTime"),dataIndex:"requireTime"},{title:e("lamp.materials.claimOrderItem.status"),dataIndex:"status"},{title:e("lamp.materials.claimOrderItem.remark"),dataIndex:"remark"},{title:e("lamp.common.createTime"),dataIndex:"createTime",sorter:!0,width:180}],G=[{field:"createTimeRange",label:e("lamp.common.createTime"),component:"RangePicker",colProps:{span:6}}],J=[{field:"id",label:"ID",component:"Input",show:!1},{label:e("lamp.materials.claimOrderItem.orderId"),field:"orderId",component:"Input"},{label:e("lamp.materials.claimOrderItem.materialsId"),field:"materialsId",component:"Input"},{label:e("lamp.materials.claimOrderItem.materialsName"),field:"materialsName",component:"Input"},{label:e("lamp.materials.claimOrderItem.skuId"),field:"skuId",component:"Input"},{label:e("lamp.materials.claimOrderItem.skuName"),field:"skuName",component:"Input"},{label:e("lamp.materials.claimOrderItem.unitPrice"),field:"unitPrice",component:"Input"},{label:e("lamp.materials.claimOrderItem.totalQuantity"),field:"totalQuantity",component:"Input"},{label:e("lamp.materials.claimOrderItem.deliveredQuantity"),field:"deliveredQuantity",component:"Input"},{label:e("lamp.materials.claimOrderItem.todoQuantity"),field:"todoQuantity",component:"Input"},{label:e("lamp.materials.claimOrderItem.unit"),field:"unit",component:"Input"},{label:e("lamp.materials.claimOrderItem.auditType"),field:"auditType",component:"Input"},{label:e("lamp.materials.claimOrderItem.requireTime"),field:"requireTime",component:"DatePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD",showTime:{defaultValue:R("00:00:00","HH:mm:ss")}}},{label:e("lamp.materials.claimOrderItem.status"),field:"status",component:"Input"},{label:e("lamp.materials.claimOrderItem.remark"),field:"remark",component:"Input"}],W=a=>[];var f=Q({name:"ClaimOrderItemEdit",components:{BasicDrawer:P,BasicForm:F},emits:["success","register"],setup(a,{emit:O}){const{t:n}=b(),m=M(I.ADD),{createMessage:y}=q(),[g,{setFieldsValue:d,resetFields:c,updateSchema:S,validate:k}]=x({labelWidth:100,schemas:J,showActionButtonGroup:!1,actionColOptions:{span:23}}),[v,{setDrawerProps:u,closeDrawer:_}]=A(async r=>{await c(),u({confirmLoading:!1}),m.value=r==null?void 0:r.type;let h=i.Save;const T=t({},r==null?void 0:r.record);w(m)===I.EDIT?h=i.Update:T.id=void 0,await d(t({},T)),Y(h,W()).then(async p=>{p&&p.length>0&&await S(p)})});async function E(){try{const r=await k();u({confirmLoading:!0}),w(m)===I.EDIT?await U(r):await V(r),y.success(n(`common.tips.${m.value}Success`)),_(),O("success")}finally{u({confirmLoading:!1})}}return{t:n,registerDrawer:v,registerForm:g,type:m,handleSubmit:E}}});function K(a,O,n,m,y,g){const d=D("BasicForm"),c=D("BasicDrawer");return B(),L(c,j(a.$attrs,{onRegister:a.registerDrawer,showFooter:"",width:"30%",maskClosable:!1,title:a.t(`common.title.${a.type}`),onOk:a.handleSubmit}),{default:N(()=>[$(d,{onRegister:a.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}f.render=K;var X=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:f});export{X as E,f as _,z as c,C as p,H as r,G as s};
