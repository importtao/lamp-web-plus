import{ac as R,bP as X,_ as P,X as z,ar as Y,a5 as j,bK as q,a6 as B}from"./index.ff8e7350.js";var M=["title","icon","switcherIcon"];function A(e,r){return e!=null?e:r}function L(e){var r=e||{},n=r.title,i=r.key,a=r.children;return{title:n||"title",key:i||"key",children:a||"children"}}function U(e){function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=Y(n);return i.map(function(a){var l,o,h,v;if(!ne(a))return null;for(var f=a.children||{},g=a.key,d={},t=0,c=Object.entries(a.props);t<c.length;t++){var u=R(c[t],2),p=u[0],s=u[1];d[X(p)]=s}var k=d.isLeaf,y=d.checkable,m=d.selectable,K=d.disabled,x=d.disableCheckbox,N={isLeaf:k||k===""||void 0,checkable:y||y===""||void 0,selectable:m||m===""||void 0,disabled:K||K===""||void 0,disableCheckbox:x||x===""||void 0},w=P(P({},d),N),S=d.title,C=S===void 0?(l=f.title)===null||l===void 0?void 0:l.call(f,w):S,E=d.icon,T=E===void 0?(o=f.icon)===null||o===void 0?void 0:o.call(f,w):E,b=d.switcherIcon,O=b===void 0?(h=f.switcherIcon)===null||h===void 0?void 0:h.call(f,w):b,G=z(d,M),W=(v=f.default)===null||v===void 0?void 0:v.call(f),I=P(P({},G),{},{title:C,icon:T,switcherIcon:O,key:g,isLeaf:k},N),_=r(W);return _.length&&(I.children=_),I})}return r(e)}function H(e,r,n){var i=L(n),a=i.title,l=i.key,o=i.children,h=new Set(r===!0?[]:r),v=[];function f(g){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return g.map(function(t,c){var u=$(d?d.pos:"0",c),p=A(t[l],u),s=P(P({},q(t,[a,l,o])),{},{title:t[a],key:p,parent:d,pos:u,children:null,data:t,isStart:[].concat(j(d?d.isStart:[]),[c===0]),isEnd:[].concat(j(d?d.isEnd:[]),[c===g.length-1])});return v.push(s),r===!0||h.has(p)?s.children=f(t[o]||[],s):s.children=[],s})}return f(e),v}function J(e,r,n){var i={};B(n)==="object"?i=n:i={externalGetKey:n},i=i||{};var a=i,l=a.childrenPropName,o=a.externalGetKey,h=a.fieldNames,v=L(h),f=v.key,g=v.children,d=l||g,t;o?typeof o=="string"?t=function(p){return p[o]}:typeof o=="function"&&(t=function(p){return o(p)}):t=function(p,s){return A(p[f],s)};function c(u,p,s){var k=u?u[d]:e,y=u?$(s.pos,p):"0";if(u){var m=t(u,y),K={node:u,index:p,pos:y,key:m,parentPos:s.node?s.pos:null,level:s.level+1};r(K)}k&&k.forEach(function(x,N){c(x,N,{node:u,pos:y,level:s?s.level+1:-1})})}c(null)}function Q(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.initWrapper,i=r.processEntity,a=r.onProcessFinished,l=r.externalGetKey,o=r.childrenPropName,h=r.fieldNames,v=arguments.length>2?arguments[2]:void 0,f=l||v,g={},d={},t={posEntities:g,keyEntities:d};return n&&(t=n(t)||t),J(e,function(c){var u=c.node,p=c.index,s=c.pos,k=c.key,y=c.parentPos,m=c.level,K={node:u,index:p,key:k,pos:s,level:m},x=A(k,s);g[s]=K,d[x]=K,K.parent=g[y],K.parent&&(K.parent.children=K.parent.children||[],K.parent.children.push(K)),i&&i(K,t)},{externalGetKey:f,childrenPropName:o,fieldNames:h}),a&&a(t),t}function V(e,r){var n=r.expandedKeys,i=r.selectedKeys,a=r.loadedKeys,l=r.loadingKeys,o=r.checkedKeys,h=r.halfCheckedKeys,v=r.dragOverNodeKey,f=r.dropPosition,g=r.keyEntities,d=g[e],t={eventKey:e,expanded:n.indexOf(e)!==-1,selected:i.indexOf(e)!==-1,loaded:a.indexOf(e)!==-1,loading:l.indexOf(e)!==-1,checked:o.indexOf(e)!==-1,halfChecked:h.indexOf(e)!==-1,pos:String(d?d.pos:""),dragOver:v===e&&f===0,dragOverGapTop:v===e&&f===-1,dragOverGapBottom:v===e&&f===1};return t}function Z(e){var r=e.data,n=e.expanded,i=e.selected,a=e.checked,l=e.loaded,o=e.loading,h=e.halfChecked,v=e.dragOver,f=e.dragOverGapTop,g=e.dragOverGapBottom,d=e.pos,t=e.active,c=P(P({dataRef:r},r),{},{expanded:n,selected:i,checked:a,loaded:l,loading:o,halfChecked:h,dragOver:v,dragOverGapTop:f,dragOverGapBottom:g,pos:d,active:t,eventKey:r.key});return"props"in c||Object.defineProperty(c,"props",{get:function(){return e}}),c}function ee(e,r){var n=e.slice(),i=n.indexOf(r);return i>=0&&n.splice(i,1),n}function re(e,r){var n=e.slice();return n.indexOf(r)===-1&&n.push(r),n}function F(e){return e.split("-")}function $(e,r){return"".concat(e,"-").concat(r)}function ne(e){return e&&e.type&&e.type.isTreeNode}function ae(e,r){var n=[],i=r[e];function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(o){var h=o.key,v=o.children;n.push(h),a(v)})}return a(i.children),n}function te(e){if(e.parent){var r=F(e.pos);return Number(r[r.length-1])===e.parent.children.length-1}return!1}function ie(e){var r=F(e.pos);return Number(r[r.length-1])===0}function de(e,r,n,i,a,l,o,h,v,f){var g,d=e.clientX,t=e.clientY,c=e.target.getBoundingClientRect(),u=c.top,p=c.height,s=(f==="rtl"?-1:1)*(((a==null?void 0:a.x)||0)-d),k=(s-12)/i,y=h[n.eventKey];if(t<u+p/2){var m=o.findIndex(function(G){return G.data.key===y.key}),K=m<=0?0:m-1,x=o[K].data.key;y=h[x]}var N=y.key,w=y,S=y.key,C=0,E=0;if(!v.includes(N))for(var T=0;T<k&&te(y);T+=1)y=y.parent,E+=1;var b=y.node,O=!0;return ie(y)&&y.level===0&&t<u+p/2&&l({dropNode:b,dropPosition:-1})&&y.key===n.eventKey?C=-1:(w.children||[]).length&&v.includes(S)?l({dropNode:b,dropPosition:0})?C=0:O=!1:E===0?k>-1.5?l({dropNode:b,dropPosition:1})?C=1:O=!1:l({dropNode:b,dropPosition:0})?C=0:l({dropNode:b,dropPosition:1})?C=1:O=!1:l({dropNode:b,dropPosition:1})?C=1:O=!1,{dropPosition:C,dropLevelOffset:E,dropTargetKey:y.key,dropTargetPos:y.pos,dragOverNodeKey:S,dropContainerKey:C===0?null:((g=y.parent)===null||g===void 0?void 0:g.key)||null,dropAllowed:O}}function oe(e,r){if(!!e){var n=r.multiple;return n?e.slice():e.length?[e[0]]:e}}function le(e){if(!e)return null;var r;if(Array.isArray(e))r={checkedKeys:e,halfCheckedKeys:void 0};else if(B(e)==="object")r={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return null;return r}function ce(e,r){var n=new Set;function i(a){if(!n.has(a)){var l=r[a];if(!!l){n.add(a);var o=l.parent,h=l.node;h.disabled||o&&i(o.key)}}}return(e||[]).forEach(function(a){i(a)}),j(n)}function se(e){var r={};return Object.keys(e).forEach(function(n){(n.startsWith("data-")||n.startsWith("aria-"))&&(r[n]=e[n])}),r}function D(e,r){var n=new Set;return e.forEach(function(i){r.has(i)||n.add(i)}),n}function fe(e){var r=e||{},n=r.disabled,i=r.disableCheckbox,a=r.checkable;return!!(n||i)||a===!1}function ue(e,r,n,i){for(var a=new Set(e),l=new Set,o=0;o<=n;o+=1){var h=r.get(o)||new Set;h.forEach(function(d){var t=d.key,c=d.node,u=d.children,p=u===void 0?[]:u;a.has(t)&&!i(c)&&p.filter(function(s){return!i(s.node)}).forEach(function(s){a.add(s.key)})})}for(var v=new Set,f=n;f>=0;f-=1){var g=r.get(f)||new Set;g.forEach(function(d){var t=d.parent,c=d.node;if(!(i(c)||!d.parent||v.has(d.parent.key))){if(i(d.parent.node)){v.add(t.key);return}var u=!0,p=!1;(t.children||[]).filter(function(s){return!i(s.node)}).forEach(function(s){var k=s.key,y=a.has(k);u&&!y&&(u=!1),!p&&(y||l.has(k))&&(p=!0)}),u&&a.add(t.key),p&&l.add(t.key),v.add(t.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(D(l,a))}}function ve(e,r,n,i,a){for(var l=new Set(e),o=new Set(r),h=0;h<=i;h+=1){var v=n.get(h)||new Set;v.forEach(function(t){var c=t.key,u=t.node,p=t.children,s=p===void 0?[]:p;!l.has(c)&&!o.has(c)&&!a(u)&&s.filter(function(k){return!a(k.node)}).forEach(function(k){l.delete(k.key)})})}o=new Set;for(var f=new Set,g=i;g>=0;g-=1){var d=n.get(g)||new Set;d.forEach(function(t){var c=t.parent,u=t.node;if(!(a(u)||!t.parent||f.has(t.parent.key))){if(a(t.parent.node)){f.add(c.key);return}var p=!0,s=!1;(c.children||[]).filter(function(k){return!a(k.node)}).forEach(function(k){var y=k.key,m=l.has(y);p&&!m&&(p=!1),!s&&(m||o.has(y))&&(s=!0)}),p||l.delete(c.key),s&&o.add(c.key),f.add(c.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(D(o,l))}}function he(e,r,n,i){var a;i?a=i:a=fe;var l=new Set(e.filter(function(f){var g=!!n[f];return g})),o=new Map,h=0;Object.keys(n).forEach(function(f){var g=n[f],d=g.level,t=o.get(d);t||(t=new Set,o.set(d,t)),t.add(g),h=Math.max(h,d)});var v;return r===!0?v=ue(l,o,h,a):v=ve(l,r.halfCheckedKeys,o,h,a),v}export{he as a,ee as b,Q as c,re as d,Z as e,H as f,se as g,V as h,A as i,U as j,L as k,ce as l,oe as m,ae as n,de as o,le as p,F as q};
