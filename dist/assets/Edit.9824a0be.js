var m=Object.assign;import{_ as F,a as y}from"./useDrawer.9766a9b2.js";import{_ as B}from"./BasicForm.7d393d3b.js";import{u as x}from"./useForm.09fdf95d.js";import{j as g,d as j,w as R,D as w,F as $,r as P,o as A,n as E,J as T,p as C,s as O}from"./index.ff8e7350.js";import{A as c}from"./commonEnum.da040d67.js";import{A as b,u as V,a as L}from"./skuParent.d034d179.js";import{g as M}from"./formValidateService.a395f7ea.js";const{t:e}=g(),G=[{title:e("lamp.materials.skuParent.materialsId"),dataIndex:"materialsId"},{title:e("lamp.materials.skuParent.name"),dataIndex:"name"},{title:e("lamp.materials.skuParent.keyStr"),dataIndex:"keyStr"},{title:e("lamp.materials.skuParent.orderIndex"),dataIndex:"orderIndex"},{title:e("lamp.materials.skuParent.remark"),dataIndex:"remark"},{title:e("lamp.materials.skuParent.version"),dataIndex:"version"},{title:e("lamp.materials.skuParent.isDelete"),dataIndex:"isDelete"},{title:e("lamp.common.createTime"),dataIndex:"createTime",sorter:!0,width:180}],z=[{field:"createTimeRange",label:e("lamp.common.createTime"),component:"RangePicker",colProps:{span:6}}],J=[{field:"id",label:"ID",component:"Input",show:!1},{label:e("lamp.materials.skuParent.materialsId"),field:"materialsId",component:"Input"},{label:e("lamp.materials.skuParent.name"),field:"name",component:"Input"},{label:e("lamp.materials.skuParent.keyStr"),field:"keyStr",component:"Input"},{label:e("lamp.materials.skuParent.orderIndex"),field:"orderIndex",component:"Input"},{label:e("lamp.materials.skuParent.remark"),field:"remark",component:"Input"},{label:e("lamp.materials.skuParent.version"),field:"version",component:"Input"},{label:e("lamp.materials.skuParent.isDelete"),field:"isDelete",component:"RadioButtonGroup",componentProps:{options:[{label:e("lamp.common.yes"),value:!0},{label:e("lamp.common.no"),value:!1}]}}],N=t=>[];var p=j({name:"SkuParentEdit",components:{BasicDrawer:F,BasicForm:B},emits:["success","register"],setup(t,{emit:d}){const{t:r}=g(),s=R(c.ADD),{createMessage:u}=$(),[f,{setFieldsValue:n,resetFields:o,updateSchema:D,validate:h}]=x({labelWidth:100,schemas:J,showActionButtonGroup:!1,actionColOptions:{span:23}}),[_,{setDrawerProps:i,closeDrawer:v}]=y(async a=>{await o(),i({confirmLoading:!1}),s.value=a==null?void 0:a.type;let k=b.Save;const I=m({},a==null?void 0:a.record);w(s)===c.EDIT?k=b.Update:I.id=void 0,await n(m({},I)),M(k,N()).then(async l=>{l&&l.length>0&&await D(l)})});async function S(){try{const a=await h();i({confirmLoading:!0}),w(s)===c.EDIT?await V(a):await L(a),u.success(r(`common.tips.${s.value}Success`)),v(),d("success")}finally{i({confirmLoading:!1})}}return{t:r,registerDrawer:_,registerForm:f,type:s,handleSubmit:S}}});function U(t,d,r,s,u,f){const n=P("BasicForm"),o=P("BasicDrawer");return A(),E(o,O(t.$attrs,{onRegister:t.registerDrawer,showFooter:"",width:"30%",maskClosable:!1,title:t.t(`common.title.${t.type}`),onOk:t.handleSubmit}),{default:T(()=>[C(n,{onRegister:t.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}p.render=U;var W=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:p});export{W as E,p as _,G as c,z as s};
