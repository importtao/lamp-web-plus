import{aa as Oe,a9 as Le,aS as Te,cR as _e,S as a,Q as j,Y as F,Z as g,_ as p,p as c,a2 as D,a1 as Ue,bL as xe,d as M,R as V,V as te,as as k,a6 as re,W as q,X as ne,s as X,I as G,a0 as oe,am as De,cS as $e,ag as Se,ah as Re,aZ as je,cT as ke,cU as Ee,a3 as ae,$ as Be,U as Ae,l as Ne,cs as Me,cV as qe}from"./index.0523a5a3.js";import{u as He}from"./uniqBy.2c7c6ba7.js";import{f as ze}from"./findIndex.0841f873.js";import{b as We}from"./_baseIteratee.32c93b4a.js";import{P as Ve}from"./index.436d37b6.js";import{F as Xe}from"./FileOutlined.53cb4a4e.js";import{D as Ge}from"./DeleteOutlined.30981501.js";function Ye(r,e,t,n){for(var o=-1,i=r==null?0:r.length;++o<i;){var s=r[o];e(n,s,t(s),r)}return n}function Je(r){return function(e,t,n){for(var o=-1,i=Object(e),s=n(e),l=s.length;l--;){var d=s[r?l:++o];if(t(i[d],d,i)===!1)break}return e}}var Ze=Je();function Qe(r,e){return r&&Ze(r,e,Oe)}function Ke(r,e){return function(t,n){if(t==null)return t;if(!Le(t))return r(t,n);for(var o=t.length,i=e?o:-1,s=Object(t);(e?i--:++i<o)&&n(s[i],i,s)!==!1;);return t}}var et=Ke(Qe);function tt(r,e,t,n){return et(r,function(o,i,s){e(n,o,t(o),s)}),n}function rt(r,e){return function(t,n){var o=Te(t)?Ye:tt,i=e?e():{};return o(t,r,We(n),i)}}var nt=rt(function(r,e,t){r[t?0:1].push(e)},function(){return[[],[]]});function ot(r,e){var t="cannot ".concat(r.method," ").concat(r.action," ").concat(e.status,"'"),n=new Error(t);return n.status=e.status,n.method=r.method,n.url=r.action,n}function ie(r){var e=r.responseText||r.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}function at(r){var e=new window.XMLHttpRequest;r.onProgress&&e.upload&&(e.upload.onprogress=function(s){s.total>0&&(s.percent=s.loaded/s.total*100),r.onProgress(s)});var t=new window.FormData;r.data&&Object.keys(r.data).forEach(function(i){var s=r.data[i];if(Array.isArray(s)){s.forEach(function(l){t.append("".concat(i,"[]"),l)});return}t.append(i,r.data[i])}),t.append(r.filename,r.file),e.onerror=function(s){r.onError(s)},e.onload=function(){if(e.status<200||e.status>=300)return r.onError(ot(r,e),ie(e));r.onSuccess(ie(e),e)},e.open(r.method,r.action,!0),r.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var n=r.headers||{};n["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var o in n)n.hasOwnProperty(o)&&n[o]!==null&&e.setRequestHeader(o,n[o]);return e.send(t),{abort:function(){e.abort()}}}var it=+new Date,st=0;function H(){return"vc-upload-".concat(it,"-").concat(++st)}function lt(r,e){return r.indexOf(e,r.length-e.length)!==-1}var se=function(r,e){if(r&&e){var t=Array.isArray(e)?e:e.split(","),n=r.name||"",o=r.type||"",i=o.replace(/\/.*$/,"");return t.some(function(s){var l=s.trim();return l.charAt(0)==="."?lt(n.toLowerCase(),l.toLowerCase()):/\/\*$/.test(l)?i===l.replace(/\/.*$/,""):o===l})}return!0};function ut(r,e){var t=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_e(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(f){throw f},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,l;return{s:function(){t=t.call(r)},n:function(){var f=t.next();return i=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function ct(r,e){var t=r.createReader(),n=[];function o(){t.readEntries(function(i){var s=Array.prototype.slice.apply(i);n=n.concat(s);var l=!s.length;l?e(n):o()})}o()}var dt=function(e,t,n){var o=function d(f,v){v=v||"",f.isFile?f.file(function(h){n(h)&&(f.fullPath&&!h.webkitRelativePath&&(Object.defineProperties(h,{webkitRelativePath:{writable:!0}}),h.webkitRelativePath=f.fullPath.replace(/^\//,""),Object.defineProperties(h,{webkitRelativePath:{writable:!1}})),t([h]))}):f.isDirectory&&ct(f,function(h){h.forEach(function(y){d(y,"".concat(v).concat(f.name,"/"))})})},i=ut(e),s;try{for(i.s();!(s=i.n()).done;){var l=s.value;o(l.webkitGetAsEntry())}}catch(d){i.e(d)}finally{i.f()}},ft={componentTag:a.string,prefixCls:a.string,name:a.string,multiple:a.looseBool,directory:a.looseBool,disabled:a.looseBool,accept:a.string,data:a.oneOfType([a.object,a.func]),action:a.oneOfType([a.string,a.func]),headers:a.object,beforeUpload:a.func,customRequest:a.func,withCredentials:a.looseBool,openFileDialogOnClick:a.looseBool,transformFile:a.func,method:a.string},pt={inheritAttrs:!1,name:"ajaxUploader",mixins:[j],props:ft,data:function(){return this.reqs={},{uid:H()}},mounted:function(){this._isMounted=!0},beforeUnmount:function(){this._isMounted=!1,this.abort()},methods:{onChange:function(e){var t=e.target.files;this.uploadFiles(t),this.reset()},onClick:function(){var e=this.$refs.fileInputRef;!e||e.click()},onKeyDown:function(e){e.key==="Enter"&&this.onClick()},onFileDrop:function(e){var t=this,n=this.$props.multiple;if(e.preventDefault(),e.type!=="dragover")if(this.directory)dt(e.dataTransfer.items,this.uploadFiles,function(l){return se(l,t.accept)});else{var o=nt(Array.prototype.slice.call(e.dataTransfer.files),function(l){return se(l,t.accept)}),i=o[0],s=o[1];n===!1&&(i=i.slice(0,1)),this.uploadFiles(i),s.length&&this.__emit("reject",s)}},uploadFiles:function(e){var t=this,n=Array.prototype.slice.call(e);n.map(function(o){return o.uid=H(),o}).forEach(function(o){t.upload(o,n)})},upload:function(e,t){var n=this;if(!this.beforeUpload)return setTimeout(function(){return n.post(e)},0);var o=this.beforeUpload(e,t);o&&o.then?o.then(function(i){var s=Object.prototype.toString.call(i);return s==="[object File]"||s==="[object Blob]"?n.post(i):n.post(e)}).catch(function(i){console&&console.log(i)}):o!==!1&&setTimeout(function(){return n.post(e)},0)},post:function(e){var t=this;if(!!this._isMounted){var n=this.$props,o=n.data,i=n.transformFile,s=i===void 0?function(l){return l}:i;new Promise(function(l){var d=t.action;if(typeof d=="function")return l(d(e));l(d)}).then(function(l){var d=e.uid,f=t.customRequest||at,v=Promise.resolve(s(e)).catch(function(h){console.error(h)});v.then(function(h){typeof o=="function"&&(o=o(e));var y={action:l,filename:t.name,data:o,file:h,headers:t.headers,withCredentials:t.withCredentials,method:n.method||"post",onProgress:function(m){t.__emit("progress",m,e)},onSuccess:function(m,C){delete t.reqs[d],t.__emit("success",m,e,C)},onError:function(m,C){delete t.reqs[d],t.__emit("error",m,C,e)}};t.reqs[d]=f(y),t.__emit("start",e)})})}},reset:function(){this.setState({uid:H()})},abort:function(e){var t=this.reqs;if(e){var n=e;e&&e.uid&&(n=e.uid),t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach(function(o){t[o]&&t[o].abort&&t[o].abort(),delete t[o]})}},render:function(){var e,t=this,n=this.$props,o=this.$attrs,i=n.componentTag,s=n.prefixCls,l=n.disabled,d=n.multiple,f=n.accept,v=n.directory,h=n.openFileDialogOnClick,y=o.class,P=o.style,m=o.id,C=F((e={},g(e,s,!0),g(e,"".concat(s,"-disabled"),l),g(e,y,y),e)),w=l?{}:{onClick:h?this.onClick:function(){},onKeydown:h?this.onKeyDown:function(){},onDrop:this.onFileDrop,onDragover:this.onFileDrop},L=p(p({},w),{},{role:"button",tabindex:l?null:"0",class:C,style:P});return c(i,L,{default:function(){return[c("input",{id:m,type:"file",ref:"fileInputRef",onClick:function(b){return b.stopPropagation()},key:t.uid,style:{display:"none"},accept:f,directory:v?"directory":null,webkitdirectory:v?"webkitdirectory":null,multiple:d,onChange:t.onChange},null),D(t)]}})}},ht={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},mt={name:"IframeUploader",mixins:[j],props:{componentTag:a.string,disabled:a.looseBool,prefixCls:a.string,accept:a.string,multiple:a.looseBool,data:a.oneOfType([a.object,a.func]),action:a.oneOfType([a.string,a.func]),name:a.string},data:function(){return this.file={},{uploading:!1}},methods:{onLoad:function(){if(!!this.uploading){var e=this.file,t;try{var n=this.getIframeDocument(),o=n.getElementsByTagName("script")[0];o&&o.parentNode===n.body&&n.body.removeChild(o),t=n.body.innerHTML,this.__emit("success",t,e)}catch(i){Ue(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),t="cross-domain",this.__emit("error",i,null,e)}this.endUpload()}},onChange:function(){var e=this,t=this.getFormInputNode(),n=this.file={uid:H(),name:t.value&&t.value.substring(t.value.lastIndexOf("\\")+1,t.value.length)};this.startUpload();var o=this.$props;if(!o.beforeUpload)return this.post(n);var i=o.beforeUpload(n);i&&i.then?i.then(function(){e.post(n)},function(){e.endUpload()}):i!==!1?this.post(n):this.endUpload()},getIframeNode:function(){return this.$refs.iframeRef},getIframeDocument:function(){return this.getIframeNode().contentDocument},getFormNode:function(){return this.getIframeDocument().getElementById("form")},getFormInputNode:function(){return this.getIframeDocument().getElementById("input")},getFormDataNode:function(){return this.getIframeDocument().getElementById("data")},getFileForMultiple:function(e){return this.multiple?[e]:e},getIframeHTML:function(e){var t="",n="";if(e){var o="script";t="<".concat(o,'>document.domain="').concat(e,'";</').concat(o,">"),n='<input name="_documentDomain" value="'.concat(e,'" />')}return`
      <!DOCTYPE html>
      <html>
      <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <style>
      body,html {padding:0;margin:0;border:0;overflow:hidden;}
      </style>
      `.concat(t,`
      </head>
      <body>
      <form method="post"
      encType="multipart/form-data"
      action="" id="form"
      style="display:block;height:9999px;position:relative;overflow:hidden;">
      <input id="input" type="file"
       name="`).concat(this.name,`"
       style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>
      `).concat(n,`
      <span id="data"></span>
      </form>
      </body>
      </html>
      `)},initIframeSrc:function(){this.domain&&(this.getIframeNode().src=`javascript:void((function(){
          var d = document;
          d.open();
          d.domain='`.concat(this.domain,`';
          d.write('');
          d.close();
        })())`))},initIframe:function(){var e=this.getIframeNode(),t=e.contentWindow,n;this.domain=this.domain||"",this.initIframeSrc();try{n=t.document}catch(o){this.domain=document.domain,this.initIframeSrc(),t=e.contentWindow,n=t.document}n.open("text/html","replace"),n.write(this.getIframeHTML(this.domain)),n.close(),this.getFormInputNode().onchange=this.onChange},endUpload:function(){this.uploading&&(this.file={},this.uploading=!1,this.setState({uploading:!1}),this.initIframe())},startUpload:function(){this.uploading||(this.uploading=!0,this.setState({uploading:!0}))},updateIframeWH:function(){var e=xe(this),t=this.getIframeNode();t.style.height="".concat(e.offsetHeight,"px"),t.style.width="".concat(e.offsetWidth,"px")},abort:function(e){if(e){var t=e;e&&e.uid&&(t=e.uid),t===this.file.uid&&this.endUpload()}else this.endUpload()},post:function(e){var t=this,n=this.getFormNode(),o=this.getFormDataNode(),i=this.$props.data;typeof i=="function"&&(i=i(e));var s=document.createDocumentFragment();for(var l in i)if(i.hasOwnProperty(l)){var d=document.createElement("input");d.setAttribute("name",l),d.value=i[l],s.appendChild(d)}o.appendChild(s),new Promise(function(f){var v=t.action;if(typeof v=="function")return f(v(e));f(v)}).then(function(f){n.setAttribute("action",f),n.submit(),o.innerHTML="",t.__emit("start",e)})}},mounted:function(){var e=this;this.$nextTick(function(){e.updateIframeWH(),e.initIframe()})},updated:function(){var e=this;this.$nextTick(function(){e.updateIframeWH()})},render:function(){var e,t=this,n=this.$props,o=n.componentTag,i=n.disabled,s=n.prefixCls,l=this.$attrs,d=l.class,f=l.style,v=p(p({},ht),{},{display:this.uploading||i?"none":""}),h=F((e={},g(e,s,!0),g(e,"".concat(s,"-disabled"),i),g(e,d,d),e));return c(o,{class:h,style:p({position:"relative",zIndex:0},f)},{default:function(){return[c("iframe",{ref:"iframeRef",onLoad:t.onLoad,style:v},null),D(t)]}})}};function E(){}var vt={componentTag:a.string,prefixCls:a.string,action:a.oneOfType([a.string,a.func]),name:a.string,multipart:a.looseBool,directory:a.looseBool,onError:a.func,onSuccess:a.func,onProgress:a.func,onStart:a.func,data:a.oneOfType([a.object,a.func]),headers:a.object,accept:a.string,multiple:a.looseBool,disabled:a.looseBool,beforeUpload:a.func,customRequest:a.func,onReady:a.func,withCredentials:a.looseBool,supportServerRender:a.looseBool,openFileDialogOnClick:a.looseBool,method:a.string},le=M({name:"Upload",mixins:[j],inheritAttrs:!1,props:V(vt,{componentTag:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onReady:E,onStart:E,onError:E,onSuccess:E,supportServerRender:!1,multiple:!1,beforeUpload:E,withCredentials:!1,openFileDialogOnClick:!0}),data:function(){return this.Component=null,{}},mounted:function(){var e=this;this.$nextTick(function(){e.supportServerRender&&(e.Component=e.getComponent(),e.$forceUpdate(),te(function(){e.__emit("ready")}))})},methods:{getComponent:function(){return typeof File!="undefined"?pt:mt},abort:function(e){this.$refs.uploaderRef.abort(e)}},render:function(){var e=this,t=p(p({},this.$props),{},{ref:"uploaderRef"},this.$attrs);if(this.supportServerRender){var n=this.Component;return n?c(n,t,{default:function(){return[D(e)]}}):null}var o=this.getComponent();return c(o,t,{default:function(){return[D(e)]}})}});a.oneOf(k("error","success","done","uploading","removed"));function $(r){var e=r.uid,t=r.name;return!(!e&&e!==0||!["string","number"].includes(re(e))||t===""||typeof t!="string")}a.custom($),a.arrayOf(a.custom($)),a.object;var gt=a.shape({showRemoveIcon:a.looseBool,showPreviewIcon:a.looseBool}).loose,ue=a.shape({uploading:a.string,removeFile:a.string,downloadFile:a.string,uploadError:a.string,previewFile:a.string}).loose,ce={type:a.oneOf(k("drag","select")),name:a.string,defaultFileList:a.arrayOf(a.custom($)),fileList:a.arrayOf(a.custom($)),action:a.oneOfType([a.string,a.func]),directory:a.looseBool,data:a.oneOfType([a.object,a.func]),method:a.oneOf(k("POST","PUT","PATCH","post","put","patch")),headers:a.object,showUploadList:a.oneOfType([a.looseBool,gt]),multiple:a.looseBool,accept:a.string,beforeUpload:a.func,listType:a.oneOf(k("text","picture","picture-card")),remove:a.func,supportServerRender:a.looseBool,disabled:a.looseBool,prefixCls:a.string,customRequest:a.func,withCredentials:a.looseBool,openFileDialogOnClick:a.looseBool,locale:ue,height:a.number,id:a.string,previewFile:a.func,transformFile:a.func,onChange:a.func,onPreview:a.func,onRemove:a.func,onDownload:a.func,"onUpdate:fileList":a.func};a.arrayOf(a.custom($)),a.string;var wt={listType:a.oneOf(k("text","picture","picture-card")),items:a.arrayOf(a.custom($)),progressAttr:a.object,prefixCls:a.string,showRemoveIcon:a.looseBool,showDownloadIcon:a.looseBool,showPreviewIcon:a.looseBool,locale:ue,previewFile:a.func,onPreview:a.func,onRemove:a.func,onDownload:a.func},yt=["height"],bt=["style"],z=M({name:"AUploadDragger",inheritAttrs:!1,props:ce,render:function(){var e=this,t=q(this),n=t.height,o=ne(t,yt),i=this.$attrs,s=i.style,l=ne(i,bt),d=p(p(p({},o),l),{},{type:"drag",style:p(p({},s),{},{height:n})});return c(S,d,{default:function(){return[D(e)]}})}});function Pt(){return!0}function de(r){return p(p({},r),{},{lastModified:r.lastModified,lastModifiedDate:r.lastModifiedDate,name:r.name,size:r.size,type:r.type,uid:r.uid,percent:0,originFileObj:r})}function Ct(){var r=.1,e=.01,t=.98;return function(n){var o=n;return o>=t||(o+=r,r=r-e,r<.001&&(r=.001)),o}}function Y(r,e){var t=r.uid!==void 0?"uid":"name";return e.filter(function(n){return n[t]===r[t]})[0]}function It(r,e){var t=r.uid!==void 0?"uid":"name",n=e.filter(function(o){return o[t]!==r[t]});return n.length===e.length?null:n}var Ft=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split("/"),n=t[t.length-1],o=n.split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(o)||[""])[0]},fe=function(e){return!!e&&e.indexOf("image/")===0},Ot=function(e){if(fe(e.type))return!0;var t=e.thumbUrl||e.url,n=Ft(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(n)?!0:!(/^data:/.test(t)||n)},O=200;function Lt(r){return new Promise(function(e){if(!fe(r.type)){e("");return}var t=document.createElement("canvas");t.width=O,t.height=O,t.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(O,"px; height: ").concat(O,"px; z-index: 9999; display: none;"),document.body.appendChild(t);var n=t.getContext("2d"),o=new Image;o.onload=function(){var i=o.width,s=o.height,l=O,d=O,f=0,v=0;i<s?(d=s*(O/i),v=-(d-l)/2):(l=i*(O/s),f=-(l-d)/2),n.drawImage(o,f,v,l,d);var h=t.toDataURL();document.body.removeChild(t),e(h)},o.src=window.URL.createObjectURL(r)})}var Tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};function _t(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.forEach(function(o){Ut(r,o,t[o])})}return r}function Ut(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var J=function(e,t){var n=_t({},e,t.attrs);return c(G,X(n,{icon:Tt}),null)};J.displayName="PaperClipOutlined",J.inheritAttrs=!1;var xt={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};function Dt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.forEach(function(o){$t(r,o,t[o])})}return r}function $t(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Z=function(e,t){var n=Dt({},e,t.attrs);return c(G,X(n,{icon:xt}),null)};Z.displayName="PictureTwoTone",Z.inheritAttrs=!1;var St={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};function Rt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.forEach(function(o){jt(r,o,t[o])})}return r}function jt(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Q=function(e,t){var n=Rt({},e,t.attrs);return c(G,X(n,{icon:St}),null)};Q.displayName="DownloadOutlined",Q.inheritAttrs=!1;var kt=M({name:"AUploadList",mixins:[j],props:V(wt,{listType:"text",progressAttr:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,previewFile:Lt}),setup:function(){return{configProvider:oe("configProvider",ae)}},updated:function(){var e=this;te(function(){var t=e.$props,n=t.listType,o=t.items,i=t.previewFile;n!=="picture"&&n!=="picture-card"||(o||[]).forEach(function(s){typeof document=="undefined"||typeof window=="undefined"||!window.FileReader||!window.File||!(s.originFileObj instanceof File||s.originFileObj instanceof Blob)||s.thumbUrl!==void 0||(s.thumbUrl="",i&&i(s.originFileObj).then(function(l){s.thumbUrl=l||"",e.$forceUpdate()}))})})},methods:{handlePreview:function(e,t){var n=this.$props.onPreview;if(!!n)return t.preventDefault(),this.$emit("preview",e)},handleDownload:function(e){var t=this.$props.onDownload;typeof t=="function"?this.$emit("download",e):e.url&&window.open(e.url)},handleClose:function(e){this.$emit("remove",e)}},render:function(){var e=this,t,n=q(this),o=n.prefixCls,i=n.items,s=i===void 0?[]:i,l=n.listType,d=n.showPreviewIcon,f=n.showRemoveIcon,v=n.showDownloadIcon,h=n.locale,y=n.progressAttr,P=this.configProvider.getPrefixCls,m=P("upload",o),C=s.map(function(u){var b,x,B,T=u.status==="uploading"?c(De,null,null):c(J,null,null);if(l==="picture"||l==="picture-card")if(l==="picture-card"&&u.status==="uploading")T=c("div",{class:"".concat(m,"-list-item-uploading-text")},[h.uploading]);else if(!u.thumbUrl&&!u.url)T=c(Z,{class:"".concat(m,"-list-item-thumbnail")},null);else{var R=Ot(u)?c("img",{src:u.thumbUrl||u.url,alt:u.name,class:"".concat(m,"-list-item-image")},null):c(Xe,{class:"".concat(m,"-list-item-icon")},null);T=c("a",{class:"".concat(m,"-list-item-thumbnail"),onClick:function(_){return e.handlePreview(u,_)},href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer"},[R])}if(u.status==="uploading"){var pe=p(p({},y),{},{type:"line",percent:u.percent}),he="percent"in u?c(Ve,pe,null):null;B=c("div",{class:"".concat(m,"-list-item-progress"),key:"progress"},[he])}var me=F((b={},g(b,"".concat(m,"-list-item"),!0),g(b,"".concat(m,"-list-item-").concat(u.status),!0),g(b,"".concat(m,"-list-item-list-type-").concat(l),!0),b)),ve=typeof u.linkProps=="string"?JSON.parse(u.linkProps):u.linkProps,A=f?c(Ge,{title:h.removeFile,onClick:function(){return e.handleClose(u)}},null):null,N=v&&u.status==="done"?c(Q,{title:h.downloadFile,onClick:function(){return e.handleDownload(u)}},null):null,K=l!=="picture-card"&&c("span",{key:"download-delete",class:"".concat(m,"-list-item-card-actions ").concat(l==="picture"?"picture":"")},[N&&c("a",{title:h.downloadFile},[N]),A&&c("a",{title:h.removeFile},[A])]),ge=F((x={},g(x,"".concat(m,"-list-item-name"),!0),g(x,"".concat(m,"-list-item-name-icon-count-").concat([N,A].filter(function(I){return I}).length),!0),x)),we=u.url?[c("a",p(p({target:"_blank",rel:"noopener noreferrer",class:ge,title:u.name},ve),{},{href:u.url,onClick:function(_){return e.handlePreview(u,_)}}),[u.name]),K]:[c("span",{key:"view",class:"".concat(m,"-list-item-name"),onClick:function(_){return e.handlePreview(u,_)},title:u.name},[u.name]),K],ye=u.url||u.thumbUrl?void 0:{pointerEvents:"none",opacity:.5},be=d?c("a",{href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:ye,onClick:function(_){return e.handlePreview(u,_)},title:h.previewFile},[c($e,null,null)]):null,Pe=l==="picture-card"&&u.status!=="uploading"&&c("span",{class:"".concat(m,"-list-item-actions")},[be,u.status==="done"&&N,A]),W;u.response&&typeof u.response=="string"?W=u.response:W=u.error&&u.error.statusText||h.uploadError;var Ce=c("span",null,[T,we]),Ie=Se("fade"),ee=c("div",{class:me,key:u.uid},[c("div",{class:"".concat(m,"-list-item-info")},[Ce]),Pe,c(Re,Ie,{default:function(){return[B]}})]),Fe=F(g({},"".concat(m,"-list-picture-card-container"),l==="picture-card"));return c("div",{key:u.uid,class:Fe},[u.status==="error"?c(je,{title:W},{default:function(){return[ee]}}):c("span",null,[ee])])}),w=F((t={},g(t,"".concat(m,"-list"),!0),g(t,"".concat(m,"-list-").concat(l),!0),t)),L=l==="picture-card"?"animate-inline":"animate",U=p(p({},ke("".concat(m,"-").concat(L))),{},{class:w});return c(Ee,p(p({},U),{},{tag:"div"}),{default:function(){return[C]}})}}),S=M({name:"AUpload",mixins:[j],inheritAttrs:!1,Dragger:z,props:V(ce,{type:"select",multiple:!1,action:"",data:{},accept:"",beforeUpload:Pt,showUploadList:!0,listType:"text",disabled:!1,supportServerRender:!0}),setup:function(){var e=Be();return{upload:null,progressTimer:null,configProvider:oe("configProvider",ae),formItemContext:e}},data:function(){return{sFileList:this.fileList||this.defaultFileList||[],dragState:"drop"}},watch:{fileList:function(e){this.sFileList=e||[]}},beforeUnmount:function(){this.clearProgressTimer()},methods:{onStart:function(e){var t=de(e);t.status="uploading";var n=this.sFileList.concat(),o=ze(n,function(i){var s=i.uid;return s===t.uid});o===-1?n.push(t):n[o]=t,this.handleChange({file:t,fileList:n}),(!window.File||(typeof process=="undefined"?"undefined":re(process))==="object"&&{}.TEST_IE)&&this.autoUpdateProgress(0,t)},onSuccess:function(e,t,n){this.clearProgressTimer();try{typeof e=="string"&&(e=JSON.parse(e))}catch(s){}var o=this.sFileList,i=Y(t,o);!i||(i.status="done",i.response=e,i.xhr=n,this.handleChange({file:p({},i),fileList:o}))},onProgress:function(e,t){var n=this.sFileList,o=Y(t,n);!o||(o.percent=e.percent,this.handleChange({event:e,file:p({},o),fileList:this.sFileList}))},onError:function(e,t,n){this.clearProgressTimer();var o=this.sFileList,i=Y(n,o);!i||(i.error=e,i.response=t,i.status="error",this.handleChange({file:p({},i),fileList:o}))},onReject:function(e){this.$emit("reject",e)},handleRemove:function(e){var t=this,n=this.remove,o=this.$data.sFileList;Promise.resolve(typeof n=="function"?n(e):n).then(function(i){if(i!==!1){var s=It(e,o);s&&(e.status="removed",t.upload&&t.upload.abort(e),t.handleChange({file:e,fileList:s}))}})},handleManualRemove:function(e){this.$refs.uploadRef&&this.$refs.uploadRef.abort(e),this.handleRemove(e)},handleChange:function(e){Ae(this,"fileList")||this.setState({sFileList:e.fileList}),this.$emit("update:fileList",e.fileList),this.$emit("change",e),this.formItemContext.onFieldChange()},onFileDrop:function(e){this.setState({dragState:e.type})},reBeforeUpload:function(e,t){var n=this.$props.beforeUpload,o=this.$data.sFileList;if(!n)return!0;var i=n(e,t);return i===!1?(this.handleChange({file:e,fileList:He(o.concat(t.map(de)),function(s){return s.uid})}),!1):i&&i.then?i:!0},clearProgressTimer:function(){clearInterval(this.progressTimer)},autoUpdateProgress:function(e,t){var n=this,o=Ct(),i=0;this.clearProgressTimer(),this.progressTimer=setInterval(function(){i=o(i),n.onProgress({percent:i*100},t)},200)},renderUploadList:function(e){var t=q(this),n=t.showUploadList,o=n===void 0?{}:n,i=t.listType,s=t.previewFile,l=t.disabled,d=t.locale,f=o.showRemoveIcon,v=o.showPreviewIcon,h=o.showDownloadIcon,y=this.$data.sFileList,P=this.$props,m=P.onDownload,C=P.onPreview,w={listType:i,items:y,previewFile:s,showRemoveIcon:!l&&f,showPreviewIcon:v,showDownloadIcon:h,locale:p(p({},e),d),onRemove:this.handleManualRemove,onDownload:m,onPreview:C};return c(kt,w,null)}},render:function(){var e,t,n=q(this),o=n.prefixCls,i=n.showUploadList,s=n.listType,l=n.type,d=n.disabled,f=this.$data,v=f.sFileList,h=f.dragState,y=this.$attrs,P=y.class,m=y.style,C=this.configProvider.getPrefixCls,w=C("upload",o),L=p(p({},this.$props),{},{id:(e=this.$props.id)!==null&&e!==void 0?e:this.formItemContext.id.value,prefixCls:w,beforeUpload:this.reBeforeUpload,onStart:this.onStart,onError:this.onError,onProgress:this.onProgress,onSuccess:this.onSuccess,onReject:this.onReject,ref:"uploadRef"}),U=i?c(Me,{componentName:"Upload",defaultLocale:Ne.Upload,children:this.renderUploadList},null):null,u=D(this);if(l==="drag"){var b,x=F(w,(b={},g(b,"".concat(w,"-drag"),!0),g(b,"".concat(w,"-drag-uploading"),v.some(function(R){return R.status==="uploading"})),g(b,"".concat(w,"-drag-hover"),h==="dragover"),g(b,"".concat(w,"-disabled"),d),b));return c("span",p({class:P},qe(this.$attrs)),[c("div",{class:x,onDrop:this.onFileDrop,onDragover:this.onFileDrop,onDragleave:this.onFileDrop,style:m},[c(le,p(p({},L),{},{class:"".concat(w,"-btn")}),{default:function(){return[c("div",{class:"".concat(w,"-drag-container")},[u])]}})]),U])}var B=F(w,(t={},g(t,"".concat(w,"-select"),!0),g(t,"".concat(w,"-select-").concat(s),!0),g(t,"".concat(w,"-disabled"),d),t));(!u.length||d)&&delete L.id;var T=c("div",{class:B,style:u.length?void 0:{display:"none"}},[c(le,L,{default:function(){return[u]}})]);return s==="picture-card"?c("span",{class:F("".concat(w,"-picture-card-wrapper"),P)},[U,T]):c("span",{class:P},[T,U])}});S.Dragger=z,S.install=function(r){return r.component(S.name,S),r.component(z.name,z),r};export{S as U};
