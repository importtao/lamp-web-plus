var t=Object.assign;import{_ as A,a as R}from"./useDrawer.803df328.js";import{_ as P}from"./BasicForm.2d8a4167.js";import{u as B}from"./useForm.96bd58a3.js";import{cu as r,be as n,j as h,d as k,w as L,D as w,F as $,r as D,o as j,n as M,J as O,p as q,s as C}from"./index.f012a3f4.js";import{S as i,A as f}from"./commonEnum.da040d67.js";import{g as x}from"./formValidateService.8fbd814e.js";const l={Page:{url:i.MATERIALS+"/categoryFieldValue/page",method:r.POST},Save:{url:i.MATERIALS+"/categoryFieldValue",method:r.POST},Update:{url:i.MATERIALS+"/categoryFieldValue",method:r.PUT},Delete:{url:i.MATERIALS+"/categoryFieldValue",method:r.DELETE},Query:{url:i.MATERIALS+"/categoryFieldValue/query",method:r.POST}},U=e=>n.request(t(t({},l.Page),{params:e})),G=e=>n.request(t(t({},l.Save),{params:e})),z=e=>n.request(t(t({},l.Update),{params:e})),H=e=>n.request(t(t({},l.Delete),{params:e})),{t:a}=h(),J=[{title:a("lamp.materials.categoryFieldValue.materialsSkuId"),dataIndex:"materialsSkuId"},{title:a("lamp.materials.categoryFieldValue.fieldId"),dataIndex:"fieldId"},{title:a("lamp.materials.categoryFieldValue.fieldValue"),dataIndex:"fieldValue"},{title:a("lamp.materials.categoryFieldValue.version"),dataIndex:"version"},{title:a("lamp.materials.categoryFieldValue.isDelete"),dataIndex:"isDelete"},{title:a("lamp.common.createTime"),dataIndex:"createTime",sorter:!0,width:180}],N=[{field:"createTimeRange",label:a("lamp.common.createTime"),component:"RangePicker",colProps:{span:6}}],Q=[{field:"id",label:"ID",component:"Input",show:!1},{label:a("lamp.materials.categoryFieldValue.materialsSkuId"),field:"materialsSkuId",component:"Input"},{label:a("lamp.materials.categoryFieldValue.fieldId"),field:"fieldId",component:"Input"},{label:a("lamp.materials.categoryFieldValue.fieldValue"),field:"fieldValue",component:"Input"},{label:a("lamp.materials.categoryFieldValue.version"),field:"version",component:"Input"},{label:a("lamp.materials.categoryFieldValue.isDelete"),field:"isDelete",component:"RadioButtonGroup",componentProps:{options:[{label:a("lamp.common.yes"),value:!0},{label:a("lamp.common.no"),value:!1}]}}],W=e=>[];var g=k({name:"CategoryFieldValueEdit",components:{BasicDrawer:A,BasicForm:P},emits:["success","register"],setup(e,{emit:F}){const{t:m}=h(),s=L(f.ADD),{createMessage:I}=$(),[y,{setFieldsValue:c,resetFields:d,updateSchema:v,validate:b}]=B({labelWidth:100,schemas:Q,showActionButtonGroup:!1,actionColOptions:{span:23}}),[_,{setDrawerProps:u,closeDrawer:E}]=R(async o=>{await d(),u({confirmLoading:!1}),s.value=o==null?void 0:o.type;let S=l.Save;const V=t({},o==null?void 0:o.record);w(s)===f.EDIT?S=l.Update:V.id=void 0,await c(t({},V)),x(S,W()).then(async p=>{p&&p.length>0&&await v(p)})});async function T(){try{const o=await b();u({confirmLoading:!0}),w(s)===f.EDIT?await z(o):await G(o),I.success(m(`common.tips.${s.value}Success`)),E(),F("success")}finally{u({confirmLoading:!1})}}return{t:m,registerDrawer:_,registerForm:y,type:s,handleSubmit:T}}});function K(e,F,m,s,I,y){const c=D("BasicForm"),d=D("BasicDrawer");return j(),M(d,C(e.$attrs,{onRegister:e.registerDrawer,showFooter:"",width:"30%",maskClosable:!1,title:e.t(`common.title.${e.type}`),onOk:e.handleSubmit}),{default:O(()=>[q(c,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}g.render=K;var X=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:g});export{X as E,g as _,J as c,U as p,H as r,N as s};
