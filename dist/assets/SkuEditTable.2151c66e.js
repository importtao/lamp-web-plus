import S from"./SkuImage.a6dc0855.js";import{p as _,s as O,I as w,d as F,br as C,v as U,bJ as T,cl as D,aC as M,w as k,a0 as N,k as L,x as P,aW as $,aX as z,r as p,o as i,n as d,L as b,q as y,N as V,M as g,aE as q,aF as J}from"./index.f012a3f4.js";import{g as Q}from"./sku.d5e2f117.js";import{T as G}from"./index.64b3537b.js";import{T as H}from"./index.5919009b.js";import{I as W}from"./index.22fa49e6.js";import{I as X}from"./index.8cfd22dd.js";import"./ali-oss.382a9c69.js";import"./vendor.352e3120.js";import"./upload.f886bf9f.js";import"./PlusOutlined.0c40939d.js";import"./index.3a3a0b83.js";import"./uniqBy.1b31fa16.js";import"./_baseIteratee.c907cd0a.js";import"./get.4bb36d6d.js";import"./hasIn.e5f45297.js";import"./_baseProperty.74f89655.js";import"./findIndex.2bc5b0a2.js";import"./toInteger.87149fb4.js";import"./index.ccba4a8f.js";import"./FileOutlined.dfec8941.js";import"./DeleteOutlined.4af221e4.js";import"./commonEnum.da040d67.js";import"./css.b1edd3c8.js";import"./canUseDom.0bf35682.js";import"./useState.b98aa3d0.js";import"./conductUtil.e383e830.js";import"./index.6b5846e1.js";import"./index.656c6dbf.js";import"./scrollTo.168243c4.js";import"./useBreakpoint.521f32f2.js";import"./responsiveObserve.40f9db24.js";import"./UpOutlined.5f7f87c9.js";var Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"};function R(t){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(u).filter(function(l){return Object.getOwnPropertyDescriptor(u,l).enumerable}))),o.forEach(function(l){Z(t,l,u[l])})}return t}function Z(t,a,u){return a in t?Object.defineProperty(t,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[a]=u,t}var I=function(a,u){var o=R({},a,u.attrs);return _(w,O(o,{icon:Y}),null)};I.displayName="SmileOutlined",I.inheritAttrs=!1;const K=["green","cyan","#2db7f5","purple"],ee=[{title:"\u9884\u89C8\u56FE",key:"imgUrl",dataIndex:"imgUrl",type:"img",width:80},{title:"\u5355\u4F4D",key:"unit",dataIndex:"unit",width:120,type:"input"},{title:"\u7269\u6599\u7F16\u7801",key:"code",dataIndex:"code",width:120,type:"input"},{title:"\u5BA1\u6279\u7C7B\u578B",key:"auditType",dataIndex:"auditType",width:210,type:"radio",options:[{label:"\u4E0D\u5BA1\u6279",value:"\u4E0D\u5BA1\u6279",checked:!0},{label:"1\u7EA7\u4E3B\u7BA1\u5BA1\u6279(\u8F66\u95F4\u4E3B\u4EFB)",value:"1\u7EA7\u4E3B\u7BA1\u5BA1\u6279(\u8F66\u95F4\u4E3B\u4EFB)",checked:!0},{label:"2\u7EA7\u4E3B\u7BA1\u5BA1\u6279(\u751F\u4EA7\u6280\u672F\u90E8\u90E8\u957F)",value:"2\u7EA7\u4E3B\u7BA1\u5BA1\u6279(\u751F\u4EA7\u6280\u672F\u90E8\u90E8\u957F)",checked:!1},{label:"3\u7EA7\u4E3B\u7BA1\u5BA1\u6279(\u7BA1\u7406\u526F\u603B)",value:"3\u7EA7\u4E3B\u7BA1\u5BA1\u6279(\u7BA1\u7406\u526F\u603B)",checked:!1}]},{title:"\u5B89\u5168\u5E93\u5B58",key:"minQuantity",dataIndex:"minQuantity",width:120,type:"inputNumber"},{title:"\u91C7\u8D2D\u6307\u5BFC\u5355\u4EF7",key:"price",dataIndex:"price",width:180,type:"rmb"},{title:"\u9886\u7528\u5355\u4EF7",key:"claimPrice",dataIndex:"claimPrice",width:180,type:"rmb"},{title:"\u5907\u6CE8",key:"remark",dataIndex:"remark",type:"input"}],te=[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",tags:["nice","developer"],\u989C\u8272:"\u767D\u8272",\u5B58\u50A8:"128G",imgUrl:"123"}];var v=F({components:{SmileOutlined:I,DownOutlined:C,Table:G,Tag:H,Input:U,InputNumber:W,Image:X,Select:T,SelectOption:D,SkuImage:S},name:"SkuEditTable",props:{materialsId:M.string},setup(t){const a=k(),u=k(new Map),o=k(new Map);N("skuList",a);const l=L(()=>{let r=[];return o.value.forEach((c,j)=>{r.push({title:c.name,key:c.keyStr,dataIndex:c.keyStr,type:"sku",width:120,index:c.orderIndex})}),[...r,...ee]});P(()=>{f()});function h(){return a.value}function f(){Q(t.materialsId).then(r=>{u.value=new Map(Object.entries(r.skuItemIdMap)),o.value=new Map(Object.entries(r.skuParentIdMap)),a.value=r.resultList})}return{skuList:a,skuItemIdMap:u,skuParentIdMap:o,data:te,getData:h,columns:l,colorList:K,syncSkuProperty:f}}}),Le=`.ant-upload.ant-upload-select-picture-card[data-v-e8cf63dc] {
  width: 50px;
}`;const m=J();$("data-v-e8cf63dc");const ae={key:0};z();const ue=m((t,a,u,o,l,h)=>{const f=p("smile-outlined"),r=p("Tag"),c=p("Input"),j=p("InputNumber"),B=p("SelectOption"),x=p("Select"),E=p("SkuImage"),A=p("Table");return i(),d(A,{columns:t.columns,"data-source":t.skuList,bordered:"",pagination:!1},{headerCell:m(({column:e})=>[e.key==="imgUrl"?(i(),d("span",ae,[_(f),b(" "+y(e.title),1)])):V("",!0)]),bodyCell:m(({column:e,record:n,index:ne})=>[e.type==="sku"?(i(),d(r,{key:0,color:t.colorList[e.index/t.colorList.length]},{default:m(()=>[b(y(n.pathObject[e.dataIndex]&&t.skuItemIdMap.get(n.pathObject[e.dataIndex]).name),1)]),_:2},1032,["color"])):e.type==="input"?(i(),d(c,{key:1,value:n[e.dataIndex],"onUpdate:value":s=>n[e.dataIndex]=s,placeholder:e.title},null,8,["value","onUpdate:value","placeholder"])):e.type==="inputNumber"?(i(),d(j,{key:2,value:n[e.dataIndex],"onUpdate:value":s=>n[e.dataIndex]=s,placeholder:e.title},null,8,["value","onUpdate:value","placeholder"])):e.type==="radio"?(i(),d(x,{key:3,value:n[e.dataIndex],"onUpdate:value":s=>n[e.dataIndex]=s,style:{width:"215px"}},{default:m(()=>[(i(!0),d(g,null,q(e.options,s=>(i(),d(B,{value:s.value,checked:s.checked},{default:m(()=>[b(y(s.label),1)]),_:2},1032,["value","checked"]))),256))]),_:2},1032,["value","onUpdate:value"])):e.type==="rmb"?(i(),d(c,{key:4,value:n[e.dataIndex],"onUpdate:value":s=>n[e.dataIndex]=s,placeholder:e.title,prefix:"\uFFE5",suffix:"\u5143"},null,8,["value","onUpdate:value","placeholder"])):e.type==="img"?(i(),d(E,{key:5,max:1,skuDTO:n,onUploadSuccess:s=>{n.imgUrl=s}},null,8,["skuDTO","onUploadSuccess"])):(i(),d(g,{key:6},[b(y(n[e.dataIndex]),1)],64))]),_:1},8,["columns","data-source"])});v.render=ue,v.__scopeId="data-v-e8cf63dc";export default v;
