import{d as V,ad as X,p as n,S as t,a0 as ce,w as R,X as de,az as ae,b1 as fe,_ as I,Y as me,Z as x,b2 as ge,b3 as ye,as as te,T as ne,b4 as pe,R as he,a4 as _e,b5 as re,k as b,a6 as xe,ae as be,a5 as ie,b6 as Ce,b7 as Se}from"./index.05ea33df.js";import{C as Ie,A as $e}from"./Col.8bf95754.js";import{u as Le}from"./useBreakpoint.249417d5.js";import{a as le}from"./responsiveObserve.968aa5d0.js";var je={avatar:t.any,description:t.any,prefixCls:t.string,title:t.any},Me=V({name:"AListItemMeta",props:je,displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(e,z){var r=z.slots,C=X("list",e),o=C.prefixCls;return function(){var S,y,i,j,M,c,m="".concat(o.value,"-item-meta"),l=(S=e.title)!==null&&S!==void 0?S:(y=r.title)===null||y===void 0?void 0:y.call(r),u=(i=e.description)!==null&&i!==void 0?i:(j=r.description)===null||j===void 0?void 0:j.call(r),f=(M=e.avatar)!==null&&M!==void 0?M:(c=r.avatar)===null||c===void 0?void 0:c.call(r),p=n("div",{class:"".concat(o.value,"-item-meta-content")},[l&&n("h4",{class:"".concat(o.value,"-item-meta-title")},[l]),u&&n("div",{class:"".concat(o.value,"-item-meta-description")},[u])]);return n("div",{class:m},[f&&n("div",{class:"".concat(o.value,"-item-meta-avatar")},[f]),(l||u)&&p])}}}),oe=Symbol("ListContextKey"),Pe=["class"],ze={prefixCls:t.string,extra:t.any,actions:t.array,grid:t.any,colStyle:t.style},Ae=V({name:"AListItem",inheritAttrs:!1,Meta:Me,props:ze,slots:["actions","extra"],setup:function(e,z){var r=z.slots,C=z.attrs,o=ce(oe,{grid:R(),itemLayout:R()}),S=o.itemLayout,y=o.grid,i=X("list",e),j=i.prefixCls,M=function(){var l,u=((l=r.default)===null||l===void 0?void 0:l.call(r))||[],f;return u.forEach(function(p){ge(p)&&!ye(p)&&(f=!0)}),f&&u.length>1},c=function(){var l,u,f=(l=e.extra)!==null&&l!==void 0?l:(u=r.extra)===null||u===void 0?void 0:u.call(r);return S.value==="vertical"?!!f:!M()};return function(){var m,l,u,f,p,D=C.class,E=de(C,Pe),g=j.value,A=(m=e.extra)!==null&&m!==void 0?m:(l=r.extra)===null||l===void 0?void 0:l.call(r),B=(u=r.default)===null||u===void 0?void 0:u.call(r),s=(f=e.actions)!==null&&f!==void 0?f:ae((p=r.actions)===null||p===void 0?void 0:p.call(r));s=s&&!Array.isArray(s)?[s]:s;var T=s&&s.length>0&&n("ul",{class:"".concat(g,"-item-action"),key:"actions"},[s.map(function(O,K){return n("li",{key:"".concat(g,"-item-action-").concat(K)},[O,K!==s.length-1&&n("em",{class:"".concat(g,"-item-action-split")},null)])})]),W=y.value?"div":"li",k=n(W,I(I({},E),{},{class:me("".concat(g,"-item"),x({},"".concat(g,"-item-no-flex"),!c()),D)}),{default:function(){return[S.value==="vertical"&&A?[n("div",{class:"".concat(g,"-item-main"),key:"content"},[B,T]),n("div",{class:"".concat(g,"-item-extra"),key:"extra"},[A])]:[B,T,fe(A,{key:"extra"})]]}});return y.value?n(Ie,{flex:1,style:e.colStyle},{default:function(){return[k]}}):k}}}),ke={gutter:t.oneOfType([t.number,t.arrayOf(Number)]),column:t.number,xs:t.number,sm:t.number,md:t.number,lg:t.number,xl:t.number,xxl:t.number},we=te("small","default","large"),Ee={bordered:t.looseBool,dataSource:t.array,extra:t.any,grid:t.shape(ke).loose,itemLayout:t.oneOf(te("horizontal","vertical")),loading:ne(t.oneOfType([t.looseBool,t.object])),loadMore:t.any,pagination:ne(t.oneOfType([t.shape(pe()).loose,t.looseBool])),prefixCls:t.string,rowKey:t.any,renderItem:t.any,size:t.oneOf(we),split:t.looseBool,header:t.any,footer:t.any,locale:{type:Object}},$=V({name:"AList",Item:Ae,props:he(Ee,{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(e,z){var r,C,o=z.slots;_e(oe,{grid:re(e,"grid"),itemLayout:re(e,"itemLayout")});var S={current:1,total:0},y=X("list",e),i=y.prefixCls,j=y.direction,M=y.renderEmpty,c=b(function(){return e.pagination&&xe(e.pagination)==="object"?e.pagination:{}}),m=R((r=c.value.defaultCurrent)!==null&&r!==void 0?r:1),l=R((C=c.value.defaultPageSize)!==null&&C!==void 0?C:10);be(c,function(){"current"in c.value&&(m.value=c.value.current),"pageSize"in c.value&&(l.value=c.value.pageSize)});var u=function(v){return function(d,h){m.value=d,l.value=h,c.value[v]&&c.value[v](d,h)}},f=u("onChange"),p=u("onShowSizeChange"),D=function(v){var d;return n("div",{class:"".concat(i.value,"-empty-text")},[((d=e.locale)===null||d===void 0?void 0:d.emptyText)||v("List")])},E=b(function(){return typeof e.loading=="boolean"?{spinning:e.loading}:e.loading}),g=b(function(){return E.value&&E.value.spinning}),A=b(function(){var a="";switch(e.size){case"large":a="lg";break;case"small":a="sm";break}return a}),B=b(function(){var a;return a={},x(a,"".concat(i.value),!0),x(a,"".concat(i.value,"-vertical"),e.itemLayout==="vertical"),x(a,"".concat(i.value,"-").concat(A.value),A.value),x(a,"".concat(i.value,"-split"),e.split),x(a,"".concat(i.value,"-bordered"),e.bordered),x(a,"".concat(i.value,"-loading"),g.value),x(a,"".concat(i.value,"-grid"),!!e.grid),x(a,"".concat(i.value,"-rtl"),j.value==="rtl"),a}),s=b(function(){var a=I(I({},S),{},{total:e.dataSource.length,current:m.value,pageSize:l.value},e.pagination||{}),v=Math.ceil(a.total/a.pageSize);return a.current>v&&(a.current=v),a}),T=b(function(){var a=ie(e.dataSource);return e.pagination&&e.dataSource.length>(s.value.current-1)*s.value.pageSize&&(a=ie(e.dataSource).splice((s.value.current-1)*s.value.pageSize,s.value.pageSize)),a}),W=Le(),k=b(function(){for(var a=0;a<le.length;a+=1){var v=le[a];if(W.value[v])return v}}),O=b(function(){if(!!e.grid){var a=k.value&&e.grid[k.value]?e.grid[k.value]:e.grid.column;if(a)return{width:"".concat(100/a,"%"),maxWidth:"".concat(100/a,"%")}}}),K=function(v,d,h){var P,w=(P=e.renderItem)!==null&&P!==void 0?P:o.renderItem;if(!w)return null;var _;return typeof e.rowKey=="function"?_=e.rowKey(d):typeof e.rowKey=="string"?_=d[e.rowKey]:_=d.key,_||(_="list-item-".concat(h)),v[h]=_,w({item:d,index:h})};return function(){var a,v,d,h,P,w,_,Y=(a=e.loadMore)!==null&&a!==void 0?a:(v=o.loadMore)===null||v===void 0?void 0:v.call(o),G=(d=e.footer)!==null&&d!==void 0?d:(h=o.footer)===null||h===void 0?void 0:h.call(o),Z=(P=e.header)!==null&&P!==void 0?P:(w=o.header)===null||w===void 0?void 0:w.call(o),q=ae((_=o.default)===null||_===void 0?void 0:_.call(o)),J=[],ue=!!(Y||e.pagination||G),se=I(I({},B.value),{},x({},"".concat(i.value,"-something-after-last-item"),ue)),Q=e.pagination?n("div",{class:"".concat(i.value,"-pagination")},[n(Ce,I(I({},s.value),{},{onChange:f,onShowSizeChange:p}),null)]):null,H=g.value&&n("div",{style:{minHeight:"53px"}},null);if(T.value.length>0){var ee=T.value.map(function(N,U){return K(J,N,U)}),ve=ee.map(function(N,U){return n("div",{key:J[U],style:O.value},[N])});H=e.grid?n($e,{gutter:e.grid.gutter},{default:function(){return[ve]}}):n("ul",{class:"".concat(i.value,"-items")},[ee])}else!q.length&&!g.value&&(H=D(M.value));var F=s.value.position||"bottom";return n("div",{class:se},[(F==="top"||F==="both")&&Q,Z&&n("div",{class:"".concat(i.value,"-header")},[Z]),n(Se,E.value,{default:function(){return[H,q]}}),G&&n("div",{class:"".concat(i.value,"-footer")},[G]),Y||(F==="bottom"||F==="both")&&Q])}}});$.install=function(L){return L.component($.name,$),L.component($.Item.name,$.Item),L.component($.Item.Meta.name,$.Item.Meta),L};export{$ as L};
