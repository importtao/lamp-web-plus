var $=Object.assign;import{d as ie,R as Ze,p as n,al as Je,d2 as Xe,v as et,M as Ce,S as t,Y as ye,Z as W,l as Oe,cs as _e,w as j,k as ge,ae as Fe,b6 as tt,a6 as lt,_ as p,ap as Pe,cn as Q,a5 as oe,br as nt,cK as at,a7 as rt,L as it,bO as ot,ar as ct,B as pe,b0 as Be,bq as Ee,O as st,ad as dt,$ as ut,bD as ft,cu as ce,be as se}from"./index.f012a3f4.js";import{C as $e}from"./index.6b5846e1.js";import{T as vt}from"./transButton.77ed102e.js";import{D as ht}from"./DeleteOutlined.4af221e4.js";import{S as de}from"./commonEnum.da040d67.js";var mt={prefixCls:t.string,placeholder:t.string,value:t.string,handleClear:t.func,disabled:t.looseBool,onChange:t.func},yt=ie({name:"Search",inheritAttrs:!1,props:Ze(mt,{placeholder:""}),emits:["change"],setup:function(e,R){var g=R.emit,A=function(v){g("change",v)},c=function(v){var x=e.handleClear,u=e.disabled;!u&&x&&x(v)};return function(){var _=e.placeholder,v=e.value,x=e.prefixCls,u=e.disabled,C=v&&v.length>0?n("a",{class:"".concat(x,"-action"),onClick:c},[n(Je,null,null)]):n("span",{class:"".concat(x,"-action")},[n(Xe,null,null)]);return n(Ce,null,[n(et,{placeholder:_,class:x,value:v,onChange:A,disabled:u},null),C])}}});function gt(){}var St={renderedText:t.any,renderedEl:t.any,item:t.any,checked:t.looseBool,prefixCls:t.string,disabled:t.looseBool,showRemove:t.looseBool,onClick:t.func,onRemove:t.func},Ct=ie({name:"ListItem",inheritAttrs:!1,props:St,emits:["click","remove"],setup:function(e,R){var g=R.emit;return function(){var A,c=e.renderedText,_=e.renderedEl,v=e.item,x=e.checked,u=e.disabled,C=e.prefixCls,T=e.showRemove,d=ye((A={},W(A,"".concat(C,"-content-item"),!0),W(A,"".concat(C,"-content-item-disabled"),u||v.disabled),A)),h;return(typeof c=="string"||typeof c=="number")&&(h=String(c)),n(_e,{componentName:"Transfer",defaultLocale:Oe.Transfer},{default:function(O){var B=n("span",{class:"".concat(C,"-content-item-text")},[_]);return T?n("li",{class:d,title:h},[B,n(vt,{disabled:u||v.disabled,class:"".concat(C,"-content-item-remove"),"aria-label":O.remove,onClick:function(){g("remove",v)}},{default:function(){return[n(ht,null,null)]}})]):n("li",{class:d,title:h,onClick:u||v.disabled?gt:function(){g("click",v)}},[n($e,{class:"".concat(C,"-checkbox"),checked:x,disabled:u||v.disabled},null),B])}})}}}),bt={prefixCls:t.string,filteredRenderItems:t.array.def([]),selectedKeys:t.array,disabled:t.looseBool,showRemove:t.looseBool,pagination:t.any,onItemSelect:t.func,onScroll:t.func,onItemRemove:t.func};function At(f){if(!f)return null;var e={pageSize:10};return lt(f)==="object"?p(p({},e),f):e}var It=ie({name:"ListBody",inheritAttrs:!1,props:bt,emits:["itemSelect","itemRemove","scroll"],setup:function(e,R){var g=R.emit,A=R.expose,c=j(1),_=function(h){var F=e.selectedKeys,O=F.indexOf(h.key)>=0;g("itemSelect",h.key,!O)},v=function(h){g("itemRemove",h.key)},x=function(h){g("scroll",h)},u=ge(function(){return At(e.pagination)});Fe([u,function(){return e.filteredRenderItems}],function(){if(u.value){var d=Math.ceil(e.filteredRenderItems.length/u.value.pageSize);c.value>d&&(c.value=d)}},{immediate:!0});var C=ge(function(){var d=e.filteredRenderItems,h=d;return u.value&&(h=d.slice((c.value-1)*u.value.pageSize,c.value*u.value.pageSize)),h}),T=function(h){c.value=h};return A({items:C}),function(){var d=e.prefixCls,h=e.filteredRenderItems,F=e.selectedKeys,O=e.disabled,B=e.showRemove,N=null;u.value&&(N=n(tt,{simple:!0,size:"small",disabled:O,class:"".concat(d,"-pagination"),total:h.length,pageSize:u.value.pageSize,current:c.value,onChange:T},null));var Y=C.value.map(function(G){var ee=G.renderedEl,m=G.renderedText,a=G.item,i=a.disabled,o=F.indexOf(a.key)>=0;return n(Ct,{disabled:O||i,key:a.key,item:a,renderedText:m,renderedEl:ee,checked:o,prefixCls:d,onClick:_,onRemove:v,showRemove:B},null)});return n(Ce,null,[n("ul",{class:ye("".concat(d,"-content"),W({},"".concat(d,"-content-show-remove"),B)),onScroll:x},[Y]),N])}}}),Rt=function(){return null};function Tt(f){return f&&!rt(f)&&Object.prototype.toString.call(f)==="[object Object]"}function Se(f){return f.filter(function(e){return!e.disabled}).map(function(e){return e.key})}var xt={prefixCls:t.string,dataSource:{type:Array,default:[]},filter:t.string,filterOption:t.func,checkedKeys:t.arrayOf(t.string),handleFilter:t.func,handleClear:t.func,renderItem:t.func,showSearch:t.looseBool.def(!1),searchPlaceholder:t.string,notFoundContent:t.any,itemUnit:t.string,itemsUnit:t.string,renderList:t.any,disabled:t.looseBool,direction:t.string,showSelectAll:t.looseBool,remove:t.string,selectAll:t.string,selectCurrent:t.string,selectInvert:t.string,removeAll:t.string,removeCurrent:t.string,selectAllLabel:t.any,showRemove:t.looseBool,pagination:t.any,onItemSelect:t.func,onItemSelectAll:t.func,onItemRemove:t.func,onScroll:t.func},Ne=ie({name:"TransferList",inheritAttrs:!1,props:xt,emits:["scroll","itemSelectAll","itemRemove","itemSelect"],slots:["footer","titleText"],setup:function(e,R){var g=R.attrs,A=R.slots,c=j(""),_=j(),v=j(),x=function(a,i){var o=a?a(i):null,y=!!o&&ct(o).length>0;return y||(o=n(It,p(p({},i),{},{ref:v}),null)),{customize:y,bodyContent:o}},u=function(a){var i=e.renderItem,o=i===void 0?Rt:i,y=o(a),I=Tt(y);return{renderedText:I?y.value:y,renderedEl:I?y.label:y,item:a}},C=j([]),T=j([]);Pe(function(){var m=[],a=[];e.dataSource.forEach(function(i){var o=u(i),y=o.renderedText;if(c.value&&c.value.trim()&&!Y(y,i))return null;m.push(i),a.push(o)}),C.value=m,T.value=a});var d=ge(function(){var m=e.checkedKeys;return m.length===0?"none":C.value.every(function(a){return m.indexOf(a.key)>=0||!!a.disabled})?"all":"part"}),h=ge(function(){return Se(C.value)}),F=function(a,i){return Array.from(new Set([].concat(oe(a),oe(e.checkedKeys)))).filter(function(o){return i.indexOf(o)===-1})},O=function(a,i,o){var y=d.value==="all",I=a!==!1&&n($e,{disabled:i,checked:y,indeterminate:d.value==="part",class:"".concat(o,"-checkbox"),onChange:function(){var q=h.value;e.onItemSelectAll(F(y?[]:q,y?e.checkedKeys:[]))}},null);return I},B=function(a){var i,o=a.target.value;c.value=o,(i=e.handleFilter)===null||i===void 0||i.call(e,a)},N=function(a){var i;c.value="",(i=e.handleClear)===null||i===void 0||i.call(e,a)},Y=function(a,i){var o=e.filterOption;return o?o(c.value,i):a.indexOf(c.value)>=0},G=function(a,i){var o=e.itemsUnit,y=e.itemUnit,I=e.selectAllLabel;if(I)return typeof I=="function"?I({selectedCount:a,totalCount:i}):I;var U=i>1?o:y;return n(Ce,null,[(a>0?"".concat(a,"/"):"")+i,it(" "),U])},ee=function(a,i,o,y,I,U){var q=I?n("div",{class:"".concat(a,"-body-search-wrapper")},[n(yt,{prefixCls:"".concat(a,"-search"),onChange:B,handleClear:N,placeholder:i,value:c.value,disabled:U},null)]):null,V,te=ot(g),le=te.onEvents,M=x(y,p(p({},e),{},{filteredItems:C.value,filteredRenderItems:T.value,selectedKeys:o},le)),Z=M.bodyContent,ne=M.customize;return ne?V=n("div",{class:"".concat(a,"-body-customize-wrapper")},[Z]):V=C.value.length?Z:n("div",{class:"".concat(a,"-body-not-found")},[e.notFoundContent]),n("div",{class:I?"".concat(a,"-body ").concat(a,"-body-with-search"):"".concat(a,"-body"),ref:_},[q,V])};return function(){var m,a,i,o=e.prefixCls,y=e.checkedKeys,I=e.disabled,U=e.showSearch,q=e.searchPlaceholder,V=e.selectAll,te=e.selectCurrent,le=e.selectInvert,M=e.removeAll,Z=e.removeCurrent,ne=e.renderList,J=e.onItemSelectAll,z=e.onItemRemove,ue=e.showSelectAll,fe=e.showRemove,s=e.pagination,l=(m=A.footer)===null||m===void 0?void 0:m.call(A,p({},e)),r=ye(o,(a={},W(a,"".concat(o,"-with-pagination"),!!s),W(a,"".concat(o,"-with-footer"),!!l),a)),b=ee(o,q,y,ne,U,I),S=l?n("div",{class:"".concat(o,"-footer")},[l]):null,w=!fe&&!s&&O(ue,I,o),K=null;fe?K=n(Q,null,{default:function(){return[s&&n(Q.Item,{onClick:function(){var L=Se((v.value.items||[]).map(function(E){return E.item}));z==null||z(L)}},{default:function(){return[Z]}}),n(Q.Item,{onClick:function(){z==null||z(h.value)}},{default:function(){return[M]}})]}}):K=n(Q,null,{default:function(){return[n(Q.Item,{onClick:function(){var L=h.value;J(F(L,[]))}},{default:function(){return[V]}}),s&&n(Q.Item,{onClick:function(){var L=Se((v.value.items||[]).map(function(E){return E.item}));J(F(L,[]))}},{default:function(){return[te]}}),n(Q.Item,{onClick:function(){var L;s?L=Se((v.value.items||[]).map(function(H){return H.item})):L=h.value;var E=new Set(y),ae=[],re=[];L.forEach(function(H){E.has(H)?re.push(H):ae.push(H)}),J(F(ae,re))}},{default:function(){return[le]}})]}});var P=n(at,{class:"".concat(o,"-header-dropdown"),overlay:K,disabled:I},{default:function(){return[n(nt,null,null)]}});return n("div",{class:r,style:g.style},[n("div",{class:"".concat(o,"-header")},[w,P,n("span",{class:"".concat(o,"-header-selected")},[n("span",null,[G(y.length,C.value.length)]),n("span",{class:"".concat(o,"-header-title")},[(i=A.titleText)===null||i===void 0?void 0:i.call(A)])])]),b,S])}}});function je(){}var be=function(e){var R=e.disabled,g=e.moveToLeft,A=g===void 0?je:g,c=e.moveToRight,_=c===void 0?je:c,v=e.leftArrowText,x=v===void 0?"":v,u=e.rightArrowText,C=u===void 0?"":u,T=e.leftActive,d=e.rightActive,h=e.class,F=e.style,O=e.direction,B=e.oneWay;return n("div",{class:h,style:F},[n(pe,{type:"primary",size:"small",disabled:R||!d,onClick:_,icon:O!=="rtl"?n(Be,null,null):n(Ee,null,null)},{default:function(){return[C]}}),!B&&n(pe,{type:"primary",size:"small",disabled:R||!T,onClick:A,icon:O!=="rtl"?n(Ee,null,null):n(Be,null,null)},{default:function(){return[x]}})])};be.displayName="Operation",be.inheritAttrs=!1;var kt=W({id:String,prefixCls:String,dataSource:{type:Array,default:[]},disabled:{type:Boolean,default:void 0},targetKeys:{type:Array,default:void 0},selectedKeys:{type:Array,default:void 0},render:{type:Function},listStyle:{type:[Function,Object],default:function(){return{}}},operationStyle:t.style,titles:{type:Array},operations:{type:Array},showSearch:{type:Boolean,default:!1},filterOption:{type:Function},searchPlaceholder:String,notFoundContent:t.any,locale:{type:Object,default:function(){return{}}},rowKey:{type:Function},showSelectAll:{type:Boolean,default:void 0},selectAllLabels:{type:Array},children:{type:Function},oneWay:{type:Boolean,default:void 0},pagination:{type:[Object,Boolean],default:void 0},onChange:t.func,onSelectChange:t.func,onSearchChange:t.func,onSearch:t.func,onScroll:t.func},"onUpdate:targetKeys",t.func),Lt=ie({name:"ATransfer",inheritAttrs:!1,props:kt,slots:["leftTitle","rightTitle","children","render","notFoundContent","leftSelectAllLabel","rightSelectAllLabel","footer"],emits:["update:targetKeys","change","search","scroll","selectChange","searchChange"],setup:function(e,R){var g=R.emit,A=R.attrs,c=R.slots,_=R.expose,v=dt("transfer",e),x=v.configProvider,u=v.prefixCls,C=v.direction,T=j([]),d=j([]),h=ut();Fe(function(){return e.selectedKeys},function(){var s,l;T.value=((s=e.selectedKeys)===null||s===void 0?void 0:s.filter(function(r){return e.targetKeys.indexOf(r)===-1}))||[],d.value=((l=e.selectedKeys)===null||l===void 0?void 0:l.filter(function(r){return e.targetKeys.indexOf(r)>-1}))||[]},{immediate:!0});var F=function(l,r){var b={notFoundContent:r("Transfer")},S=ft(c,e,"notFoundContent");return S&&(b.notFoundContent=S),e.searchPlaceholder!==void 0&&(b.searchPlaceholder=e.searchPlaceholder),p(p(p({},l),b),e.locale)},O=function(l){var r=e.targetKeys,b=r===void 0?[]:r,S=e.dataSource,w=S===void 0?[]:S,K=l==="right"?T.value:d.value,P=K.filter(function(L){return!w.some(function(E){return!!(L===E.key&&E.disabled)})}),D=l==="right"?P.concat(b):b.filter(function(L){return P.indexOf(L)===-1}),k=l==="right"?"left":"right";l==="right"?T.value=[]:d.value=[],g("update:targetKeys",D),m(k,[]),g("change",D,l,P),h.onFieldChange()},B=function(){O("left")},N=function(){O("right")},Y=function(l,r){m(l,r)},G=function(l){return Y("left",l)},ee=function(l){return Y("right",l)},m=function(l,r){l==="left"?(e.selectedKeys||(T.value=r),g("selectChange",r,d.value)):(e.selectedKeys||(d.value=r),g("selectChange",T.value,r))},a=function(l,r){var b=r.target.value;g("search",l,b)},i=function(l){a("left",l)},o=function(l){a("right",l)},y=function(l){g("search",l,"")},I=function(){y("left")},U=function(){y("right")},q=function(l,r,b){var S=l==="left"?oe(T.value):oe(d.value),w=S.indexOf(r);w>-1&&S.splice(w,1),b&&S.push(r),m(l,S)},V=function(l,r){return q("left",l,r)},te=function(l,r){return q("right",l,r)},le=function(l){var r=e.targetKeys,b=r===void 0?[]:r,S=b.filter(function(w){return!l.includes(w)});g("update:targetKeys",S),g("change",S,"left",oe(l))},M=function(l,r){g("scroll",l,r)},Z=function(l){M("left",l)},ne=function(l){M("right",l)},J=function(l,r){return typeof l=="function"?l({direction:r}):l},z=j([]),ue=j([]);Pe(function(){var s=e.dataSource,l=e.rowKey,r=e.targetKeys,b=r===void 0?[]:r,S=[],w=new Array(b.length);s.forEach(function(K){l&&(K.key=l(K));var P=b.indexOf(K.key);P!==-1?w[P]=K:S.push(K)}),z.value=S,ue.value=w}),_({handleSelectChange:m});var fe=function(l){var r,b,S,w,K,P,D,k=e.disabled,L=e.operations,E=L===void 0?[]:L,ae=e.showSearch,re=e.listStyle,H=e.operationStyle,Ae=e.filterOption,Ie=e.showSelectAll,Re=e.selectAllLabels,Te=Re===void 0?[]:Re,xe=e.oneWay,ze=e.pagination,ke=e.id,De=ke===void 0?h.id.value:ke,Ue=A.class,qe=A.style,ve=c.children,Le=!ve&&ze,We=x.renderEmpty,he=F(l,We),we=c.footer,Ke=e.render||c.render,Ge=d.value.length>0,Ve=T.value.length>0,Me=ye(u.value,Ue,(r={},W(r,"".concat(u.value,"-disabled"),k),W(r,"".concat(u.value,"-customize-list"),!!ve),r)),me=e.titles,He=(b=(S=me&&me[0])!==null&&S!==void 0?S:(w=c.leftTitle)===null||w===void 0?void 0:w.call(c))!==null&&b!==void 0?b:(he.titles||["",""])[0],Qe=(K=(P=me&&me[1])!==null&&P!==void 0?P:(D=c.rightTitle)===null||D===void 0?void 0:D.call(c))!==null&&K!==void 0?K:(he.titles||["",""])[1];return n("div",{class:Me,style:qe,id:De},[n(Ne,p({key:"leftList",prefixCls:"".concat(u.value,"-list"),dataSource:z.value,filterOption:Ae,style:J(re,"left"),checkedKeys:T.value,handleFilter:i,handleClear:I,onItemSelect:V,onItemSelectAll:G,renderItem:Ke,showSearch:ae,renderList:ve,onScroll:Z,disabled:k,direction:"left",showSelectAll:Ie,selectAllLabel:Te[0]||c.leftSelectAllLabel,pagination:Le},he),{titleText:function(){return He},footer:we}),n(be,{key:"operation",class:"".concat(u.value,"-operation"),rightActive:Ve,rightArrowText:E[0],moveToRight:N,leftActive:Ge,leftArrowText:E[1],moveToLeft:B,style:H,disabled:k,direction:C.value,oneWay:xe},null),n(Ne,p({key:"rightList",prefixCls:"".concat(u.value,"-list"),dataSource:ue.value,filterOption:Ae,style:J(re,"right"),checkedKeys:d.value,handleFilter:o,handleClear:U,onItemSelect:te,onItemSelectAll:ee,onItemRemove:le,renderItem:Ke,showSearch:ae,renderList:ve,onScroll:ne,disabled:k,direction:"right",showSelectAll:Ie,selectAllLabel:Te[1]||c.rightSelectAllLabel,showRemove:xe,pagination:Le},he),{titleText:function(){return Qe},footer:we})])};return function(){return n(_e,{componentName:"Transfer",defaultLocale:Oe.Transfer,children:fe},null)}}}),wt=st(Lt);const X={Page:{url:de.ORG+"/user/page",method:ce.POST},Save:{url:de.ORG+"/user",method:ce.POST},Update:{url:de.ORG+"/user",method:ce.PUT},Delete:{url:de.ORG+"/user",method:ce.DELETE},Query:{url:de.ORG+"/user/query",method:ce.POST}},Kt=f=>se.request($($({},X.Page),{params:f})),Ot=f=>se.request($($({},X.Query),{params:f})),_t=f=>se.request($($({},X.Save),{params:f})),Ft=f=>se.request($($({},X.Update),{params:f})),Pt=f=>se.request($($({},X.Delete),{params:f}));export{X as A,wt as T,Kt as p,Ot as q,Pt as r,_t as s,Ft as u};
