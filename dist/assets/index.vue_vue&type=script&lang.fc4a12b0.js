var s=Object.assign;import{aC as i,d as I,w as V,g as Y,k as u,D as t,p as c,aB as C,bl as z,s as B,bY as L,c5 as R,aY as T}from"./index.05ea33df.js";import{D}from"./index.b2ce6207.js";import{g as q}from"./get.f4e2a1c0.js";var F={useCollapse:i.bool.def(!0),title:i.string.def(""),size:i.oneOf(["small","default","middle",void 0]).def("small"),bordered:i.bool.def(!0),column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:i.object};function G(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!z(r)}var H=I({name:"Description",props:F,emits:["register"],setup(r,{slots:O,emit:_}){const f=V(null),{prefixCls:v}=Y("description"),P=L(),m=u(()=>s(s({},r),t(f))),p=u(()=>s(s({},t(m)),{title:void 0})),$=u(()=>!!t(m).title),w=u(()=>s({canExpand:!1},t(p).collapseOptions)),E=u(()=>s(s({},t(P)),t(p)));function M(e){f.value=s(s({},t(f)),e)}function N({label:e,labelMinWidth:o,labelStyle:n}){if(!n&&!o)return e;const a=s(s({},n),{minWidth:`${o}px `});return c("div",{style:a},[e])}function S(){const{schema:e,data:o}=t(p);return t(e).map(n=>{const{render:a,field:x,span:k,show:b,contentMinWidth:y}=n;if(b&&C(b)&&!b(o))return null;const h=()=>{var j;const l=(j=t(p))==null?void 0:j.data;if(!l)return null;const d=q(l,x);return C(a)?a(d,l):d!=null?d:""},A=y;return c(D.Item,{label:N(n),key:x,span:k},{default:()=>{if(!y)return h();const l={minWidth:`${A}px`};return c("div",{style:l},[h()])}})}).filter(n=>!!n)}const g=()=>{let e;return c(D,B({class:`${v}`},t(E)),G(e=S())?e:{default:()=>[e]})},W=()=>{const e=r.useCollapse?g():c("div",null,[g()]);if(!r.useCollapse)return e;const{canExpand:o,helpMessage:n}=t(w),{title:a}=t(m);return c(T,{title:a,canExpan:o,helpMessage:n},{default:()=>e,action:()=>R(O,"action")})};return _("register",{setDescProps:M}),()=>t($)?W():g()}});export{H as _};
