var m=Object.assign;import{w as v,k as s,j as y,u as x,D as r,d as E,o as j,n as C,q as G}from"./index.0523a5a3.js";var n;(function(e){e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.RESET_PASSWORD=2]="RESET_PASSWORD",e[e.MOBILE=3]="MOBILE",e[e.QR_CODE=4]="QR_CODE"})(n||(n={}));const R=v(0);function P(){function e(l){R.value=l}const o=s(()=>R.value);function t(){e(0)}return{setLoginState:e,getLoginState:o,handleBackLogin:t}}function B(e){async function o(){const t=r(e);return t?await t.validate():void 0}return{validForm:o}}function L(e){const{t:o}=y(),t=x(),l=s(()=>i(o("sys.login.accountPlaceholder"))),F=s(()=>i(o("sys.login.passwordPlaceholder"))),p=s(()=>i(o("sys.login.codePlaceholder"))),T=s(()=>i(o("sys.login.tenantPlaceholder"))),_=s(()=>i(o("sys.login.smsPlaceholder"))),h=s(()=>i(o("sys.login.mobilePlaceholder"))),S=async(c,a)=>a?Promise.resolve():Promise.reject(o("sys.login.policyPlaceholder")),O=c=>async(a,u)=>u?u!==c?Promise.reject(o("sys.login.diffPwd")):Promise.resolve():Promise.reject(o("sys.login.passwordPlaceholder"));return{getFormRules:s(()=>{const c=r(l),a=r(F),u=r(p),b=r(T),w=r(_),I=r(h),g={sms:w,mobile:I},d={account:c,password:a};switch(t.multiTenantType!=="NONE"&&(d.tenantView=b),t.showCaptcha==="true"&&(d.code=u),r(R)){case 1:return m({account:c,password:a,confirmPassword:[{validator:O(e==null?void 0:e.password),trigger:"change"}],policy:[{validator:S,trigger:"change"}]},g);case 2:return m({account:c},g);case 3:return g;default:return d}})}}function i(e){return[{required:!0,message:e,trigger:"change"}]}var f=E({name:"LoginFormTitle",setup(){const{t:e}=y(),{getLoginState:o}=P();return{getFormTitle:s(()=>({[n.RESET_PASSWORD]:e("sys.login.forgetFormTitle"),[n.LOGIN]:e("sys.login.signInFormTitle"),[n.REGISTER]:e("sys.login.signUpFormTitle"),[n.MOBILE]:e("sys.login.mobileSignInFormTitle"),[n.QR_CODE]:e("sys.login.qrSignInFormTitle")})[r(o)])}}});const M={class:"font-bold text-2xl xl:text-3xl enter-x text-center xl:text-left mb-6"};function N(e,o,t,l,F,p){return j(),C("h2",M,G(e.getFormTitle),1)}f.render=N;var k=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:f});export{n as L,f as _,L as a,B as b,k as c,P as u};
